(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function lR(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var vm={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function uR(){if(Mv)return Gl;Mv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=e,Gl.jsx=t,Gl.jsxs=t,Gl}var Pv;function cR(){return Pv||(Pv=1,vm.exports=uR()),vm.exports}var I=cR(),Em={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function hR(){if(Vv)return Re;Vv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function R(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,K={};function k(V,ie,pe){this.props=V,this.context=ie,this.refs=K,this.updater=pe||x}k.prototype.isReactComponent={},k.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function U(){}U.prototype=k.prototype;function $(V,ie,pe){this.props=V,this.context=ie,this.refs=K,this.updater=pe||x}var G=$.prototype=new U;G.constructor=$,P(G,k.prototype),G.isPureReactComponent=!0;var te=Array.isArray,re={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function O(V,ie,pe,oe,le,Ie){return pe=Ie.ref,{$$typeof:i,type:V,key:ie,ref:pe!==void 0?pe:null,props:Ie}}function S(V,ie){return O(V.type,ie,void 0,void 0,void 0,V.props)}function A(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function D(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(pe){return ie[pe]})}var M=/\/+/g;function z(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):ie.toString(36)}function N(){}function We(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(N,N):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function et(V,ie,pe,oe,le){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var Se=!1;if(V===null)Se=!0;else switch(Ie){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(V.$$typeof){case i:case e:Se=!0;break;case E:return Se=V._init,et(Se(V._payload),ie,pe,oe,le)}}if(Se)return le=le(V),Se=oe===""?"."+z(V,0):oe,te(le)?(pe="",Se!=null&&(pe=Se.replace(M,"$&/")+"/"),et(le,ie,pe,"",function(lt){return lt})):le!=null&&(A(le)&&(le=S(le,pe+(le.key==null||V&&V.key===le.key?"":(""+le.key).replace(M,"$&/")+"/")+Se)),ie.push(le)),1;Se=0;var vt=oe===""?".":oe+":";if(te(V))for(var ze=0;ze<V.length;ze++)oe=V[ze],Ie=vt+z(oe,ze),Se+=et(oe,ie,pe,Ie,le);else if(ze=R(V),typeof ze=="function")for(V=ze.call(V),ze=0;!(oe=V.next()).done;)oe=oe.value,Ie=vt+z(oe,ze++),Se+=et(oe,ie,pe,Ie,le);else if(Ie==="object"){if(typeof V.then=="function")return et(We(V),ie,pe,oe,le);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ae(V,ie,pe){if(V==null)return V;var oe=[],le=0;return et(V,oe,"","",function(Ie){return ie.call(pe,Ie,le++)}),oe}function _e(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(pe){(V._status===0||V._status===-1)&&(V._status=1,V._result=pe)},function(pe){(V._status===0||V._status===-1)&&(V._status=2,V._result=pe)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var de=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Fe(){}return Re.Children={map:ae,forEach:function(V,ie,pe){ae(V,function(){ie.apply(this,arguments)},pe)},count:function(V){var ie=0;return ae(V,function(){ie++}),ie},toArray:function(V){return ae(V,function(ie){return ie})||[]},only:function(V){if(!A(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Re.Component=k,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=$,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cloneElement=function(V,ie,pe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=P({},V.props),le=V.key,Ie=void 0;if(ie!=null)for(Se in ie.ref!==void 0&&(Ie=void 0),ie.key!==void 0&&(le=""+ie.key),ie)!he.call(ie,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ie.ref===void 0||(oe[Se]=ie[Se]);var Se=arguments.length-2;if(Se===1)oe.children=pe;else if(1<Se){for(var vt=Array(Se),ze=0;ze<Se;ze++)vt[ze]=arguments[ze+2];oe.children=vt}return O(V.type,le,void 0,void 0,Ie,oe)},Re.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Re.createElement=function(V,ie,pe){var oe,le={},Ie=null;if(ie!=null)for(oe in ie.key!==void 0&&(Ie=""+ie.key),ie)he.call(ie,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=ie[oe]);var Se=arguments.length-2;if(Se===1)le.children=pe;else if(1<Se){for(var vt=Array(Se),ze=0;ze<Se;ze++)vt[ze]=arguments[ze+2];le.children=vt}if(V&&V.defaultProps)for(oe in Se=V.defaultProps,Se)le[oe]===void 0&&(le[oe]=Se[oe]);return O(V,Ie,void 0,void 0,null,le)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:d,render:V}},Re.isValidElement=A,Re.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:_e}},Re.memo=function(V,ie){return{$$typeof:g,type:V,compare:ie===void 0?null:ie}},Re.startTransition=function(V){var ie=re.T,pe={};re.T=pe;try{var oe=V(),le=re.S;le!==null&&le(pe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Fe,de)}catch(Ie){de(Ie)}finally{re.T=ie}},Re.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Re.use=function(V){return re.H.use(V)},Re.useActionState=function(V,ie,pe){return re.H.useActionState(V,ie,pe)},Re.useCallback=function(V,ie){return re.H.useCallback(V,ie)},Re.useContext=function(V){return re.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,ie){return re.H.useDeferredValue(V,ie)},Re.useEffect=function(V,ie){return re.H.useEffect(V,ie)},Re.useId=function(){return re.H.useId()},Re.useImperativeHandle=function(V,ie,pe){return re.H.useImperativeHandle(V,ie,pe)},Re.useInsertionEffect=function(V,ie){return re.H.useInsertionEffect(V,ie)},Re.useLayoutEffect=function(V,ie){return re.H.useLayoutEffect(V,ie)},Re.useMemo=function(V,ie){return re.H.useMemo(V,ie)},Re.useOptimistic=function(V,ie){return re.H.useOptimistic(V,ie)},Re.useReducer=function(V,ie,pe){return re.H.useReducer(V,ie,pe)},Re.useRef=function(V){return re.H.useRef(V)},Re.useState=function(V){return re.H.useState(V)},Re.useSyncExternalStore=function(V,ie,pe){return re.H.useSyncExternalStore(V,ie,pe)},Re.useTransition=function(){return re.H.useTransition()},Re.version="19.0.0",Re}var Lv;function Ap(){return Lv||(Lv=1,Em.exports=hR()),Em.exports}var H=Ap();const nt=lR(H);var Tm={exports:{}},$l={},bm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function fR(){return Uv||(Uv=1,function(i){function e(ae,_e){var de=ae.length;ae.push(_e);e:for(;0<de;){var Fe=de-1>>>1,V=ae[Fe];if(0<o(V,_e))ae[Fe]=_e,ae[de]=V,de=Fe;else break e}}function t(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var _e=ae[0],de=ae.pop();if(de!==_e){ae[0]=de;e:for(var Fe=0,V=ae.length,ie=V>>>1;Fe<ie;){var pe=2*(Fe+1)-1,oe=ae[pe],le=pe+1,Ie=ae[le];if(0>o(oe,de))le<V&&0>o(Ie,oe)?(ae[Fe]=Ie,ae[le]=de,Fe=le):(ae[Fe]=oe,ae[pe]=de,Fe=pe);else if(le<V&&0>o(Ie,de))ae[Fe]=Ie,ae[le]=de,Fe=le;else break e}}return _e}function o(ae,_e){var de=ae.sortIndex-_e.sortIndex;return de!==0?de:ae.id-_e.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,b=null,R=3,x=!1,P=!1,K=!1,k=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function G(ae){for(var _e=t(g);_e!==null;){if(_e.callback===null)s(g);else if(_e.startTime<=ae)s(g),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=t(g)}}function te(ae){if(K=!1,G(ae),!P)if(t(p)!==null)P=!0,We();else{var _e=t(g);_e!==null&&et(te,_e.startTime-ae)}}var re=!1,he=-1,O=5,S=-1;function A(){return!(i.unstable_now()-S<O)}function D(){if(re){var ae=i.unstable_now();S=ae;var _e=!0;try{e:{P=!1,K&&(K=!1,U(he),he=-1),x=!0;var de=R;try{t:{for(G(ae),b=t(p);b!==null&&!(b.expirationTime>ae&&A());){var Fe=b.callback;if(typeof Fe=="function"){b.callback=null,R=b.priorityLevel;var V=Fe(b.expirationTime<=ae);if(ae=i.unstable_now(),typeof V=="function"){b.callback=V,G(ae),_e=!0;break t}b===t(p)&&s(p),G(ae)}else s(p);b=t(p)}if(b!==null)_e=!0;else{var ie=t(g);ie!==null&&et(te,ie.startTime-ae),_e=!1}}break e}finally{b=null,R=de,x=!1}_e=void 0}}finally{_e?M():re=!1}}}var M;if(typeof $=="function")M=function(){$(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,N=z.port2;z.port1.onmessage=D,M=function(){N.postMessage(null)}}else M=function(){k(D,0)};function We(){re||(re=!0,M())}function et(ae,_e){he=k(function(){ae(i.unstable_now())},_e)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ae){ae.callback=null},i.unstable_continueExecution=function(){P||x||(P=!0,We())},i.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ae?Math.floor(1e3/ae):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(ae){switch(R){case 1:case 2:case 3:var _e=3;break;default:_e=R}var de=R;R=_e;try{return ae()}finally{R=de}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ae,_e){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var de=R;R=ae;try{return _e()}finally{R=de}},i.unstable_scheduleCallback=function(ae,_e,de){var Fe=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Fe+de:Fe):de=Fe,ae){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=de+V,ae={id:E++,callback:_e,priorityLevel:ae,startTime:de,expirationTime:V,sortIndex:-1},de>Fe?(ae.sortIndex=de,e(g,ae),t(p)===null&&ae===t(g)&&(K?(U(he),he=-1):K=!0,et(te,de-Fe))):(ae.sortIndex=V,e(p,ae),P||x||(P=!0,We())),ae},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(ae){var _e=R;return function(){var de=R;R=_e;try{return ae.apply(this,arguments)}finally{R=de}}}}(wm)),wm}var jv;function dR(){return jv||(jv=1,bm.exports=fR()),bm.exports}var Am={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function mR(){if(zv)return Xt;zv=1;var i=Ap();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Xt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=d(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:x}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:R,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.0.0",Xt}var Bv;function pR(){if(Bv)return Am.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Am.exports=mR(),Am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function gR(){if(qv)return $l;qv=1;var i=dR(),e=Ap(),t=pR();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),x=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),te=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function he(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function S(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case K:return"Suspense";case k:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case x:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case P:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case U:return r=n.displayName||null,r!==null?r:S(n.type)||"Memo";case $:r=n._payload,n=n._init;try{return S(n(r))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,M,z;function N(n){if(M===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+n+z}var We=!1;function et(n,r){if(!n||We)return"";We=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var Q=X}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(X){Q=X}n.call(ne.prototype)}}else{try{throw Error()}catch(X){Q=X}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],T=m[1];if(v&&T){var C=v.split(`
`),j=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===j.length)for(l=C.length-1,f=j.length-1;1<=l&&0<=f&&C[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==j[f]){var W=`
`+C[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{We=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?N(a):""}function ae(n){switch(n.tag){case 26:case 27:case 5:return N(n.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return n=et(n.type,!1),n;case 11:return n=et(n.type.render,!1),n;case 1:return n=et(n.type,!0),n;default:return""}}function _e(n){try{var r="";do r+=ae(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function de(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Fe(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function V(n){if(de(n)!==n)throw Error(s(188))}function ie(n){var r=n.alternate;if(!r){if(r=de(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return V(f),n;if(m===l)return V(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=m;break}if(T===l){v=!0,l=f,a=m;break}T=T.sibling}if(!v){for(T=m.child;T;){if(T===a){v=!0,a=m,l=f;break}if(T===l){v=!0,l=m,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function pe(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=pe(n),r!==null)return r;n=n.sibling}return null}var oe=Array.isArray,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Se=[],vt=-1;function ze(n){return{current:n}}function lt(n){0>vt||(n.current=Se[vt],Se[vt]=null,vt--)}function Ke(n,r){vt++,Se[vt]=n.current,n.current=r}var tn=ze(null),Di=ze(null),In=ze(null),pr=ze(null);function gr(n,r){switch(Ke(In,r),Ke(Di,n),Ke(tn,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?uv(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=uv(n),r=cv(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}lt(tn),Ke(tn,r)}function Ni(){lt(tn),lt(Di),lt(In)}function zo(n){n.memoizedState!==null&&Ke(pr,n);var r=tn.current,a=cv(r,n.type);r!==a&&(Ke(Di,n),Ke(tn,a))}function wa(n){Di.current===n&&(lt(tn),lt(Di)),pr.current===n&&(lt(pr),zl._currentValue=Ie)}var Aa=Object.prototype.hasOwnProperty,Ts=i.unstable_scheduleCallback,Sa=i.unstable_cancelCallback,Tf=i.unstable_shouldYield,Bo=i.unstable_requestPaint,hn=i.unstable_now,Pu=i.unstable_getCurrentPriorityLevel,St=i.unstable_ImmediatePriority,kt=i.unstable_UserBlockingPriority,Oi=i.unstable_NormalPriority,Vu=i.unstable_LowPriority,qo=i.unstable_IdlePriority,bf=i.log,bs=i.unstable_setDisableYieldValue,yr=null,Qt=null;function Ho(n){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(yr,n,void 0,(n.current.flags&128)===128)}catch{}}function ii(n){if(typeof bf=="function"&&bs(n),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(yr,n)}catch{}}var nn=Math.clz32?Math.clz32:Uu,Fo=Math.log,Lu=Math.LN2;function Uu(n){return n>>>=0,n===0?32:31-(Fo(n)/Lu|0)|0}var ri=128,_r=4194304;function Kn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Cn(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,m=n.pingedLanes,v=n.warmLanes;n=n.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~f,a!==0?l=Kn(a):(m&=T,m!==0?l=Kn(m):n||(v=T&~v,v!==0&&(l=Kn(v))))):(T=a&~f,T!==0?l=Kn(T):m!==0?l=Kn(m):n||(v=a&~v,v!==0&&(l=Kn(v)))),l===0?0:r!==0&&r!==l&&(r&f)===0&&(f=l&-l,v=r&-r,f>=v||f===32&&(v&4194176)!==0)?r:l}function vr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ra(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var n=ri;return ri<<=1,(ri&4194176)===0&&(ri=128),n}function Er(){var n=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),n}function Ia(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function pt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ju(n,r,a,l,f,m){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,C=n.expirationTimes,j=n.hiddenUpdates;for(a=v&~a;0<a;){var W=31-nn(a),ne=1<<W;T[W]=0,C[W]=-1;var Q=j[W];if(Q!==null)for(j[W]=null,W=0;W<Q.length;W++){var X=Q[W];X!==null&&(X.lane&=-536870913)}a&=~ne}l!==0&&Tr(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(v&~r))}function Tr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-nn(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function br(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-nn(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function zu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Bu(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:Cv(n.type))}function wr(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var si=Math.random().toString(36).slice(2),Mt="__reactFiber$"+si,Rt="__reactProps$"+si,xi="__reactContainer$"+si,ws="__reactEvents$"+si,Ca="__reactListeners$"+si,ai="__reactHandles$"+si,$o="__reactResources$"+si,Ar="__reactMarker$"+si;function As(n){delete n[Mt],delete n[Rt],delete n[ws],delete n[Ca],delete n[ai]}function Qn(n){var r=n[Mt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[xi]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=dv(n);n!==null;){if(a=n[Mt])return a;n=dv(n)}return r}n=a,a=n.parentNode}return null}function ki(n){if(n=n[Mt]||n[xi]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Sr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Rr(n){var r=n[$o];return r||(r=n[$o]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function it(n){n[Ar]=!0}var Ko=new Set,Da={};function yn(n,r){fn(n,r),fn(n+"Capture",r)}function fn(n,r){for(Da[n]=r,n=0;n<r.length;n++)Ko.add(r[n])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Yo={};function qu(n){return Aa.call(Yo,n)?!0:Aa.call(Qo,n)?!1:wf.test(n)?Yo[n]=!0:(Qo[n]=!0,!1)}function Ir(n,r,a){if(qu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Cr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Dn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Hu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Af(n){var r=Hu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,m.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ss(n){n._valueTracker||(n._valueTracker=Af(n))}function Xo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Hu(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Na(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Mi=/[\n"\\]/g;function ut(n){return n.replace(Mi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Dr(n,r,a,l,f,m,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+rn(r)):n.value!==""+rn(r)&&(n.value=""+rn(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?Oa(n,v,rn(r)):a!=null?Oa(n,v,rn(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+rn(T):n.removeAttribute("name")}function Rs(n,r,a,l,f,m,v,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+rn(a):"",r=r!=null?""+rn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function Oa(n,r,a){r==="number"&&Na(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Be(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+rn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Is(n,r,a){if(r!=null&&(r=""+rn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+rn(a):""}function Nr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=rn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Nn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Sf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Sf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Fu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Wo(n,f,l)}else for(var m in r)r.hasOwnProperty(m)&&Wo(n,m,r[m])}function Zo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),If=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oi(n){return If.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var On=null;function xa(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Pi=null,Vi=null;function Li(n){var r=ki(n);if(r&&(n=r.stateNode)){var a=n[Rt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Dr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ut(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[Rt]||null;if(!f)throw Error(s(90));Dr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Xo(l)}break e;case"textarea":Is(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Be(n,!!a.multiple,r,!1)}}}var Jo=!1;function Gu(n,r,a){if(Jo)return n(r,a);Jo=!0;try{var l=n(r);return l}finally{if(Jo=!1,(Pi!==null||Vi!==null)&&(Vc(),Pi&&(r=Pi,n=Vi,Vi=Pi=null,Li(r),n)))for(r=0;r<n.length;r++)Li(n[r])}}function Cs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Rt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var xn=!1;if(_n)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){xn=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{xn=!1}var li=null,Or=null,Ui=null;function el(){if(Ui)return Ui;var n,r=Or,a=r.length,l,f="value"in li?li.value:li.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===f[m-l];l++);return Ui=f.slice(n,1<l?1-l:void 0)}function ui(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ci(){return!0}function tl(){return!1}function Pt(n){function r(a,l,f,m,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ci:tl,this.isPropagationStopped=tl,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),r}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=Pt(Ge),Ns=D({},Ge,{view:0,detail:0}),$u=Pt(Ns),Ma,Pa,hi,Os=D({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hi&&(hi&&n.type==="mousemove"?(Ma=n.screenX-hi.screenX,Pa=n.screenY-hi.screenY):Pa=Ma=0,hi=n),Ma)},movementY:function(n){return"movementY"in n?n.movementY:Pa}}),kn=Pt(Os),Ku=D({},Os,{dataTransfer:0}),Cf=Pt(Ku),xs=D({},Ns,{relatedTarget:0}),Va=Pt(xs),nl=D({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),La=Pt(nl),Qu=D({},Ge,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ua=Pt(Qu),Df=D({},Ge,{data:0}),il=Pt(Df),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Xu[n])?!!r[n]:!1}function Ms(){return rl}var Wu=D({},Ns,{key:function(n){if(n.key){var r=ks[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ui(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Yu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(n){return n.type==="keypress"?ui(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ui(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ja=Pt(Wu),Zu=D({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=Pt(Zu),ji=D({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),Ju=Pt(ji),ec=D({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),tc=Pt(ec),nc=D({},Os,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),za=Pt(nc),sn=D({},Ge,{newState:0,oldState:0}),ic=Pt(sn),rc=[9,13,27,32],fi=_n&&"CompositionEvent"in window,c=null;_n&&"documentMode"in document&&(c=document.documentMode);var y=_n&&"TextEvent"in window&&!c,_=_n&&(!fi||c&&8<c&&11>=c),w=" ",q=!1;function Y(n,r){switch(n){case"keyup":return rc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function It(n,r){switch(n){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(q=!0,w);case"textInput":return n=r.data,n===w&&q?null:n;default:return null}}function Ve(n,r){if(Pe)return n==="compositionend"||!fi&&Y(n,r)?(n=el(),Ui=Or=li=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Vt[n.type]:r==="textarea"}function zi(n,r,a,l){Pi?Vi?Vi.push(l):Vi=[l]:Pi=l,r=Bc(r,"onChange"),0<r.length&&(a=new ka("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Bt=null,di=null;function al(n){rv(n,0)}function sc(n){var r=Sr(n);if(Xo(r))return n}function kg(n,r){if(n==="change")return r}var Mg=!1;if(_n){var Nf;if(_n){var Of="oninput"in document;if(!Of){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Of=typeof Pg.oninput=="function"}Nf=Of}else Nf=!1;Mg=Nf&&(!document.documentMode||9<document.documentMode)}function Vg(){Bt&&(Bt.detachEvent("onpropertychange",Lg),di=Bt=null)}function Lg(n){if(n.propertyName==="value"&&sc(di)){var r=[];zi(r,di,n,xa(n)),Gu(al,r)}}function UA(n,r,a){n==="focusin"?(Vg(),Bt=r,di=a,Bt.attachEvent("onpropertychange",Lg)):n==="focusout"&&Vg()}function jA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sc(di)}function zA(n,r){if(n==="click")return sc(r)}function BA(n,r){if(n==="input"||n==="change")return sc(r)}function qA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var vn=typeof Object.is=="function"?Object.is:qA;function ol(n,r){if(vn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Aa.call(r,f)||!vn(n[f],r[f]))return!1}return!0}function Ug(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function jg(n,r){var a=Ug(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ug(a)}}function zg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?zg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Bg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Na(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Na(n.document)}return r}function xf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function HA(n,r){var a=Bg(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&zg(r.ownerDocument.documentElement,r)){if(l!==null&&xf(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,m=Math.min(l.start,f);l=l.end===void 0?m:Math.min(l.end,f),!a.extend&&m>l&&(f=l,l=m,m=f),f=jg(r,m);var v=jg(r,l);f&&v&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>l?(a.addRange(n),a.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var FA=_n&&"documentMode"in document&&11>=document.documentMode,Ba=null,kf=null,ll=null,Mf=!1;function qg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mf||Ba==null||Ba!==Na(l)||(l=Ba,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&ol(ll,l)||(ll=l,l=Bc(kf,"onSelect"),0<l.length&&(r=new ka("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ba)))}function Ps(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var qa={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},Pf={},Hg={};_n&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Vs(n){if(Pf[n])return Pf[n];if(!qa[n])return n;var r=qa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Hg)return Pf[n]=r[a];return n}var Fg=Vs("animationend"),Gg=Vs("animationiteration"),$g=Vs("animationstart"),GA=Vs("transitionrun"),$A=Vs("transitionstart"),KA=Vs("transitioncancel"),Kg=Vs("transitionend"),Qg=new Map,Yg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Yn(n,r){Qg.set(n,r),yn(r,[n])}var Mn=[],Ha=0,Vf=0;function ac(){for(var n=Ha,r=Vf=Ha=0;r<n;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var f=Mn[r];Mn[r++]=null;var m=Mn[r];if(Mn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}m!==0&&Xg(a,f,m)}}function oc(n,r,a,l){Mn[Ha++]=n,Mn[Ha++]=r,Mn[Ha++]=a,Mn[Ha++]=l,Vf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Lf(n,r,a,l){return oc(n,r,a,l),lc(n)}function xr(n,r){return oc(n,null,null,r),lc(n)}function Xg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&r!==null&&n.tag===3&&(m=n.stateNode,f=31-nn(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[r]:n.push(r),r.lane=a|536870912)}function lc(n){if(50<kl)throw kl=0,Hd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Fa={},Wg=new WeakMap;function Pn(n,r){if(typeof n=="object"&&n!==null){var a=Wg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:_e(r)},Wg.set(n,r),r)}return{value:n,source:r,stack:_e(r)}}var Ga=[],$a=0,uc=null,cc=0,Vn=[],Ln=0,Ls=null,Bi=1,qi="";function Us(n,r){Ga[$a++]=cc,Ga[$a++]=uc,uc=n,cc=r}function Zg(n,r,a){Vn[Ln++]=Bi,Vn[Ln++]=qi,Vn[Ln++]=Ls,Ls=n;var l=Bi;n=qi;var f=32-nn(l)-1;l&=~(1<<f),a+=1;var m=32-nn(r)+f;if(30<m){var v=f-f%5;m=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Bi=1<<32-nn(r)+f|a<<f|l,qi=m+n}else Bi=1<<m|a<<f|l,qi=n}function Uf(n){n.return!==null&&(Us(n,1),Zg(n,1,0))}function jf(n){for(;n===uc;)uc=Ga[--$a],Ga[$a]=null,cc=Ga[--$a],Ga[$a]=null;for(;n===Ls;)Ls=Vn[--Ln],Vn[Ln]=null,qi=Vn[--Ln],Vn[Ln]=null,Bi=Vn[--Ln],Vn[Ln]=null}var an=null,qt=null,qe=!1,Xn=null,mi=!1,zf=Error(s(519));function js(n){var r=Error(s(418,""));throw hl(Pn(r,n)),zf}function Jg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Mt]=n,r[Rt]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Pl.length;a++)Me(Pl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Rs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ss(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Nr(r,l.value,l.defaultValue,l.children),Ss(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||lv(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=qc),r=!0):r=!1,r||js(n)}function ey(n){for(an=n.return;an;)switch(an.tag){case 3:case 27:mi=!0;return;case 5:case 13:mi=!1;return;default:an=an.return}}function ul(n){if(n!==an)return!1;if(!qe)return ey(n),qe=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||am(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&qt&&js(n),ey(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){qt=Zn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}qt=null}}else qt=an?Zn(n.stateNode.nextSibling):null;return!0}function cl(){qt=an=null,qe=!1}function hl(n){Xn===null?Xn=[n]:Xn.push(n)}var fl=Error(s(460)),ty=Error(s(474)),Bf={then:function(){}};function ny(n){return n=n.status,n==="fulfilled"||n==="rejected"}function hc(){}function iy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(hc,hc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===fl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(hc,hc);else{if(n=Ze,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===fl?Error(s(483)):n}throw dl=r,fl}}var dl=null;function ry(){if(dl===null)throw Error(s(459));var n=dl;return dl=null,n}var Ka=null,ml=0;function fc(n){var r=ml;return ml+=1,Ka===null&&(Ka=[]),iy(Ka,n,r)}function pl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function dc(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function sy(n){var r=n._init;return r(n._payload)}function ay(n){function r(B,L){if(n){var F=B.deletions;F===null?(B.deletions=[L],B.flags|=16):F.push(L)}}function a(B,L){if(!n)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=Fr(B,L),B.index=0,B.sibling=null,B}function m(B,L,F){return B.index=F,n?(F=B.alternate,F!==null?(F=F.index,F<L?(B.flags|=33554434,L):F):(B.flags|=33554434,L)):(B.flags|=1048576,L)}function v(B){return n&&B.alternate===null&&(B.flags|=33554434),B}function T(B,L,F,Z){return L===null||L.tag!==6?(L=Pd(F,B.mode,Z),L.return=B,L):(L=f(L,F),L.return=B,L)}function C(B,L,F,Z){var fe=F.type;return fe===p?W(B,L,F.props.children,Z,F.key):L!==null&&(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===$&&sy(fe)===L.type)?(L=f(L,F.props),pl(L,F),L.return=B,L):(L=Oc(F.type,F.key,F.props,null,B.mode,Z),pl(L,F),L.return=B,L)}function j(B,L,F,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=Vd(F,B.mode,Z),L.return=B,L):(L=f(L,F.children||[]),L.return=B,L)}function W(B,L,F,Z,fe){return L===null||L.tag!==7?(L=Ys(F,B.mode,Z,fe),L.return=B,L):(L=f(L,F),L.return=B,L)}function ne(B,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Pd(""+L,B.mode,F),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case h:return F=Oc(L.type,L.key,L.props,null,B.mode,F),pl(F,L),F.return=B,F;case d:return L=Vd(L,B.mode,F),L.return=B,L;case $:var Z=L._init;return L=Z(L._payload),ne(B,L,F)}if(oe(L)||he(L))return L=Ys(L,B.mode,F,null),L.return=B,L;if(typeof L.then=="function")return ne(B,fc(L),F);if(L.$$typeof===x)return ne(B,Cc(B,L),F);dc(B,L)}return null}function Q(B,L,F,Z){var fe=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return fe!==null?null:T(B,L,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case h:return F.key===fe?C(B,L,F,Z):null;case d:return F.key===fe?j(B,L,F,Z):null;case $:return fe=F._init,F=fe(F._payload),Q(B,L,F,Z)}if(oe(F)||he(F))return fe!==null?null:W(B,L,F,Z,null);if(typeof F.then=="function")return Q(B,L,fc(F),Z);if(F.$$typeof===x)return Q(B,L,Cc(B,F),Z);dc(B,F)}return null}function X(B,L,F,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(F)||null,T(L,B,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case h:return B=B.get(Z.key===null?F:Z.key)||null,C(L,B,Z,fe);case d:return B=B.get(Z.key===null?F:Z.key)||null,j(L,B,Z,fe);case $:var Ne=Z._init;return Z=Ne(Z._payload),X(B,L,F,Z,fe)}if(oe(Z)||he(Z))return B=B.get(F)||null,W(L,B,Z,fe,null);if(typeof Z.then=="function")return X(B,L,F,fc(Z),fe);if(Z.$$typeof===x)return X(B,L,F,Cc(L,Z),fe);dc(L,Z)}return null}function me(B,L,F,Z){for(var fe=null,Ne=null,ge=L,ve=L=0,jt=null;ge!==null&&ve<F.length;ve++){ge.index>ve?(jt=ge,ge=null):jt=ge.sibling;var He=Q(B,ge,F[ve],Z);if(He===null){ge===null&&(ge=jt);break}n&&ge&&He.alternate===null&&r(B,ge),L=m(He,L,ve),Ne===null?fe=He:Ne.sibling=He,Ne=He,ge=jt}if(ve===F.length)return a(B,ge),qe&&Us(B,ve),fe;if(ge===null){for(;ve<F.length;ve++)ge=ne(B,F[ve],Z),ge!==null&&(L=m(ge,L,ve),Ne===null?fe=ge:Ne.sibling=ge,Ne=ge);return qe&&Us(B,ve),fe}for(ge=l(ge);ve<F.length;ve++)jt=X(ge,B,ve,F[ve],Z),jt!==null&&(n&&jt.alternate!==null&&ge.delete(jt.key===null?ve:jt.key),L=m(jt,L,ve),Ne===null?fe=jt:Ne.sibling=jt,Ne=jt);return n&&ge.forEach(function(Wr){return r(B,Wr)}),qe&&Us(B,ve),fe}function we(B,L,F,Z){if(F==null)throw Error(s(151));for(var fe=null,Ne=null,ge=L,ve=L=0,jt=null,He=F.next();ge!==null&&!He.done;ve++,He=F.next()){ge.index>ve?(jt=ge,ge=null):jt=ge.sibling;var Wr=Q(B,ge,He.value,Z);if(Wr===null){ge===null&&(ge=jt);break}n&&ge&&Wr.alternate===null&&r(B,ge),L=m(Wr,L,ve),Ne===null?fe=Wr:Ne.sibling=Wr,Ne=Wr,ge=jt}if(He.done)return a(B,ge),qe&&Us(B,ve),fe;if(ge===null){for(;!He.done;ve++,He=F.next())He=ne(B,He.value,Z),He!==null&&(L=m(He,L,ve),Ne===null?fe=He:Ne.sibling=He,Ne=He);return qe&&Us(B,ve),fe}for(ge=l(ge);!He.done;ve++,He=F.next())He=X(ge,B,ve,He.value,Z),He!==null&&(n&&He.alternate!==null&&ge.delete(He.key===null?ve:He.key),L=m(He,L,ve),Ne===null?fe=He:Ne.sibling=He,Ne=He);return n&&ge.forEach(function(oR){return r(B,oR)}),qe&&Us(B,ve),fe}function ft(B,L,F,Z){if(typeof F=="object"&&F!==null&&F.type===p&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case h:e:{for(var fe=F.key;L!==null;){if(L.key===fe){if(fe=F.type,fe===p){if(L.tag===7){a(B,L.sibling),Z=f(L,F.props.children),Z.return=B,B=Z;break e}}else if(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===$&&sy(fe)===L.type){a(B,L.sibling),Z=f(L,F.props),pl(Z,F),Z.return=B,B=Z;break e}a(B,L);break}else r(B,L);L=L.sibling}F.type===p?(Z=Ys(F.props.children,B.mode,Z,F.key),Z.return=B,B=Z):(Z=Oc(F.type,F.key,F.props,null,B.mode,Z),pl(Z,F),Z.return=B,B=Z)}return v(B);case d:e:{for(fe=F.key;L!==null;){if(L.key===fe)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){a(B,L.sibling),Z=f(L,F.children||[]),Z.return=B,B=Z;break e}else{a(B,L);break}else r(B,L);L=L.sibling}Z=Vd(F,B.mode,Z),Z.return=B,B=Z}return v(B);case $:return fe=F._init,F=fe(F._payload),ft(B,L,F,Z)}if(oe(F))return me(B,L,F,Z);if(he(F)){if(fe=he(F),typeof fe!="function")throw Error(s(150));return F=fe.call(F),we(B,L,F,Z)}if(typeof F.then=="function")return ft(B,L,fc(F),Z);if(F.$$typeof===x)return ft(B,L,Cc(B,F),Z);dc(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(a(B,L.sibling),Z=f(L,F),Z.return=B,B=Z):(a(B,L),Z=Pd(F,B.mode,Z),Z.return=B,B=Z),v(B)):a(B,L)}return function(B,L,F,Z){try{ml=0;var fe=ft(B,L,F,Z);return Ka=null,fe}catch(ge){if(ge===fl)throw ge;var Ne=Bn(29,ge,null,B.mode);return Ne.lanes=Z,Ne.return=B,Ne}finally{}}}var zs=ay(!0),oy=ay(!1),Qa=ze(null),mc=ze(0);function ly(n,r){n=Ji,Ke(mc,n),Ke(Qa,r),Ji=n|r.baseLanes}function qf(){Ke(mc,Ji),Ke(Qa,Qa.current)}function Hf(){Ji=mc.current,lt(Qa),lt(mc)}var Un=ze(null),pi=null;function kr(n){var r=n.alternate;Ke(Dt,Dt.current&1),Ke(Un,n),pi===null&&(r===null||Qa.current!==null||r.memoizedState!==null)&&(pi=n)}function uy(n){if(n.tag===22){if(Ke(Dt,Dt.current),Ke(Un,n),pi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(pi=n)}}else Mr()}function Mr(){Ke(Dt,Dt.current),Ke(Un,Un.current)}function Hi(n){lt(Un),pi===n&&(pi=null),lt(Dt)}var Dt=ze(0);function pc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var QA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},YA=i.unstable_scheduleCallback,XA=i.unstable_NormalPriority,Nt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new QA,data:new Map,refCount:0}}function gl(n){n.refCount--,n.refCount===0&&YA(XA,function(){n.controller.abort()})}var yl=null,Gf=0,Ya=0,Xa=null;function WA(n,r){if(yl===null){var a=yl=[];Gf=0,Ya=Wd(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,r.then(cy,cy),r}function cy(){if(--Gf===0&&yl!==null){Xa!==null&&(Xa.status="fulfilled");var n=yl;yl=null,Ya=0,Xa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function ZA(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var hy=A.S;A.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&WA(n,r),hy!==null&&hy(n,r)};var Bs=ze(null);function $f(){var n=Bs.current;return n!==null?n:Ze.pooledCache}function gc(n,r){r===null?Ke(Bs,Bs.current):Ke(Bs,r.pool)}function fy(){var n=$f();return n===null?null:{parent:Nt._currentValue,pool:n}}var Pr=0,Ce=null,Qe=null,Et=null,yc=!1,Wa=!1,qs=!1,_c=0,_l=0,Za=null,JA=0;function gt(){throw Error(s(321))}function Kf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!vn(n[a],r[a]))return!1;return!0}function Qf(n,r,a,l,f,m){return Pr=m,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,A.H=n===null||n.memoizedState===null?Hs:Vr,qs=!1,m=a(l,f),qs=!1,Wa&&(m=my(r,a,l,f)),dy(n),m}function dy(n){A.H=gi;var r=Qe!==null&&Qe.next!==null;if(Pr=0,Et=Qe=Ce=null,yc=!1,_l=0,Za=null,r)throw Error(s(300));n===null||Lt||(n=n.dependencies,n!==null&&Ic(n)&&(Lt=!0))}function my(n,r,a,l){Ce=n;var f=0;do{if(Wa&&(Za=null),_l=0,Wa=!1,25<=f)throw Error(s(301));if(f+=1,Et=Qe=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}A.H=Fs,m=r(a,l)}while(Wa);return m}function eS(){var n=A.H,r=n.useState()[0];return r=typeof r.then=="function"?vl(r):r,n=n.useState()[0],(Qe!==null?Qe.memoizedState:null)!==n&&(Ce.flags|=1024),r}function Yf(){var n=_c!==0;return _c=0,n}function Xf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Wf(n){if(yc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}yc=!1}Pr=0,Et=Qe=Ce=null,Wa=!1,_l=_c=0,Za=null}function dn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ce.memoizedState=Et=n:Et=Et.next=n,Et}function Tt(){if(Qe===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var r=Et===null?Ce.memoizedState:Et.next;if(r!==null)Et=r,Qe=n;else{if(n===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Et===null?Ce.memoizedState=Et=n:Et=Et.next=n}return Et}var vc;vc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vl(n){var r=_l;return _l+=1,Za===null&&(Za=[]),n=iy(Za,n,r),r=Ce,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,A.H=r===null||r.memoizedState===null?Hs:Vr),n}function Ec(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return vl(n);if(n.$$typeof===x)return Yt(n)}throw Error(s(438,String(n)))}function Zf(n){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=vc(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=te;return r.index++,a}function Fi(n,r){return typeof r=="function"?r(n):r}function Tc(n){var r=Tt();return Jf(r,Qe,n)}function Jf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}r.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var T=v=null,C=null,j=r,W=!1;do{var ne=j.lane&-536870913;if(ne!==j.lane?(Le&ne)===ne:(Pr&ne)===ne){var Q=j.revertLane;if(Q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ne===Ya&&(W=!0);else if((Pr&Q)===Q){j=j.next,Q===Ya&&(W=!0);continue}else ne={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=ne,v=m):C=C.next=ne,Ce.lanes|=Q,Gr|=Q;ne=j.action,qs&&a(m,ne),m=j.hasEagerState?j.eagerState:a(m,ne)}else Q={lane:ne,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=Q,v=m):C=C.next=Q,Ce.lanes|=ne,Gr|=ne;j=j.next}while(j!==null&&j!==r);if(C===null?v=m:C.next=T,!vn(m,n.memoizedState)&&(Lt=!0,W&&(a=Xa,a!==null)))throw a;n.memoizedState=m,n.baseState=v,n.baseQueue=C,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function ed(n){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=n(m,v.action),v=v.next;while(v!==f);vn(m,r.memoizedState)||(Lt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function py(n,r,a){var l=Ce,f=Tt(),m=qe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!vn((Qe||f).memoizedState,a);if(v&&(f.memoizedState=a,Lt=!0),f=f.queue,id(_y.bind(null,l,f,n),[n]),f.getSnapshot!==r||v||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Ja(9,yy.bind(null,l,f,a,r),{destroy:void 0},null),Ze===null)throw Error(s(349));m||(Pr&60)!==0||gy(l,r,a)}return a}function gy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=vc(),Ce.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function yy(n,r,a,l){r.value=a,r.getSnapshot=l,vy(r)&&Ey(n)}function _y(n,r,a){return a(function(){vy(r)&&Ey(n)})}function vy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!vn(n,a)}catch{return!0}}function Ey(n){var r=xr(n,2);r!==null&&on(r,n,2)}function td(n){var r=dn();if(typeof n=="function"){var a=n;if(n=a(),qs){ii(!0);try{a()}finally{ii(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:n},r}function Ty(n,r,a,l){return n.baseState=a,Jf(n,Qe,typeof l=="function"?l:Fi)}function tS(n,r,a,l,f){if(Ac(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};A.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,by(r,m)):(m.next=a.next,r.pending=a.next=m)}}function by(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var m=A.T,v={};A.T=v;try{var T=a(f,l),C=A.S;C!==null&&C(v,T),wy(n,r,T)}catch(j){nd(n,r,j)}finally{A.T=m}}else try{m=a(f,l),wy(n,r,m)}catch(j){nd(n,r,j)}}function wy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ay(n,r,l)},function(l){return nd(n,r,l)}):Ay(n,r,a)}function Ay(n,r,a){r.status="fulfilled",r.value=a,Sy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,by(n,a)))}function nd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Sy(r),r=r.next;while(r!==l)}n.action=null}function Sy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ry(n,r){return r}function Iy(n,r){if(qe){var a=Ze.formState;if(a!==null){e:{var l=Ce;if(qe){if(qt){t:{for(var f=qt,m=mi;f.nodeType!==8;){if(!m){f=null;break t}if(f=Zn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){qt=Zn(f.nextSibling),l=f.data==="F!";break e}}js(l)}l=!1}l&&(r=a[0])}}return a=dn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ry,lastRenderedState:r},a.queue=l,a=Gy.bind(null,Ce,l),l.dispatch=a,l=td(!1),m=ld.bind(null,Ce,!1,l.queue),l=dn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=tS.bind(null,Ce,f,m,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Cy(n){var r=Tt();return Dy(r,Qe,n)}function Dy(n,r,a){r=Jf(n,r,Ry)[0],n=Tc(Fi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?vl(r):r;var l=Tt(),f=l.queue,m=f.dispatch;return a!==l.memoizedState&&(Ce.flags|=2048,Ja(9,nS.bind(null,f,a),{destroy:void 0},null)),[r,m,n]}function nS(n,r){n.action=r}function Ny(n){var r=Tt(),a=Qe;if(a!==null)return Dy(r,a,n);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Ja(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=Ce.updateQueue,r===null&&(r=vc(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Oy(){return Tt().memoizedState}function bc(n,r,a,l){var f=dn();Ce.flags|=n,f.memoizedState=Ja(1|r,a,{destroy:void 0},l===void 0?null:l)}function wc(n,r,a,l){var f=Tt();l=l===void 0?null:l;var m=f.memoizedState.inst;Qe!==null&&l!==null&&Kf(l,Qe.memoizedState.deps)?f.memoizedState=Ja(r,a,m,l):(Ce.flags|=n,f.memoizedState=Ja(1|r,a,m,l))}function xy(n,r){bc(8390656,8,n,r)}function id(n,r){wc(2048,8,n,r)}function ky(n,r){return wc(4,2,n,r)}function My(n,r){return wc(4,4,n,r)}function Py(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Vy(n,r,a){a=a!=null?a.concat([n]):null,wc(4,4,Py.bind(null,r,n),a)}function rd(){}function Ly(n,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Kf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Uy(n,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Kf(r,l[1]))return l[0];if(l=n(),qs){ii(!0);try{n()}finally{ii(!1)}}return a.memoizedState=[l,r],l}function sd(n,r,a){return a===void 0||(Pr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=z_(),Ce.lanes|=n,Gr|=n,a)}function jy(n,r,a,l){return vn(a,r)?a:Qa.current!==null?(n=sd(n,a,l),vn(n,r)||(Lt=!0),n):(Pr&42)===0?(Lt=!0,n.memoizedState=a):(n=z_(),Ce.lanes|=n,Gr|=n,r)}function zy(n,r,a,l,f){var m=le.p;le.p=m!==0&&8>m?m:8;var v=A.T,T={};A.T=T,ld(n,!1,r,a);try{var C=f(),j=A.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=ZA(C,l);El(n,r,W,wn(n))}else El(n,r,l,wn(n))}catch(ne){El(n,r,{then:function(){},status:"rejected",reason:ne},wn())}finally{le.p=m,A.T=v}}function iS(){}function ad(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=By(n).queue;zy(n,f,r,Ie,a===null?iS:function(){return qy(n),a(l)})}function By(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:Ie},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function qy(n){var r=By(n).next.queue;El(n,r,{},wn())}function od(){return Yt(zl)}function Hy(){return Tt().memoizedState}function Fy(){return Tt().memoizedState}function rS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=wn();n=jr(a);var l=zr(r,n,a);l!==null&&(on(l,r,a),wl(l,r,a)),r={cache:Ff()},n.payload=r;return}r=r.return}}function sS(n,r,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ac(n)?$y(r,a):(a=Lf(n,r,a,l),a!==null&&(on(a,n,l),Ky(a,r,l)))}function Gy(n,r,a){var l=wn();El(n,r,a,l)}function El(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ac(n))$y(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,T=m(v,a);if(f.hasEagerState=!0,f.eagerState=T,vn(T,v))return oc(n,r,f,0),Ze===null&&ac(),!1}catch{}finally{}if(a=Lf(n,r,f,l),a!==null)return on(a,n,l),Ky(a,r,l),!0}return!1}function ld(n,r,a,l){if(l={lane:2,revertLane:Wd(),action:l,hasEagerState:!1,eagerState:null,next:null},Ac(n)){if(r)throw Error(s(479))}else r=Lf(n,a,l,2),r!==null&&on(r,n,2)}function Ac(n){var r=n.alternate;return n===Ce||r!==null&&r===Ce}function $y(n,r){Wa=yc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Ky(n,r,a){if((a&4194176)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,br(n,a)}}var gi={readContext:Yt,use:Ec,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt};gi.useCacheRefresh=gt,gi.useMemoCache=gt,gi.useHostTransitionStatus=gt,gi.useFormState=gt,gi.useActionState=gt,gi.useOptimistic=gt;var Hs={readContext:Yt,use:Ec,useCallback:function(n,r){return dn().memoizedState=[n,r===void 0?null:r],n},useContext:Yt,useEffect:xy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,bc(4194308,4,Py.bind(null,r,n),a)},useLayoutEffect:function(n,r){return bc(4194308,4,n,r)},useInsertionEffect:function(n,r){bc(4,2,n,r)},useMemo:function(n,r){var a=dn();r=r===void 0?null:r;var l=n();if(qs){ii(!0);try{n()}finally{ii(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=dn();if(a!==void 0){var f=a(r);if(qs){ii(!0);try{a(r)}finally{ii(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=sS.bind(null,Ce,n),[l.memoizedState,n]},useRef:function(n){var r=dn();return n={current:n},r.memoizedState=n},useState:function(n){n=td(n);var r=n.queue,a=Gy.bind(null,Ce,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(n,r){var a=dn();return sd(a,n,r)},useTransition:function(){var n=td(!1);return n=zy.bind(null,Ce,n.queue,!0,!1),dn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ce,f=dn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ze===null)throw Error(s(349));(Le&60)!==0||gy(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,xy(_y.bind(null,l,m,n),[n]),l.flags|=2048,Ja(9,yy.bind(null,l,m,a,r),{destroy:void 0},null),a},useId:function(){var n=dn(),r=Ze.identifierPrefix;if(qe){var a=qi,l=Bi;a=(l&~(1<<32-nn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=_c++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=JA++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return dn().memoizedState=rS.bind(null,Ce)}};Hs.useMemoCache=Zf,Hs.useHostTransitionStatus=od,Hs.useFormState=Iy,Hs.useActionState=Iy,Hs.useOptimistic=function(n){var r=dn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ld.bind(null,Ce,!0,a),a.dispatch=r,[n,r]};var Vr={readContext:Yt,use:Ec,useCallback:Ly,useContext:Yt,useEffect:id,useImperativeHandle:Vy,useInsertionEffect:ky,useLayoutEffect:My,useMemo:Uy,useReducer:Tc,useRef:Oy,useState:function(){return Tc(Fi)},useDebugValue:rd,useDeferredValue:function(n,r){var a=Tt();return jy(a,Qe.memoizedState,n,r)},useTransition:function(){var n=Tc(Fi)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:vl(n),r]},useSyncExternalStore:py,useId:Hy};Vr.useCacheRefresh=Fy,Vr.useMemoCache=Zf,Vr.useHostTransitionStatus=od,Vr.useFormState=Cy,Vr.useActionState=Cy,Vr.useOptimistic=function(n,r){var a=Tt();return Ty(a,Qe,n,r)};var Fs={readContext:Yt,use:Ec,useCallback:Ly,useContext:Yt,useEffect:id,useImperativeHandle:Vy,useInsertionEffect:ky,useLayoutEffect:My,useMemo:Uy,useReducer:ed,useRef:Oy,useState:function(){return ed(Fi)},useDebugValue:rd,useDeferredValue:function(n,r){var a=Tt();return Qe===null?sd(a,n,r):jy(a,Qe.memoizedState,n,r)},useTransition:function(){var n=ed(Fi)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:vl(n),r]},useSyncExternalStore:py,useId:Hy};Fs.useCacheRefresh=Fy,Fs.useMemoCache=Zf,Fs.useHostTransitionStatus=od,Fs.useFormState=Ny,Fs.useActionState=Ny,Fs.useOptimistic=function(n,r){var a=Tt();return Qe!==null?Ty(a,Qe,n,r):(a.baseState=n,[n,a.queue.dispatch])};function ud(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:D({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var cd={isMounted:function(n){return(n=n._reactInternals)?de(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=wn(),f=jr(l);f.payload=r,a!=null&&(f.callback=a),r=zr(n,f,l),r!==null&&(on(r,n,l),wl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=wn(),f=jr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=zr(n,f,l),r!==null&&(on(r,n,l),wl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=wn(),l=jr(a);l.tag=2,r!=null&&(l.callback=r),r=zr(n,l,a),r!==null&&(on(r,n,a),wl(r,n,a))}};function Qy(n,r,a,l,f,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,v):r.prototype&&r.prototype.isPureReactComponent?!ol(a,l)||!ol(f,m):!0}function Yy(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&cd.enqueueReplaceState(r,r.state,null)}function Gs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=D({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Sc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Xy(n){Sc(n)}function Wy(n){console.error(n)}function Zy(n){Sc(n)}function Rc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Jy(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hd(n,r,a){return a=jr(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(n,r)},a}function e_(n){return n=jr(n),n.tag=3,n}function t_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){Jy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Jy(r,a,l),typeof f!="function"&&($r===null?$r=new Set([this]):$r.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function aS(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&bl(r,a,f,!0),a=Un.current,a!==null){switch(a.tag){case 13:return pi===null?$d():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Qd(n,l,f)),!1;case 22:return a.flags|=65536,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Qd(n,l,f)),!1}throw Error(s(435,a.tag))}return Qd(n,l,f),$d(),!1}if(qe)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==zf&&(n=Error(s(422),{cause:l}),hl(Pn(n,a)))):(l!==zf&&(r=Error(s(423),{cause:l}),hl(Pn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Pn(l,a),f=hd(n.stateNode,l,f),Rd(n,f),ht!==4&&(ht=2)),!1;var m=Error(s(520),{cause:l});if(m=Pn(m,a),Ol===null?Ol=[m]:Ol.push(m),ht!==4&&(ht=2),r===null)return!0;l=Pn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=hd(a.stateNode,l,n),Rd(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&($r===null||!$r.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=e_(f),t_(f,n,a,l),Rd(a,f),!1}a=a.return}while(a!==null);return!1}var n_=Error(s(461)),Lt=!1;function Ht(n,r,a,l){r.child=n===null?oy(r,null,a,l):zs(r,n.child,a,l)}function i_(n,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ks(r),l=Qf(n,r,a,v,m,f),T=Yf(),n!==null&&!Lt?(Xf(n,r,f),Gi(n,r,f)):(qe&&T&&Uf(r),r.flags|=1,Ht(n,r,l,f),r.child)}function r_(n,r,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!Md(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,s_(n,r,m,l,f)):(n=Oc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Ed(n,f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(v,l)&&n.ref===r.ref)return Gi(n,r,f)}return r.flags|=1,n=Fr(m,l),n.ref=r.ref,n.return=r,r.child=n}function s_(n,r,a,l,f){if(n!==null){var m=n.memoizedProps;if(ol(m,l)&&n.ref===r.ref)if(Lt=!1,r.pendingProps=l=m,Ed(n,f))(n.flags&131072)!==0&&(Lt=!0);else return r.lanes=n.lanes,Gi(n,r,f)}return fd(n,r,a,l,f)}function a_(n,r,a){var l=r.pendingProps,f=l.children,m=(r.stateNode._pendingVisibility&2)!==0,v=n!==null?n.memoizedState:null;if(Tl(n,r),l.mode==="hidden"||m){if((r.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return o_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&gc(r,v!==null?v.cachePool:null),v!==null?ly(r,v):qf(),uy(r);else return r.lanes=r.childLanes=536870912,o_(n,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(gc(r,v.cachePool),ly(r,v),Mr(),r.memoizedState=null):(n!==null&&gc(r,null),qf(),Mr());return Ht(n,r,f,a),r.child}function o_(n,r,a,l){var f=$f();return f=f===null?null:{parent:Nt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&gc(r,null),qf(),uy(r),n!==null&&bl(n,r,l,!0),null}function Tl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function fd(n,r,a,l,f){return Ks(r),a=Qf(n,r,a,l,void 0,f),l=Yf(),n!==null&&!Lt?(Xf(n,r,f),Gi(n,r,f)):(qe&&l&&Uf(r),r.flags|=1,Ht(n,r,a,f),r.child)}function l_(n,r,a,l,f,m){return Ks(r),r.updateQueue=null,a=my(r,l,a,f),dy(n),l=Yf(),n!==null&&!Lt?(Xf(n,r,m),Gi(n,r,m)):(qe&&l&&Uf(r),r.flags|=1,Ht(n,r,a,m),r.child)}function u_(n,r,a,l,f){if(Ks(r),r.stateNode===null){var m=Fa,v=a.contextType;typeof v=="object"&&v!==null&&(m=Yt(v)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=cd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Ad(r),v=a.contextType,m.context=typeof v=="object"&&v!==null?Yt(v):Fa,m.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ud(r,a,v,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&cd.enqueueReplaceState(m,m.state,null),Sl(r,l,m,f),Al(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var T=r.memoizedProps,C=Gs(a,T);m.props=C;var j=m.context,W=a.contextType;v=Fa,typeof W=="object"&&W!==null&&(v=Yt(W));var ne=a.getDerivedStateFromProps;W=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||j!==v)&&Yy(r,m,l,v),Ur=!1;var Q=r.memoizedState;m.state=Q,Sl(r,l,m,f),Al(),j=r.memoizedState,T||Q!==j||Ur?(typeof ne=="function"&&(ud(r,a,ne,l),j=r.memoizedState),(C=Ur||Qy(r,a,C,l,Q,j,v))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),m.props=l,m.state=j,m.context=v,l=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Sd(n,r),v=r.memoizedProps,W=Gs(a,v),m.props=W,ne=r.pendingProps,Q=m.context,j=a.contextType,C=Fa,typeof j=="object"&&j!==null&&(C=Yt(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==ne||Q!==C)&&Yy(r,m,l,C),Ur=!1,Q=r.memoizedState,m.state=Q,Sl(r,l,m,f),Al();var X=r.memoizedState;v!==ne||Q!==X||Ur||n!==null&&n.dependencies!==null&&Ic(n.dependencies)?(typeof T=="function"&&(ud(r,a,T,l),X=r.memoizedState),(W=Ur||Qy(r,a,W,l,Q,X,C)||n!==null&&n.dependencies!==null&&Ic(n.dependencies))?(j||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,X,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,X,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&Q===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&Q===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),m.props=l,m.state=X,m.context=C,l=W):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&Q===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&Q===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,Tl(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=zs(r,n.child,null,f),r.child=zs(r,null,a,f)):Ht(n,r,a,f),r.memoizedState=m.state,n=r.child):n=Gi(n,r,f),n}function c_(n,r,a,l){return cl(),r.flags|=256,Ht(n,r,a,l),r.child}var dd={dehydrated:null,treeContext:null,retryLane:0};function md(n){return{baseLanes:n,cachePool:fy()}}function pd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=qn),n}function h_(n,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,v;if((v=m)||(v=n!==null&&n.memoizedState===null?!1:(Dt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(qe){if(f?kr(r):Mr(),qe){var T=qt,C;if(C=T){e:{for(C=T,T=mi;C.nodeType!==8;){if(!T){T=null;break e}if(C=Zn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ls!==null?{id:Bi,overflow:qi}:null,retryLane:536870912},C=Bn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,an=r,qt=null,C=!0):C=!1}C||js(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;Hi(r)}return T=l.children,l=l.fallback,f?(Mr(),f=r.mode,T=yd({mode:"hidden",children:T},f),l=Ys(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=md(a),f.childLanes=pd(n,v,a),r.memoizedState=dd,l):(kr(r),gd(r,T))}if(C=n.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(m)r.flags&256?(kr(r),r.flags&=-257,r=_d(n,r,a)):r.memoizedState!==null?(Mr(),r.child=n.child,r.flags|=128,r=null):(Mr(),f=l.fallback,T=r.mode,l=yd({mode:"visible",children:l.children},T),f=Ys(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,zs(r,n.child,null,a),l=r.child,l.memoizedState=md(a),l.childLanes=pd(n,v,a),r.memoizedState=dd,r=f);else if(kr(r),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,hl({value:l,source:null,stack:null}),r=_d(n,r,a)}else if(Lt||bl(n,r,a,!1),v=(a&n.childLanes)!==0,Lt||v){if(v=Ze,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,xr(n,l),on(v,n,l),n_}T.data==="$?"||$d(),r=_d(n,r,a)}else T.data==="$?"?(r.flags|=128,r.child=n.child,r=TS.bind(null,n),T._reactRetry=r,r=null):(n=C.treeContext,qt=Zn(T.nextSibling),an=r,qe=!0,Xn=null,mi=!1,n!==null&&(Vn[Ln++]=Bi,Vn[Ln++]=qi,Vn[Ln++]=Ls,Bi=n.id,qi=n.overflow,Ls=r),r=gd(r,l.children),r.flags|=4096);return r}return f?(Mr(),f=l.fallback,T=r.mode,C=n.child,j=C.sibling,l=Fr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,j!==null?f=Fr(j,f):(f=Ys(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=n.child.memoizedState,T===null?T=md(a):(C=T.cachePool,C!==null?(j=Nt._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=fy(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=pd(n,v,a),r.memoizedState=dd,l):(kr(r),a=n.child,n=a.sibling,a=Fr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function gd(n,r){return r=yd({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function yd(n,r){return L_(n,r,0,null)}function _d(n,r,a){return zs(r,n.child,null,a),n=gd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function f_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),bd(n.return,r,a)}function vd(n,r,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function d_(n,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(Ht(n,r,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&f_(n,a,r);else if(n.tag===19)f_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Ke(Dt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&pc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),vd(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&pc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}vd(r,!0,a,null,m);break;case"together":vd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Gi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Gr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(bl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Fr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Fr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Ed(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Ic(n)))}function oS(n,r,a){switch(r.tag){case 3:gr(r,r.stateNode.containerInfo),Lr(r,Nt,n.memoizedState.cache),cl();break;case 27:case 5:zo(r);break;case 4:gr(r,r.stateNode.containerInfo);break;case 10:Lr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?h_(n,r,a):(kr(r),n=Gi(n,r,a),n!==null?n.sibling:null);kr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(bl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return d_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(Dt,Dt.current),l)break;return null;case 22:case 23:return r.lanes=0,a_(n,r,a);case 24:Lr(r,Nt,n.memoizedState.cache)}return Gi(n,r,a)}function m_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Lt=!0;else{if(!Ed(n,a)&&(r.flags&128)===0)return Lt=!1,oS(n,r,a);Lt=(n.flags&131072)!==0}else Lt=!1,qe&&(r.flags&1048576)!==0&&Zg(r,cc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Md(l)?(n=Gs(l,n),r.tag=1,r=u_(null,r,l,n,a)):(r.tag=0,r=fd(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===P){r.tag=11,r=i_(null,r,l,n,a);break e}else if(f===U){r.tag=14,r=r_(null,r,l,n,a);break e}}throw r=S(l)||l,Error(s(306,r,""))}}return r;case 0:return fd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Gs(l,r.pendingProps),u_(n,r,l,f,a);case 3:e:{if(gr(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var m=r.pendingProps;f=r.memoizedState,l=f.element,Sd(n,r),Sl(r,m,null,a);var v=r.memoizedState;if(m=v.cache,Lr(r,Nt,m),m!==f.cache&&wd(r,[Nt],a,!0),Al(),m=v.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=c_(n,r,m,a);break e}else if(m!==l){l=Pn(Error(s(424)),r),hl(l),r=c_(n,r,m,a);break e}else for(qt=Zn(r.stateNode.containerInfo.firstChild),an=r,qe=!0,Xn=null,mi=!0,a=oy(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(cl(),m===l){r=Gi(n,r,a);break e}Ht(n,r,m,a)}r=r.child}return r;case 26:return Tl(n,r),n===null?(a=yv(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,n=r.pendingProps,l=Hc(In.current).createElement(a),l[Mt]=r,l[Rt]=n,Ft(l,a,n),it(l),r.stateNode=l):r.memoizedState=yv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return zo(r),n===null&&qe&&(l=r.stateNode=mv(r.type,r.pendingProps,In.current),an=r,mi=!0,qt=Zn(l.firstChild)),l=r.pendingProps.children,n!==null||qe?Ht(n,r,l,a):r.child=zs(r,null,l,a),Tl(n,r),r.child;case 5:return n===null&&qe&&((f=l=qt)&&(l=LS(l,r.type,r.pendingProps,mi),l!==null?(r.stateNode=l,an=r,qt=Zn(l.firstChild),mi=!1,f=!0):f=!1),f||js(r)),zo(r),f=r.type,m=r.pendingProps,v=n!==null?n.memoizedProps:null,l=m.children,am(f,m)?l=null:v!==null&&am(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Qf(n,r,eS,null,null,a),zl._currentValue=f),Tl(n,r),Ht(n,r,l,a),r.child;case 6:return n===null&&qe&&((n=a=qt)&&(a=US(a,r.pendingProps,mi),a!==null?(r.stateNode=a,an=r,qt=null,n=!0):n=!1),n||js(r)),null;case 13:return h_(n,r,a);case 4:return gr(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=zs(r,null,l,a):Ht(n,r,l,a),r.child;case 11:return i_(n,r,r.type,r.pendingProps,a);case 7:return Ht(n,r,r.pendingProps,a),r.child;case 8:return Ht(n,r,r.pendingProps.children,a),r.child;case 12:return Ht(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Lr(r,r.type,l.value),Ht(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ks(r),f=Yt(f),l=l(f),r.flags|=1,Ht(n,r,l,a),r.child;case 14:return r_(n,r,r.type,r.pendingProps,a);case 15:return s_(n,r,r.type,r.pendingProps,a);case 19:return d_(n,r,a);case 22:return a_(n,r,a);case 24:return Ks(r),l=Yt(Nt),n===null?(f=$f(),f===null&&(f=Ze,m=Ff(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},Ad(r),Lr(r,Nt,f)):((n.lanes&a)!==0&&(Sd(n,r),Sl(r,null,null,a),Al()),f=n.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Lr(r,Nt,l)):(l=m.cache,Lr(r,Nt,l),l!==f.cache&&wd(r,[Nt],a,!0))),Ht(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Td=ze(null),$s=null,$i=null;function Lr(n,r,a){Ke(Td,r._currentValue),r._currentValue=a}function Ki(n){n._currentValue=Td.current,lt(Td)}function bd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function wd(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var C=0;C<r.length;C++)if(T.context===r[C]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),bd(m.return,a,n),l||(v=null);break e}m=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),bd(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function bl(n,r,a,l){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;vn(f.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(f===pr.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(zl):n=[zl])}f=f.return}n!==null&&wd(r,n,a,l),r.flags|=262144}function Ic(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ks(n){$s=n,$i=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yt(n){return p_($s,n)}function Cc(n,r){return $s===null&&Ks(n),p_(n,r)}function p_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},$i===null){if(n===null)throw Error(s(308));$i=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else $i=$i.next=r;return a}var Ur=!1;function Ad(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function jr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function zr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=lc(n),Xg(n,null,a),r}return oc(n,l,r,a),lc(n)}function wl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,br(n,a)}}function Rd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Id=!1;function Al(){if(Id){var n=Xa;if(n!==null)throw n}}function Sl(n,r,a,l){Id=!1;var f=n.updateQueue;Ur=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,j=C.next;C.next=null,v===null?m=j:v.next=j,v=C;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=j:T.next=j,W.lastBaseUpdate=C))}if(m!==null){var ne=f.baseState;v=0,W=j=C=null,T=m;do{var Q=T.lane&-536870913,X=Q!==T.lane;if(X?(Le&Q)===Q:(l&Q)===Q){Q!==0&&Q===Ya&&(Id=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=n,we=T;Q=r;var ft=a;switch(we.tag){case 1:if(me=we.payload,typeof me=="function"){ne=me.call(ft,ne,Q);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=we.payload,Q=typeof me=="function"?me.call(ft,ne,Q):me,Q==null)break e;ne=D({},ne,Q);break e;case 2:Ur=!0}}Q=T.callback,Q!==null&&(n.flags|=64,X&&(n.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(j=W=X,C=ne):W=W.next=X,v|=Q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;X=T,T=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);W===null&&(C=ne),f.baseState=C,f.firstBaseUpdate=j,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),Gr|=v,n.lanes=v,n.memoizedState=ne}}function g_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function y_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)g_(a[n],r)}function Rl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){Xe(r,r.return,T)}}function Br(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=r;var C=a;try{T()}catch(j){Xe(f,C,j)}}}l=l.next}while(l!==m)}}catch(j){Xe(r,r.return,j)}}function __(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{y_(r,a)}catch(l){Xe(n,n.return,l)}}}function v_(n,r,a){a.props=Gs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(n,r,l)}}function Qs(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){Xe(n,r,m)}}function En(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(n,r,f)}else a.current=null}function E_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(n,n.return,f)}}function T_(n,r,a){try{var l=n.stateNode;xS(l,n.type,a,r),l[Rt]=r}catch(f){Xe(n,n.return,f)}}function b_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Cd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||b_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Dd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=qc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Dd(n,r,a),n=n.sibling;n!==null;)Dd(n,r,a),n=n.sibling}function Dc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Dc(n,r,a),n=n.sibling;n!==null;)Dc(n,r,a),n=n.sibling}var Qi=!1,ct=!1,Nd=!1,w_=typeof WeakSet=="function"?WeakSet:Set,Ut=null,A_=!1;function lS(n,r){if(n=n.containerInfo,rm=Yc,n=Bg(n),xf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,T=-1,C=-1,j=0,W=0,ne=n,Q=null;t:for(;;){for(var X;ne!==a||f!==0&&ne.nodeType!==3||(T=v+f),ne!==m||l!==0&&ne.nodeType!==3||(C=v+l),ne.nodeType===3&&(v+=ne.nodeValue.length),(X=ne.firstChild)!==null;)Q=ne,ne=X;for(;;){if(ne===n)break t;if(Q===a&&++j===f&&(T=v),Q===m&&++W===l&&(C=v),(X=ne.nextSibling)!==null)break;ne=Q,Q=ne.parentNode}ne=X}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(sm={focusedElem:n,selectionRange:a},Yc=!1,Ut=r;Ut!==null;)if(r=Ut,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Ut=n;else for(;Ut!==null;){switch(r=Ut,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var me=Gs(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(me,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(we){Xe(a,a.return,we)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)um(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":um(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Ut=n;break}Ut=r.return}return me=A_,A_=!1,me}function S_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(n,a),l&4&&Rl(5,a);break;case 1:if(Xi(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){Xe(a,a.return,T)}else{var f=Gs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Xe(a,a.return,T)}}l&64&&__(a),l&512&&Qs(a,a.return);break;case 3:if(Xi(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{y_(l,n)}catch(T){Xe(a,a.return,T)}}break;case 26:Xi(n,a),l&512&&Qs(a,a.return);break;case 27:case 5:Xi(n,a),r===null&&l&4&&E_(a),l&512&&Qs(a,a.return);break;case 12:Xi(n,a);break;case 13:Xi(n,a),l&4&&C_(n,a);break;case 22:if(f=a.memoizedState!==null||Qi,!f){r=r!==null&&r.memoizedState!==null||ct;var m=Qi,v=ct;Qi=f,(ct=r)&&!v?qr(n,a,(a.subtreeFlags&8772)!==0):Xi(n,a),Qi=m,ct=v}l&512&&(a.memoizedProps.mode==="manual"?Qs(a,a.return):En(a,a.return));break;default:Xi(n,a)}}function R_(n){var r=n.alternate;r!==null&&(n.alternate=null,R_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&As(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var bt=null,Tn=!1;function Yi(n,r,a){for(a=a.child;a!==null;)I_(n,r,a),a=a.sibling}function I_(n,r,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(yr,a)}catch{}switch(a.tag){case 26:ct||En(a,r),Yi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||En(a,r);var l=bt,f=Tn;for(bt=a.stateNode,Yi(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);As(a),bt=l,Tn=f;break;case 5:ct||En(a,r);case 6:f=bt;var m=Tn;if(bt=null,Yi(n,r,a),bt=f,Tn=m,bt!==null)if(Tn)try{n=bt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(v){Xe(a,r,v)}else try{bt.removeChild(a.stateNode)}catch(v){Xe(a,r,v)}break;case 18:bt!==null&&(Tn?(r=bt,a=a.stateNode,r.nodeType===8?lm(r.parentNode,a):r.nodeType===1&&lm(r,a),Fl(r)):lm(bt,a.stateNode));break;case 4:l=bt,f=Tn,bt=a.stateNode.containerInfo,Tn=!0,Yi(n,r,a),bt=l,Tn=f;break;case 0:case 11:case 14:case 15:ct||Br(2,a,r),ct||Br(4,a,r),Yi(n,r,a);break;case 1:ct||(En(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v_(a,r,l)),Yi(n,r,a);break;case 21:Yi(n,r,a);break;case 22:ct||En(a,r),ct=(l=ct)||a.memoizedState!==null,Yi(n,r,a),ct=l;break;default:Yi(n,r,a)}}function C_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Fl(n)}catch(a){Xe(r,r.return,a)}}function uS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new w_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new w_),r;default:throw Error(s(435,n.tag))}}function Od(n,r){var a=uS(n);r.forEach(function(l){var f=bS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function jn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:bt=T.stateNode,Tn=!1;break e;case 3:bt=T.stateNode.containerInfo,Tn=!0;break e;case 4:bt=T.stateNode.containerInfo,Tn=!0;break e}T=T.return}if(bt===null)throw Error(s(160));I_(m,v,f),bt=null,Tn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)D_(r,n),r=r.sibling}var Wn=null;function D_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:jn(r,n),zn(n),l&4&&(Br(3,n,n.return),Rl(3,n),Br(5,n,n.return));break;case 1:jn(r,n),zn(n),l&512&&(ct||a===null||En(a,a.return)),l&64&&Qi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Wn;if(jn(r,n),zn(n),l&512&&(ct||a===null||En(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ar]||m[Mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ft(m,l,a),m[Mt]=n,it(m),l=m;break e;case"link":var v=Ev("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(m=v[T],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}m=f.createElement(l),Ft(m,l,a),f.head.appendChild(m);break;case"meta":if(v=Ev("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(m=v[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}m=f.createElement(l),Ft(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Mt]=n,it(m),l=m}n.stateNode=l}else Tv(f,n.type,n.stateNode);else n.stateNode=vv(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Tv(f,n.type,n.stateNode):vv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&T_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var C=f.firstChild;C;){var j=C.nextSibling,W=C.nodeName;C[Ar]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=j}for(var ne=n.type,Q=f.attributes;Q.length;)f.removeAttributeNode(Q[0]);Ft(f,ne,m),f[Mt]=n,f[Rt]=m}catch(me){Xe(n,n.return,me)}}case 5:if(jn(r,n),zn(n),l&512&&(ct||a===null||En(a,a.return)),n.flags&32){f=n.stateNode;try{Nn(f,"")}catch(me){Xe(n,n.return,me)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,T_(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Nd=!0);break;case 6:if(jn(r,n),zn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(me){Xe(n,n.return,me)}}break;case 3:if($c=null,f=Wn,Wn=Fc(r.containerInfo),jn(r,n),Wn=f,zn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fl(r.containerInfo)}catch(me){Xe(n,n.return,me)}Nd&&(Nd=!1,N_(n));break;case 4:l=Wn,Wn=Fc(n.stateNode.containerInfo),jn(r,n),zn(n),Wn=l;break;case 12:jn(r,n),zn(n);break;case 13:jn(r,n),zn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zd=hn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Od(n,l)));break;case 22:if(l&512&&(ct||a===null||En(a,a.return)),C=n.memoizedState!==null,j=a!==null&&a.memoizedState!==null,W=Qi,ne=ct,Qi=W||C,ct=ne||j,jn(r,n),ct=ne,Qi=W,zn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=C?r._visibility&-2:r._visibility|1,C&&(r=Qi||ct,a===null||j||r||eo(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){j=a=r;try{if(f=j.stateNode,C)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=j.stateNode,T=j.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(me){Xe(j,j.return,me)}}}else if(r.tag===6){if(a===null){j=r;try{j.stateNode.nodeValue=C?"":j.memoizedProps}catch(me){Xe(j,j.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Od(n,a))));break;case 19:jn(r,n),zn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Od(n,l)));break;case 21:break;default:jn(r,n),zn(n)}}function zn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(b_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,m=Cd(n);Dc(n,m,f);break;case 5:var v=l.stateNode;l.flags&32&&(Nn(v,""),l.flags&=-33);var T=Cd(n);Dc(n,T,v);break;case 3:case 4:var C=l.stateNode.containerInfo,j=Cd(n);Dd(n,j,C);break;default:throw Error(s(161))}}}catch(W){Xe(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function N_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;N_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Xi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)S_(n,r.alternate,r),r=r.sibling}function eo(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Br(4,r,r.return),eo(r);break;case 1:En(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&v_(r,r.return,a),eo(r);break;case 26:case 27:case 5:En(r,r.return),eo(r);break;case 22:En(r,r.return),r.memoizedState===null&&eo(r);break;default:eo(r)}n=n.sibling}}function qr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,m=r,v=m.flags;switch(m.tag){case 0:case 11:case 15:qr(f,m,a),Rl(4,m);break;case 1:if(qr(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Xe(l,l.return,j)}if(l=m,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)g_(C[f],T)}catch(j){Xe(l,l.return,j)}}a&&v&64&&__(m),Qs(m,m.return);break;case 26:case 27:case 5:qr(f,m,a),a&&l===null&&v&4&&E_(m),Qs(m,m.return);break;case 12:qr(f,m,a);break;case 13:qr(f,m,a),a&&v&4&&C_(f,m);break;case 22:m.memoizedState===null&&qr(f,m,a),Qs(m,m.return);break;default:qr(f,m,a)}r=r.sibling}}function xd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&gl(a))}function kd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&gl(n))}function Hr(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)O_(n,r,a,l),r=r.sibling}function O_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Hr(n,r,a,l),f&2048&&Rl(9,r);break;case 3:Hr(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&gl(n)));break;case 12:if(f&2048){Hr(n,r,a,l),n=r.stateNode;try{var m=r.memoizedProps,v=m.id,T=m.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Xe(r,r.return,C)}}else Hr(n,r,a,l);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?Hr(n,r,a,l):Il(n,r):m._visibility&4?Hr(n,r,a,l):(m._visibility|=4,to(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&xd(r.alternate,r);break;case 24:Hr(n,r,a,l),f&2048&&kd(r.alternate,r);break;default:Hr(n,r,a,l)}}function to(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,v=r,T=a,C=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:to(m,v,T,C,f),Rl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&4?to(m,v,T,C,f):Il(m,v):(W._visibility|=4,to(m,v,T,C,f)),f&&j&2048&&xd(v.alternate,v);break;case 24:to(m,v,T,C,f),f&&j&2048&&kd(v.alternate,v);break;default:to(m,v,T,C,f)}r=r.sibling}}function Il(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Il(a,l),f&2048&&xd(l.alternate,l);break;case 24:Il(a,l),f&2048&&kd(l.alternate,l);break;default:Il(a,l)}r=r.sibling}}var Cl=8192;function no(n){if(n.subtreeFlags&Cl)for(n=n.child;n!==null;)x_(n),n=n.sibling}function x_(n){switch(n.tag){case 26:no(n),n.flags&Cl&&n.memoizedState!==null&&WS(Wn,n.memoizedState,n.memoizedProps);break;case 5:no(n);break;case 3:case 4:var r=Wn;Wn=Fc(n.stateNode.containerInfo),no(n),Wn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Cl,Cl=16777216,no(n),Cl=r):no(n));break;default:no(n)}}function k_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Dl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,P_(l,n)}k_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)M_(n),n=n.sibling}function M_(n){switch(n.tag){case 0:case 11:case 15:Dl(n),n.flags&2048&&Br(9,n,n.return);break;case 3:Dl(n);break;case 12:Dl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Nc(n)):Dl(n);break;default:Dl(n)}}function Nc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,P_(l,n)}k_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Br(8,r,r.return),Nc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Nc(r));break;default:Nc(r)}n=n.sibling}}function P_(n,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Br(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=n;Ut!==null;){l=Ut;var f=l.sibling,m=l.return;if(R_(l),l===a){Ut=null;break e}if(f!==null){f.return=m,Ut=f;break e}Ut=m}}}function cS(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(n,r,a,l){return new cS(n,r,a,l)}function Md(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fr(n,r){var a=n.alternate;return a===null?(a=Bn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function V_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Oc(n,r,a,l,f,m){var v=0;if(l=n,typeof n=="function")Md(n)&&(v=1);else if(typeof n=="string")v=YS(n,a,tn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Ys(a.children,f,m,r);case g:v=8,f|=24;break;case E:return n=Bn(12,a,r,f|2),n.elementType=E,n.lanes=m,n;case K:return n=Bn(13,a,r,f),n.elementType=K,n.lanes=m,n;case k:return n=Bn(19,a,r,f),n.elementType=k,n.lanes=m,n;case G:return L_(a,f,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case x:v=10;break e;case R:v=9;break e;case P:v=11;break e;case U:v=14;break e;case $:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Bn(v,a,r,f),r.elementType=n,r.type=l,r.lanes=m,r}function Ys(n,r,a,l){return n=Bn(7,n,l,r),n.lanes=a,n}function L_(n,r,a,l){n=Bn(22,n,l,r),n.elementType=G,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var v=xr(m,2);v!==null&&(f._pendingVisibility|=2,on(v,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var v=xr(m,2);v!==null&&(f._pendingVisibility&=-3,on(v,m,2))}}};return n.stateNode=f,n}function Pd(n,r,a){return n=Bn(6,n,null,r),n.lanes=a,n}function Vd(n,r,a){return r=Bn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Wi(n){n.flags|=4}function U_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!bv(r)){if(r=Un.current,r!==null&&((Le&4194176)===Le?pi!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==pi))throw dl=Bf,ty;n.flags|=8192}}function xc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Er():536870912,n.lanes|=r,ro|=r)}function Nl(n,r){if(!qe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function rt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function hS(n,r,a){var l=r.pendingProps;switch(jf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ki(Nt),Ni(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ul(r)?Wi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Xn!==null&&(Fd(Xn),Xn=null))),rt(r),null;case 26:return a=r.memoizedState,n===null?(Wi(r),a!==null?(rt(r),U_(r,a)):(rt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Wi(r),rt(r),U_(r,a)):(rt(r),r.flags&=-16777217):(n.memoizedProps!==l&&Wi(r),rt(r),r.flags&=-16777217),null;case 27:wa(r),a=In.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}n=tn.current,ul(r)?Jg(r):(n=mv(f,l,a),r.stateNode=n,Wi(r))}return rt(r),null;case 5:if(wa(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(n=tn.current,ul(r))Jg(r);else{switch(f=Hc(In.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Mt]=r,n[Rt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Ft(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Wi(r)}}return rt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Wi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=In.current,ul(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=an,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Mt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||lv(n.nodeValue,a)),n||js(r)}else n=Hc(n).createTextNode(l),n[Mt]=r,r.stateNode=n}return rt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ul(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Mt]=r}else cl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),f=!1}else Xn!==null&&(Fd(Xn),Xn=null),f=!0;if(!f)return r.flags&256?(Hi(r),r):(Hi(r),null)}if(Hi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),xc(r,r.updateQueue),rt(r),null;case 4:return Ni(),n===null&&tm(r.stateNode.containerInfo),rt(r),null;case 10:return Ki(r.type),rt(r),null;case 19:if(lt(Dt),f=r.memoizedState,f===null)return rt(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)Nl(f,!1);else{if(ht!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=pc(n),m!==null){for(r.flags|=128,Nl(f,!1),n=m.updateQueue,r.updateQueue=n,xc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)V_(a,n),a=a.sibling;return Ke(Dt,Dt.current&1|2),r.child}n=n.sibling}f.tail!==null&&hn()>kc&&(r.flags|=128,l=!0,Nl(f,!1),r.lanes=4194304)}else{if(!l)if(n=pc(m),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,xc(r,n),Nl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!qe)return rt(r),null}else 2*hn()-f.renderingStartTime>kc&&a!==536870912&&(r.flags|=128,l=!0,Nl(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=hn(),r.sibling=null,n=Dt.current,Ke(Dt,l?n&1|2:n&1),r):(rt(r),null);case 22:case 23:return Hi(r),Hf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&xc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&lt(Bs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ki(Nt),rt(r),null;case 25:return null}throw Error(s(156,r.tag))}function fS(n,r){switch(jf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ki(Nt),Ni(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return wa(r),null;case 13:if(Hi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));cl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return lt(Dt),null;case 4:return Ni(),null;case 10:return Ki(r.type),null;case 22:case 23:return Hi(r),Hf(),n!==null&&lt(Bs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Ki(Nt),null;case 25:return null;default:return null}}function j_(n,r){switch(jf(r),r.tag){case 3:Ki(Nt),Ni();break;case 26:case 27:case 5:wa(r);break;case 4:Ni();break;case 13:Hi(r);break;case 19:lt(Dt);break;case 10:Ki(r.type);break;case 22:case 23:Hi(r),Hf(),n!==null&&lt(Bs);break;case 24:Ki(Nt)}}var dS={getCacheForType:function(n){var r=Yt(Nt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},mS=typeof WeakMap=="function"?WeakMap:Map,st=0,Ze=null,Oe=null,Le=0,Je=0,bn=null,Zi=!1,io=!1,Ld=!1,Ji=0,ht=0,Gr=0,Xs=0,Ud=0,qn=0,ro=0,Ol=null,yi=null,jd=!1,zd=0,kc=1/0,Mc=null,$r=null,Pc=!1,Ws=null,xl=0,Bd=0,qd=null,kl=0,Hd=null;function wn(){if((st&2)!==0&&Le!==0)return Le&-Le;if(A.T!==null){var n=Ya;return n!==0?n:Wd()}return Bu()}function z_(){qn===0&&(qn=(Le&536870912)===0||qe?Go():536870912);var n=Un.current;return n!==null&&(n.flags|=32),qn}function on(n,r,a){(n===Ze&&Je===2||n.cancelPendingCommit!==null)&&(so(n,0),er(n,Le,qn,!1)),pt(n,a),((st&2)===0||n!==Ze)&&(n===Ze&&((st&2)===0&&(Xs|=a),ht===4&&er(n,Le,qn,!1)),_i(n))}function B_(n,r,a){if((st&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||vr(n,r),f=l?yS(n,r):Kd(n,r,!0),m=l;do{if(f===0){io&&!l&&er(n,r,0,!1);break}else if(f===6)er(n,r,0,!Zi);else{if(a=n.current.alternate,m&&!pS(a)){f=Kd(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=n;f=Ol;var C=T.current.memoizedState.isDehydrated;if(C&&(so(T,v).flags|=256),v=Kd(T,v,!1),v!==2){if(Ld&&!C){T.errorRecoveryDisabledLanes|=m,Xs|=m,f=4;break e}m=yi,yi=f,m!==null&&Fd(m)}f=v}if(m=!1,f!==2)continue}}if(f===1){so(n,0),er(n,r,0,!0);break}e:{switch(l=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){er(l,r,qn,!Zi);break e}break;case 2:yi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(m=zd+300-hn(),10<m)){if(er(l,r,qn,!Zi),Cn(l,0)!==0)break e;l.timeoutHandle=hv(q_.bind(null,l,a,yi,Mc,jd,r,qn,Xs,ro,Zi,2,-0,0),m);break e}q_(l,a,yi,Mc,jd,r,qn,Xs,ro,Zi,0,-0,0)}}break}while(!0);_i(n)}function Fd(n){yi===null?yi=n:yi.push.apply(yi,n)}function q_(n,r,a,l,f,m,v,T,C,j,W,ne,Q){var X=r.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:XS},x_(r),r=ZS(),r!==null)){n.cancelPendingCommit=r(Y_.bind(null,n,a,l,f,v,T,C,1,ne,Q)),er(n,m,v,!j);return}Y_(n,a,l,f,v,T,C,W,ne,Q)}function pS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!vn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function er(n,r,a,l){r&=~Ud,r&=~Xs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var m=31-nn(f),v=1<<m;l[m]=-1,f&=~v}a!==0&&Tr(n,a,r)}function Vc(){return(st&6)===0?(Ml(0),!1):!0}function Gd(){if(Oe!==null){if(Je===0)var n=Oe.return;else n=Oe,$i=$s=null,Wf(n),Ka=null,ml=0,n=Oe;for(;n!==null;)j_(n.alternate,n),n=n.return;Oe=null}}function so(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,MS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Gd(),Ze=n,Oe=a=Fr(n.current,null),Le=r,Je=0,bn=null,Zi=!1,io=vr(n,r),Ld=!1,ro=qn=Ud=Xs=Gr=ht=0,yi=Ol=null,jd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-nn(l),m=1<<f;r|=n[f],l&=~m}return Ji=r,ac(),a}function H_(n,r){Ce=null,A.H=gi,r===fl?(r=ry(),Je=3):r===ty?(r=ry(),Je=4):Je=r===n_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,Oe===null&&(ht=1,Rc(n,Pn(r,n.current)))}function F_(){var n=A.H;return A.H=gi,n===null?gi:n}function G_(){var n=A.A;return A.A=dS,n}function $d(){ht=4,Zi||(Le&4194176)!==Le&&Un.current!==null||(io=!0),(Gr&134217727)===0&&(Xs&134217727)===0||Ze===null||er(Ze,Le,qn,!1)}function Kd(n,r,a){var l=st;st|=2;var f=F_(),m=G_();(Ze!==n||Le!==r)&&(Mc=null,so(n,r)),r=!1;var v=ht;e:do try{if(Je!==0&&Oe!==null){var T=Oe,C=bn;switch(Je){case 8:Gd(),v=6;break e;case 3:case 2:case 6:Un.current===null&&(r=!0);var j=Je;if(Je=0,bn=null,ao(n,T,C,j),a&&io){v=0;break e}break;default:j=Je,Je=0,bn=null,ao(n,T,C,j)}}gS(),v=ht;break}catch(W){H_(n,W)}while(!0);return r&&n.shellSuspendCounter++,$i=$s=null,st=l,A.H=f,A.A=m,Oe===null&&(Ze=null,Le=0,ac()),v}function gS(){for(;Oe!==null;)$_(Oe)}function yS(n,r){var a=st;st|=2;var l=F_(),f=G_();Ze!==n||Le!==r?(Mc=null,kc=hn()+500,so(n,r)):io=vr(n,r);e:do try{if(Je!==0&&Oe!==null){r=Oe;var m=bn;t:switch(Je){case 1:Je=0,bn=null,ao(n,r,m,1);break;case 2:if(ny(m)){Je=0,bn=null,K_(r);break}r=function(){Je===2&&Ze===n&&(Je=7),_i(n)},m.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:ny(m)?(Je=0,bn=null,K_(r)):(Je=0,bn=null,ao(n,r,m,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||bv(v)){Je=0,bn=null;var C=T.sibling;if(C!==null)Oe=C;else{var j=T.return;j!==null?(Oe=j,Lc(j)):Oe=null}break t}}Je=0,bn=null,ao(n,r,m,5);break;case 6:Je=0,bn=null,ao(n,r,m,6);break;case 8:Gd(),ht=6;break e;default:throw Error(s(462))}}_S();break}catch(W){H_(n,W)}while(!0);return $i=$s=null,A.H=l,A.A=f,st=a,Oe!==null?0:(Ze=null,Le=0,ac(),ht)}function _S(){for(;Oe!==null&&!Tf();)$_(Oe)}function $_(n){var r=m_(n.alternate,n,Ji);n.memoizedProps=n.pendingProps,r===null?Lc(n):Oe=r}function K_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=l_(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=l_(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Wf(r);default:j_(a,r),r=Oe=V_(r,Ji),r=m_(a,r,Ji)}n.memoizedProps=n.pendingProps,r===null?Lc(n):Oe=r}function ao(n,r,a,l){$i=$s=null,Wf(r),Ka=null,ml=0;var f=r.return;try{if(aS(n,f,r,a,Le)){ht=1,Rc(n,Pn(a,n.current)),Oe=null;return}}catch(m){if(f!==null)throw Oe=f,m;ht=1,Rc(n,Pn(a,n.current)),Oe=null;return}r.flags&32768?(qe||l===1?n=!0:io||(Le&536870912)!==0?n=!1:(Zi=n=!0,(l===2||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Q_(r,n)):Lc(r)}function Lc(n){var r=n;do{if((r.flags&32768)!==0){Q_(r,Zi);return}n=r.return;var a=hS(r.alternate,r,Ji);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=n}while(r!==null);ht===0&&(ht=5)}function Q_(n,r){do{var a=fS(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);ht=6,Oe=null}function Y_(n,r,a,l,f,m,v,T,C,j){var W=A.T,ne=le.p;try{le.p=2,A.T=null,vS(n,r,a,l,ne,f,m,v,T,C,j)}finally{A.T=W,le.p=ne}}function vS(n,r,a,l,f,m,v,T){do oo();while(Ws!==null);if((st&6)!==0)throw Error(s(327));var C=n.finishedWork;if(l=n.finishedLanes,C===null)return null;if(n.finishedWork=null,n.finishedLanes=0,C===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var j=C.lanes|C.childLanes;if(j|=Vf,ju(n,l,j,m,v,T),n===Ze&&(Oe=Ze=null,Le=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Pc||(Pc=!0,Bd=j,qd=a,wS(Oi,function(){return oo(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,m=le.p,le.p=2,v=st,st|=4,lS(n,C),D_(C,n),HA(sm,n.containerInfo),Yc=!!rm,sm=rm=null,n.current=C,S_(n,C.alternate,C),Bo(),st=v,le.p=m,A.T=a):n.current=C,Pc?(Pc=!1,Ws=n,xl=l):X_(n,j),j=n.pendingLanes,j===0&&($r=null),Ho(C.stateNode),_i(n),r!==null)for(f=n.onRecoverableError,C=0;C<r.length;C++)j=r[C],f(j.value,{componentStack:j.stack});return(xl&3)!==0&&oo(),j=n.pendingLanes,(l&4194218)!==0&&(j&42)!==0?n===Hd?kl++:(kl=0,Hd=n):kl=0,Ml(0),null}function X_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,gl(r)))}function oo(){if(Ws!==null){var n=Ws,r=Bd;Bd=0;var a=zu(xl),l=A.T,f=le.p;try{if(le.p=32>a?32:a,A.T=null,Ws===null)var m=!1;else{a=qd,qd=null;var v=Ws,T=xl;if(Ws=null,xl=0,(st&6)!==0)throw Error(s(331));var C=st;if(st|=4,M_(v.current),O_(v,v.current,T,a),st=C,Ml(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(yr,v)}catch{}m=!0}return m}finally{le.p=f,A.T=l,X_(n,r)}}return!1}function W_(n,r,a){r=Pn(a,r),r=hd(n.stateNode,r,2),n=zr(n,r,2),n!==null&&(pt(n,2),_i(n))}function Xe(n,r,a){if(n.tag===3)W_(n,n,a);else for(;r!==null;){if(r.tag===3){W_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($r===null||!$r.has(l))){n=Pn(a,n),a=e_(2),l=zr(r,a,2),l!==null&&(t_(a,l,r,n),pt(l,2),_i(l));break}}r=r.return}}function Qd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new mS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Ld=!0,f.add(a),n=ES.bind(null,n,r,a),r.then(n,n))}function ES(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ze===n&&(Le&a)===a&&(ht===4||ht===3&&(Le&62914560)===Le&&300>hn()-zd?(st&2)===0&&so(n,0):Ud|=a,ro===Le&&(ro=0)),_i(n)}function Z_(n,r){r===0&&(r=Er()),n=xr(n,r),n!==null&&(pt(n,r),_i(n))}function TS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Z_(n,a)}function bS(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Z_(n,a)}function wS(n,r){return Ts(n,r)}var Uc=null,lo=null,Yd=!1,jc=!1,Xd=!1,Zs=0;function _i(n){n!==lo&&n.next===null&&(lo===null?Uc=lo=n:lo=lo.next=n),jc=!0,Yd||(Yd=!0,SS(AS))}function Ml(n,r){if(!Xd&&jc){Xd=!0;do for(var a=!1,l=Uc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var v=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-nn(42|n)+1)-1,m&=f&~(v&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,tv(l,m))}else m=Le,m=Cn(l,l===Ze?m:0),(m&3)===0||vr(l,m)||(a=!0,tv(l,m));l=l.next}while(a);Xd=!1}}function AS(){jc=Yd=!1;var n=0;Zs!==0&&(kS()&&(n=Zs),Zs=0);for(var r=hn(),a=null,l=Uc;l!==null;){var f=l.next,m=J_(l,r);m===0?(l.next=null,a===null?Uc=f:a.next=f,f===null&&(lo=a)):(a=l,(n!==0||(m&3)!==0)&&(jc=!0)),l=f}Ml(n)}function J_(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var v=31-nn(m),T=1<<v,C=f[v];C===-1?((T&a)===0||(T&l)!==0)&&(f[v]=Ra(T,r)):C<=r&&(n.expiredLanes|=T),m&=~T}if(r=Ze,a=Le,a=Cn(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&Je===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Sa(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||vr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Sa(l),zu(a)){case 2:case 8:a=kt;break;case 32:a=Oi;break;case 268435456:a=qo;break;default:a=Oi}return l=ev.bind(null,n),a=Ts(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Sa(l),n.callbackPriority=2,n.callbackNode=null,2}function ev(n,r){var a=n.callbackNode;if(oo()&&n.callbackNode!==a)return null;var l=Le;return l=Cn(n,n===Ze?l:0),l===0?null:(B_(n,l,r),J_(n,hn()),n.callbackNode!=null&&n.callbackNode===a?ev.bind(null,n):null)}function tv(n,r){if(oo())return null;B_(n,r,!0)}function SS(n){PS(function(){(st&6)!==0?Ts(St,n):n()})}function Wd(){return Zs===0&&(Zs=Go()),Zs}function nv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:oi(""+n)}function iv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function RS(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=nv((f[Rt]||null).action),v=l.submitter;v&&(r=(r=v[Rt]||null)?nv(r.formAction):v.getAttribute("formAction"),r!==null&&(m=r,v=null));var T=new ka("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var C=v?iv(f,v):new FormData(f);ad(a,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(T.preventDefault(),C=v?iv(f,v):new FormData(f),ad(a,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var Zd=0;Zd<Yg.length;Zd++){var Jd=Yg[Zd],IS=Jd.toLowerCase(),CS=Jd[0].toUpperCase()+Jd.slice(1);Yn(IS,"on"+CS)}Yn(Fg,"onAnimationEnd"),Yn(Gg,"onAnimationIteration"),Yn($g,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(GA,"onTransitionRun"),Yn($A,"onTransitionStart"),Yn(KA,"onTransitionCancel"),Yn(Kg,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function rv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=j;try{m(f)}catch(W){Sc(W)}f.currentTarget=null,m=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,j=T.currentTarget,T=T.listener,C!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=j;try{m(f)}catch(W){Sc(W)}f.currentTarget=null,m=C}}}}function Me(n,r){var a=r[ws];a===void 0&&(a=r[ws]=new Set);var l=n+"__bubble";a.has(l)||(sv(r,n,2,!1),a.add(l))}function em(n,r,a){var l=0;r&&(l|=4),sv(a,n,l,r)}var zc="_reactListening"+Math.random().toString(36).slice(2);function tm(n){if(!n[zc]){n[zc]=!0,Ko.forEach(function(a){a!=="selectionchange"&&(DS.has(a)||em(a,!1,n),em(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[zc]||(r[zc]=!0,em("selectionchange",!1,r))}}function sv(n,r,a,l){switch(Cv(r)){case 2:var f=tR;break;case 8:f=nR;break;default:f=mm}a=f.bind(null,r,a,n),f=void 0,!xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function nm(n,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;v=v.return}for(;T!==null;){if(v=Qn(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=m=v;continue e}T=T.parentNode}}l=l.return}Gu(function(){var j=m,W=xa(a),ne=[];e:{var Q=Qg.get(n);if(Q!==void 0){var X=ka,me=n;switch(n){case"keypress":if(ui(a)===0)break e;case"keydown":case"keyup":X=ja;break;case"focusin":me="focus",X=Va;break;case"focusout":me="blur",X=Va;break;case"beforeblur":case"afterblur":X=Va;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ju;break;case Fg:case Gg:case $g:X=La;break;case Kg:X=tc;break;case"scroll":case"scrollend":X=$u;break;case"wheel":X=za;break;case"copy":case"cut":case"paste":X=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=sl;break;case"toggle":case"beforetoggle":X=ic}var we=(r&4)!==0,ft=!we&&(n==="scroll"||n==="scrollend"),B=we?Q!==null?Q+"Capture":null:Q;we=[];for(var L=j,F;L!==null;){var Z=L;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||B===null||(Z=Cs(L,B),Z!=null&&we.push(Vl(L,Z,F))),ft)break;L=L.return}0<we.length&&(Q=new X(Q,me,null,a,W),ne.push({event:Q,listeners:we}))}}if((r&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",Q&&a!==On&&(me=a.relatedTarget||a.fromElement)&&(Qn(me)||me[xi]))break e;if((X||Q)&&(Q=W.window===W?W:(Q=W.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(me=a.relatedTarget||a.toElement,X=j,me=me?Qn(me):null,me!==null&&(ft=de(me),we=me.tag,me!==ft||we!==5&&we!==27&&we!==6)&&(me=null)):(X=null,me=j),X!==me)){if(we=kn,Z="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(we=sl,Z="onPointerLeave",B="onPointerEnter",L="pointer"),ft=X==null?Q:Sr(X),F=me==null?Q:Sr(me),Q=new we(Z,L+"leave",X,a,W),Q.target=ft,Q.relatedTarget=F,Z=null,Qn(W)===j&&(we=new we(B,L+"enter",me,a,W),we.target=F,we.relatedTarget=ft,Z=we),ft=Z,X&&me)t:{for(we=X,B=me,L=0,F=we;F;F=uo(F))L++;for(F=0,Z=B;Z;Z=uo(Z))F++;for(;0<L-F;)we=uo(we),L--;for(;0<F-L;)B=uo(B),F--;for(;L--;){if(we===B||B!==null&&we===B.alternate)break t;we=uo(we),B=uo(B)}we=null}else we=null;X!==null&&av(ne,Q,X,we,!1),me!==null&&ft!==null&&av(ne,ft,me,we,!0)}}e:{if(Q=j?Sr(j):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var fe=kg;else if(Ct(Q))if(Mg)fe=BA;else{fe=jA;var Ne=UA}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?j&&Zo(j.elementType)&&(fe=kg):fe=zA;if(fe&&(fe=fe(n,j))){zi(ne,fe,a,W);break e}Ne&&Ne(n,Q,j),n==="focusout"&&j&&Q.type==="number"&&j.memoizedProps.value!=null&&Oa(Q,"number",Q.value)}switch(Ne=j?Sr(j):window,n){case"focusin":(Ct(Ne)||Ne.contentEditable==="true")&&(Ba=Ne,kf=j,ll=null);break;case"focusout":ll=kf=Ba=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,qg(ne,a,W);break;case"selectionchange":if(FA)break;case"keydown":case"keyup":qg(ne,a,W)}var ge;if(fi)e:{switch(n){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Pe?Y(n,a)&&(ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Pe||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Pe&&(ge=el()):(li=W,Or="value"in li?li.value:li.textContent,Pe=!0)),Ne=Bc(j,ve),0<Ne.length&&(ve=new il(ve,n,null,a,W),ne.push({event:ve,listeners:Ne}),ge?ve.data=ge:(ge=se(a),ge!==null&&(ve.data=ge)))),(ge=y?It(n,a):Ve(n,a))&&(ve=Bc(j,"onBeforeInput"),0<ve.length&&(Ne=new il("onBeforeInput","beforeinput",null,a,W),ne.push({event:Ne,listeners:ve}),Ne.data=ge)),RS(ne,n,j,a,W)}rv(ne,r)})}function Vl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Bc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Cs(n,a),f!=null&&l.unshift(Vl(n,f,m)),f=Cs(n,r),f!=null&&l.push(Vl(n,f,m))),n=n.return}return l}function uo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function av(n,r,a,l,f){for(var m=r._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||j===null||(C=j,f?(j=Cs(a,m),j!=null&&v.unshift(Vl(a,j,C))):f||(j=Cs(a,m),j!=null&&v.push(Vl(a,j,C)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var NS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function ov(n){return(typeof n=="string"?n:""+n).replace(NS,`
`).replace(OS,"")}function lv(n,r){return r=ov(r),ov(n)===r}function qc(){}function Ye(n,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Nn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Nn(n,""+l);break;case"className":Cr(n,"class",l);break;case"tabIndex":Cr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cr(n,a,l);break;case"style":Fu(n,l,m);break;case"data":if(r!=="object"){Cr(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=oi(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Ye(n,r,"name",f.name,f,null),Ye(n,r,"formEncType",f.formEncType,f,null),Ye(n,r,"formMethod",f.formMethod,f,null),Ye(n,r,"formTarget",f.formTarget,f,null)):(Ye(n,r,"encType",f.encType,f,null),Ye(n,r,"method",f.method,f,null),Ye(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=oi(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=qc);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=oi(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Me("beforetoggle",n),Me("toggle",n),Ir(n,"popover",l);break;case"xlinkActuate":Dn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ir(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rf.get(a)||a,Ir(n,a,l))}}function im(n,r,a,l,f,m){switch(a){case"style":Fu(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Nn(n,l):(typeof l=="number"||typeof l=="bigint")&&Nn(n,""+l);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"onClick":l!=null&&(n.onclick=qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[Rt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ir(n,a,l)}}}function Ft(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(n,r,m,v,a,null)}}f&&Ye(n,r,"srcSet",a.srcSet,a,null),l&&Ye(n,r,"src",a.src,a,null);return;case"input":Me("invalid",n);var T=m=v=f=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":v=W;break;case"checked":C=W;break;case"defaultChecked":j=W;break;case"value":m=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Ye(n,r,l,W,a,null)}}Rs(n,m,T,C,j,v,f,!1),Ss(n);return;case"select":Me("invalid",n),l=v=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ye(n,r,f,T,a,null)}r=m,a=v,n.multiple=!!l,r!=null?Be(n,!!l,r,!1):a!=null&&Be(n,!!l,a,!0);return;case"textarea":Me("invalid",n),m=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ye(n,r,v,T,a,null)}Nr(n,l,f,m),Ss(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(n,r,C,l,a,null)}return;case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Me(Pl[l],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(n,r,j,l,a,null)}return;default:if(Zo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&im(n,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ye(n,r,T,l,a,null))}function xS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,T=null,C=null,j=null,W=null;for(X in a){var ne=a[X];if(a.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=ne;default:l.hasOwnProperty(X)||Ye(n,r,X,null,l,ne)}}for(var Q in l){var X=l[Q];if(ne=a[Q],l.hasOwnProperty(Q)&&(X!=null||ne!=null))switch(Q){case"type":m=X;break;case"name":f=X;break;case"checked":j=X;break;case"defaultChecked":W=X;break;case"value":v=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ne&&Ye(n,r,Q,X,l,ne)}}Dr(n,v,T,C,j,W,m,f);return;case"select":X=v=T=Q=null;for(m in a)if(C=a[m],a.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":X=C;default:l.hasOwnProperty(m)||Ye(n,r,m,null,l,C)}for(f in l)if(m=l[f],C=a[f],l.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":Q=m;break;case"defaultValue":T=m;break;case"multiple":v=m;default:m!==C&&Ye(n,r,f,m,l,C)}r=T,a=v,l=X,Q!=null?Be(n,!!a,Q,!1):!!l!=!!a&&(r!=null?Be(n,!!a,r,!0):Be(n,!!a,a?[]:"",!1));return;case"textarea":X=Q=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(n,r,T,null,l,f)}for(v in l)if(f=l[v],m=a[v],l.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ye(n,r,v,f,l,m)}Is(n,Q,X);return;case"option":for(var me in a)if(Q=a[me],a.hasOwnProperty(me)&&Q!=null&&!l.hasOwnProperty(me))switch(me){case"selected":n.selected=!1;break;default:Ye(n,r,me,null,l,Q)}for(C in l)if(Q=l[C],X=a[C],l.hasOwnProperty(C)&&Q!==X&&(Q!=null||X!=null))switch(C){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ye(n,r,C,Q,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)Q=a[we],a.hasOwnProperty(we)&&Q!=null&&!l.hasOwnProperty(we)&&Ye(n,r,we,null,l,Q);for(j in l)if(Q=l[j],X=a[j],l.hasOwnProperty(j)&&Q!==X&&(Q!=null||X!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Ye(n,r,j,Q,l,X)}return;default:if(Zo(r)){for(var ft in a)Q=a[ft],a.hasOwnProperty(ft)&&Q!==void 0&&!l.hasOwnProperty(ft)&&im(n,r,ft,void 0,l,Q);for(W in l)Q=l[W],X=a[W],!l.hasOwnProperty(W)||Q===X||Q===void 0&&X===void 0||im(n,r,W,Q,l,X);return}}for(var B in a)Q=a[B],a.hasOwnProperty(B)&&Q!=null&&!l.hasOwnProperty(B)&&Ye(n,r,B,null,l,Q);for(ne in l)Q=l[ne],X=a[ne],!l.hasOwnProperty(ne)||Q===X||Q==null&&X==null||Ye(n,r,ne,Q,l,X)}var rm=null,sm=null;function Hc(n){return n.nodeType===9?n:n.ownerDocument}function uv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function am(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var om=null;function kS(){var n=window.event;return n&&n.type==="popstate"?n===om?!1:(om=n,!0):(om=null,!1)}var hv=typeof setTimeout=="function"?setTimeout:void 0,MS=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,PS=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(n){return fv.resolve(null).then(n).catch(VS)}:hv;function VS(n){setTimeout(function(){throw n})}function lm(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),Fl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);Fl(r)}function um(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":um(a),As(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function LS(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ar])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Zn(n.nextSibling),n===null)break}return null}function US(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Zn(n.nextSibling),n===null))return null;return n}function Zn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function dv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function mv(n,r,a){switch(r=Hc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Hn=new Map,pv=new Set;function Fc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var tr=le.d;le.d={f:jS,r:zS,D:BS,C:qS,L:HS,m:FS,X:$S,S:GS,M:KS};function jS(){var n=tr.f(),r=Vc();return n||r}function zS(n){var r=ki(n);r!==null&&r.tag===5&&r.type==="form"?qy(r):tr.r(n)}var co=typeof document>"u"?null:document;function gv(n,r,a){var l=co;if(l&&typeof r=="string"&&r){var f=ut(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),pv.has(f)||(pv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ft(r,"link",n),it(r),l.head.appendChild(r)))}}function BS(n){tr.D(n),gv("dns-prefetch",n,null)}function qS(n,r){tr.C(n,r),gv("preconnect",n,r)}function HS(n,r,a){tr.L(n,r,a);var l=co;if(l&&n&&r){var f='link[rel="preload"][as="'+ut(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ut(a.imageSizes)+'"]')):f+='[href="'+ut(n)+'"]';var m=f;switch(r){case"style":m=ho(n);break;case"script":m=fo(n)}Hn.has(m)||(n=D({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Hn.set(m,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ll(m))||r==="script"&&l.querySelector(Ul(m))||(r=l.createElement("link"),Ft(r,"link",n),it(r),l.head.appendChild(r)))}}function FS(n,r){tr.m(n,r);var a=co;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ut(l)+'"][href="'+ut(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=fo(n)}if(!Hn.has(m)&&(n=D({rel:"modulepreload",href:n},r),Hn.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(m)))return}l=a.createElement("link"),Ft(l,"link",n),it(l),a.head.appendChild(l)}}}function GS(n,r,a){tr.S(n,r,a);var l=co;if(l&&n){var f=Rr(l).hoistableStyles,m=ho(n);r=r||"default";var v=f.get(m);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Ll(m)))T.loading=5;else{n=D({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Hn.get(m))&&cm(n,a);var C=v=l.createElement("link");it(C),Ft(C,"link",n),C._p=new Promise(function(j,W){C.onload=j,C.onerror=W}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Gc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(m,v)}}}function $S(n,r){tr.X(n,r);var a=co;if(a&&n){var l=Rr(a).hoistableScripts,f=fo(n),m=l.get(f);m||(m=a.querySelector(Ul(f)),m||(n=D({src:n,async:!0},r),(r=Hn.get(f))&&hm(n,r),m=a.createElement("script"),it(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function KS(n,r){tr.M(n,r);var a=co;if(a&&n){var l=Rr(a).hoistableScripts,f=fo(n),m=l.get(f);m||(m=a.querySelector(Ul(f)),m||(n=D({src:n,async:!0,type:"module"},r),(r=Hn.get(f))&&hm(n,r),m=a.createElement("script"),it(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function yv(n,r,a,l){var f=(f=In.current)?Fc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ho(a.href),a=Rr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ho(a.href);var m=Rr(f).hoistableStyles,v=m.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,v),(m=f.querySelector(Ll(n)))&&!m._p&&(v.instance=m,v.state.loading=5),Hn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(n,a),m||QS(f,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=fo(a),a=Rr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ho(n){return'href="'+ut(n)+'"'}function Ll(n){return'link[rel="stylesheet"]['+n+"]"}function _v(n){return D({},n,{"data-precedence":n.precedence,precedence:null})}function QS(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ft(r,"link",a),it(r),n.head.appendChild(r))}function fo(n){return'[src="'+ut(n)+'"]'}function Ul(n){return"script[async]"+n}function vv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+ut(a.href)+'"]');if(l)return r.instance=l,it(l),l;var f=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),it(l),Ft(l,"style",f),Gc(l,a.precedence,n),r.instance=l;case"stylesheet":f=ho(a.href);var m=n.querySelector(Ll(f));if(m)return r.state.loading|=4,r.instance=m,it(m),m;l=_v(a),(f=Hn.get(f))&&cm(l,f),m=(n.ownerDocument||n).createElement("link"),it(m);var v=m;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Ft(m,"link",l),r.state.loading|=4,Gc(m,a.precedence,n),r.instance=m;case"script":return m=fo(a.src),(f=n.querySelector(Ul(m)))?(r.instance=f,it(f),f):(l=a,(f=Hn.get(m))&&(l=D({},a),hm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),it(f),Ft(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Gc(l,a.precedence,n));return r.instance}function Gc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function cm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function hm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var $c=null;function Ev(n,r,a){if($c===null){var l=new Map,f=$c=new Map;f.set(a,l)}else f=$c,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Ar]||m[Mt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(r)||"";v=n+v;var T=l.get(v);T?T.push(m):l.set(v,[m])}}return l}function Tv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function YS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var jl=null;function XS(){}function WS(n,r,a){if(jl===null)throw Error(s(475));var l=jl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=ho(a.href),m=n.querySelector(Ll(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Kc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=m,it(m);return}m=n.ownerDocument||n,a=_v(a),(f=Hn.get(f))&&cm(a,f),m=m.createElement("link"),it(m);var v=m;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Ft(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Kc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function ZS(){if(jl===null)throw Error(s(475));var n=jl;return n.stylesheets&&n.count===0&&fm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&fm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)fm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Qc=null;function fm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Qc=new Map,r.forEach(JS,n),Qc=null,Kc.call(n))}function JS(n,r){if(!(r.state.loading&4)){var a=Qc.get(n);if(a)var l=a.get(null);else{a=new Map,Qc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,f),a.set(v,f),this.count++,l=Kc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var zl={$$typeof:x,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function eR(n,r,a,l,f,m,v,T){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function wv(n,r,a,l,f,m,v,T,C,j,W,ne){return n=new eR(n,r,a,v,T,C,j,ne),r=1,m===!0&&(r|=24),m=Bn(3,null,null,r),n.current=m,m.stateNode=n,r=Ff(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Ad(m),n}function Av(n){return n?(n=Fa,n):Fa}function Sv(n,r,a,l,f,m){f=Av(f),l.context===null?l.context=f:l.pendingContext=f,l=jr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=zr(n,l,r),a!==null&&(on(a,n,r),wl(a,n,r))}function Rv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function dm(n,r){Rv(n,r),(n=n.alternate)&&Rv(n,r)}function Iv(n){if(n.tag===13){var r=xr(n,67108864);r!==null&&on(r,n,67108864),dm(n,67108864)}}var Yc=!0;function tR(n,r,a,l){var f=A.T;A.T=null;var m=le.p;try{le.p=2,mm(n,r,a,l)}finally{le.p=m,A.T=f}}function nR(n,r,a,l){var f=A.T;A.T=null;var m=le.p;try{le.p=8,mm(n,r,a,l)}finally{le.p=m,A.T=f}}function mm(n,r,a,l){if(Yc){var f=pm(l);if(f===null)nm(n,r,l,Xc,a),Dv(n,l);else if(rR(f,n,r,a,l))l.stopPropagation();else if(Dv(n,l),r&4&&-1<iR.indexOf(n)){for(;f!==null;){var m=ki(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Kn(m.pendingLanes);if(v!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-nn(v);T.entanglements[1]|=C,v&=~C}_i(m),(st&6)===0&&(kc=hn()+500,Ml(0))}}break;case 13:T=xr(m,2),T!==null&&on(T,m,2),Vc(),dm(m,2)}if(m=pm(l),m===null&&nm(n,r,l,Xc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else nm(n,r,l,null,a)}}function pm(n){return n=xa(n),gm(n)}var Xc=null;function gm(n){if(Xc=null,n=Qn(n),n!==null){var r=de(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=Fe(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Xc=n,null}function Cv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pu()){case St:return 2;case kt:return 8;case Oi:case Vu:return 32;case qo:return 268435456;default:return 32}default:return 32}}var ym=!1,Kr=null,Qr=null,Yr=null,Bl=new Map,ql=new Map,Xr=[],iR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(n,r){switch(n){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(r.pointerId)}}function Hl(n,r,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=ki(r),r!==null&&Iv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function rR(n,r,a,l,f){switch(r){case"focusin":return Kr=Hl(Kr,n,r,a,l,f),!0;case"dragenter":return Qr=Hl(Qr,n,r,a,l,f),!0;case"mouseover":return Yr=Hl(Yr,n,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Bl.set(m,Hl(Bl.get(m)||null,n,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,ql.set(m,Hl(ql.get(m)||null,n,r,a,l,f)),!0}return!1}function Nv(n){var r=Qn(n.target);if(r!==null){var a=de(r);if(a!==null){if(r=a.tag,r===13){if(r=Fe(a),r!==null){n.blockedOn=r,wr(n.priority,function(){if(a.tag===13){var l=wn(),f=xr(a,l);f!==null&&on(f,a,l),dm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Wc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=pm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);On=l,a.target.dispatchEvent(l),On=null}else return r=ki(a),r!==null&&Iv(r),n.blockedOn=a,!1;r.shift()}return!0}function Ov(n,r,a){Wc(n)&&a.delete(r)}function sR(){ym=!1,Kr!==null&&Wc(Kr)&&(Kr=null),Qr!==null&&Wc(Qr)&&(Qr=null),Yr!==null&&Wc(Yr)&&(Yr=null),Bl.forEach(Ov),ql.forEach(Ov)}function Zc(n,r){n.blockedOn===r&&(n.blockedOn=null,ym||(ym=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,sR)))}var Jc=null;function xv(n){Jc!==n&&(Jc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jc===n&&(Jc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(gm(l||a)===null)continue;break}var m=ki(a);m!==null&&(n.splice(r,3),r-=3,ad(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Fl(n){function r(C){return Zc(C,n)}Kr!==null&&Zc(Kr,n),Qr!==null&&Zc(Qr,n),Yr!==null&&Zc(Yr,n),Bl.forEach(r),ql.forEach(r);for(var a=0;a<Xr.length;a++){var l=Xr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)Nv(a),a.blockedOn===null&&Xr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],v=f[Rt]||null;if(typeof m=="function")v||xv(a);else if(v){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Rt]||null)T=v.formAction;else if(gm(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),xv(a)}}}function _m(n){this._internalRoot=n}eh.prototype.render=_m.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=wn();Sv(a,l,n,r,null,null)},eh.prototype.unmount=_m.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&oo(),Sv(n.current,2,null,n,null,null),Vc(),r[xi]=null}};function eh(n){this._internalRoot=n}eh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Bu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Xr.length&&r!==0&&r<Xr[a].priority;a++);Xr.splice(a,0,n),a===0&&Nv(n)}};var kv=e.version;if(kv!=="19.0.0")throw Error(s(527,kv,"19.0.0"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ie(r),n=n!==null?pe(n):null,n=n===null?null:n.stateNode,n};var aR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Qn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{yr=th.inject(aR),Qt=th}catch{}}return $l.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=Xy,m=Wy,v=Zy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=wv(n,1,!1,null,null,a,l,f,m,v,T,null),n[xi]=r.current,tm(n.nodeType===8?n.parentNode:n),new _m(r)},$l.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=Xy,v=Wy,T=Zy,C=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=wv(n,1,!0,r,a??null,l,f,m,v,T,C,j),r.context=Av(null),a=r.current,l=wn(),f=jr(l),f.callback=null,zr(a,f,l),r.current.lanes=l,pt(r,l),_i(r),n[xi]=r.current,tm(n),new eh(r)},$l.version="19.0.0",$l}var Hv;function yR(){if(Hv)return Tm.exports;Hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tm.exports=gR(),Tm.exports}var _R=yR(),Kl={},Fv;function vR(){if(Fv)return Kl;Fv=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.parse=h,Kl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,x){const P=new u,K=R.length;if(K<2)return P;const k=(x==null?void 0:x.decode)||E;let U=0;do{const $=R.indexOf("=",U);if($===-1)break;const G=R.indexOf(";",U),te=G===-1?K:G;if($>te){U=R.lastIndexOf(";",$-1)+1;continue}const re=d(R,U,$),he=p(R,$,re),O=R.slice(re,he);if(P[O]===void 0){let S=d(R,$+1,te),A=p(R,te,S);const D=k(R.slice(S,A));P[O]=D}U=te+1}while(U<K);return P}function d(R,x,P){do{const K=R.charCodeAt(x);if(K!==32&&K!==9)return x}while(++x<P);return P}function p(R,x,P){for(;x>P;){const K=R.charCodeAt(--x);if(K!==32&&K!==9)return x+1}return P}function g(R,x,P){const K=(P==null?void 0:P.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const k=K(x);if(!e.test(k))throw new TypeError(`argument val is invalid: ${x}`);let U=R+"="+k;if(!P)return U;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);U+="; Max-Age="+P.maxAge}if(P.domain){if(!t.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);U+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);U+="; Path="+P.path}if(P.expires){if(!b(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);U+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(U+="; HttpOnly"),P.secure&&(U+="; Secure"),P.partitioned&&(U+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return U}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function b(R){return o.call(R)==="[object Date]"}return Kl}vR();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gv="popstate";function ER(i={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return Hm("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:uu(o)}return bR(e,t,null,i)}function at(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ri(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TR(){return Math.random().toString(36).substring(2,10)}function $v(i,e){return{usr:i.state,key:i.key,idx:e}}function Hm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?xo(e):e,state:t,key:e&&e.key||s||TR()}}function uu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function xo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function bR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function b(){d="POP";let k=E(),U=k==null?null:k-g;g=k,p&&p({action:d,location:K.location,delta:U})}function R(k,U){d="PUSH";let $=Hm(K.location,k,U);g=E()+1;let G=$v($,g),te=K.createHref($);try{h.pushState(G,"",te)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(te)}u&&p&&p({action:d,location:K.location,delta:1})}function x(k,U){d="REPLACE";let $=Hm(K.location,k,U);g=E();let G=$v($,g),te=K.createHref($);h.replaceState(G,"",te),u&&p&&p({action:d,location:K.location,delta:0})}function P(k){let U=o.location.origin!=="null"?o.location.origin:o.location.href,$=typeof k=="string"?k:uu(k);return $=$.replace(/ $/,"%20"),at(U,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,U)}let K={get action(){return d},get location(){return i(o,h)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Gv,b),p=k,()=>{o.removeEventListener(Gv,b),p=null}},createHref(k){return e(o,k)},createURL:P,encodeLocation(k){let U=P(k);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:R,replace:x,go(k){return h.go(k)}};return K}function BE(i,e,t="/"){return wR(i,e,t,!1)}function wR(i,e,t,s){let o=typeof e=="string"?xo(e):e,u=lr(o.pathname||"/",t);if(u==null)return null;let h=qE(i);AR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=PR(u);d=kR(h[p],g,s)}return d}function qE(i,e=[],t=[],s=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=sr([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),qE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:OR(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let p of HE(u.path))o(u,h,p)}),e}function HE(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=HE(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function AR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:xR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var SR=/^:[\w-]+$/,RR=3,IR=2,CR=1,DR=10,NR=-2,Kv=i=>i==="*";function OR(i,e){let t=i.split("/"),s=t.length;return t.some(Kv)&&(s+=NR),e&&(s+=IR),t.filter(o=>!Kv(o)).reduce((o,u)=>o+(SR.test(u)?RR:u===""?CR:DR),s)}function xR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function kR(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:sr([u,b.pathname]),pathnameBase:jR(sr([u,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(u=sr([u,b.pathnameBase]))}return h}function Ah(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=MR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},R)=>{if(E==="*"){let P=d[R]||"";h=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const x=d[R];return b&&!x?g[E]=void 0:g[E]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function MR(i,e=!1,t=!0){Ri(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function PR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ri(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function lr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function VR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?xo(i):i;return{pathname:t?t.startsWith("/")?t:LR(t,e):e,search:zR(s),hash:BR(o)}}function LR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Sm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function FE(i){let e=UR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function GE(i,e,t,s=!1){let o;typeof i=="string"?o=xo(i):(o={...i},at(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let b=e.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),b-=1;o.pathname=R.join("/")}d=b>=0?e[b]:"/"}let p=VR(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var sr=i=>i.join("/").replace(/\/\/+/g,"/"),jR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),zR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,BR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function qR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var $E=["POST","PUT","PATCH","DELETE"];new Set($E);var HR=["GET",...$E];new Set(HR);var ko=H.createContext(null);ko.displayName="DataRouter";var $h=H.createContext(null);$h.displayName="DataRouterState";var KE=H.createContext({isTransitioning:!1});KE.displayName="ViewTransition";var FR=H.createContext(new Map);FR.displayName="Fetchers";var GR=H.createContext(null);GR.displayName="Await";var Ci=H.createContext(null);Ci.displayName="Navigation";var Tu=H.createContext(null);Tu.displayName="Location";var mr=H.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var Sp=H.createContext(null);Sp.displayName="RouteError";function $R(i,{relative:e}={}){at(bu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=H.useContext(Ci),{hash:o,pathname:u,search:h}=wu(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:sr([t,u])),s.createHref({pathname:d,search:h,hash:o})}function bu(){return H.useContext(Tu)!=null}function ma(){return at(bu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Tu).location}var QE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YE(i){H.useContext(Ci).static||H.useLayoutEffect(i)}function Rp(){let{isDataRoute:i}=H.useContext(mr);return i?s1():KR()}function KR(){at(bu(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(ko),{basename:e,navigator:t}=H.useContext(Ci),{matches:s}=H.useContext(mr),{pathname:o}=ma(),u=JSON.stringify(FE(s)),h=H.useRef(!1);return YE(()=>{h.current=!0}),H.useCallback((p,g={})=>{if(Ri(h.current,QE),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=GE(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:sr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}H.createContext(null);function wu(i,{relative:e}={}){let{matches:t}=H.useContext(mr),{pathname:s}=ma(),o=JSON.stringify(FE(t));return H.useMemo(()=>GE(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function QR(i,e){return XE(i,e)}function XE(i,e,t,s){var $;at(bu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=H.useContext(Ci),{matches:h}=H.useContext(mr),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",b=d&&d.route;{let G=b&&b.path||"";WE(g,!b||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let R=ma(),x;if(e){let G=typeof e=="string"?xo(e):e;at(E==="/"||(($=G.pathname)==null?void 0:$.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${G.pathname}" was given in the \`location\` prop.`),x=G}else x=R;let P=x.pathname||"/",K=P;if(E!=="/"){let G=E.replace(/^\//,"").split("/");K="/"+P.replace(/^\//,"").split("/").slice(G.length).join("/")}let k=!u&&t&&t.matches&&t.matches.length>0?t.matches:BE(i,{pathname:K});Ri(b||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ri(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=JR(k&&k.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:sr([E,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?E:sr([E,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),h,t,s);return e&&U?H.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},U):U}function YR(){let i=r1(),e=qR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,h)}var XR=H.createElement(YR,null),WR=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?H.createElement(mr.Provider,{value:this.props.routeContext},H.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZR({routeContext:i,match:e,children:t}){let s=H.useContext(ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(mr.Provider,{value:i},t)}function JR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:E,errors:b}=t,R=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||R){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let b,R=!1,x=null,P=null;t&&(b=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||XR,h&&(d<0&&E===0?(WE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,P=null):d===E&&(R=!0,P=g.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),k=()=>{let U;return b?U=x:R?U=P:g.route.Component?U=H.createElement(g.route.Component,null):g.route.element?U=g.route.element:U=p,H.createElement(ZR,{match:g,routeContext:{outlet:p,matches:K,isDataRoute:t!=null},children:U})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?H.createElement(WR,{location:t.location,revalidation:t.revalidation,component:x,error:b,children:k(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):k()},null)}function Ip(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e1(i){let e=H.useContext(ko);return at(e,Ip(i)),e}function t1(i){let e=H.useContext($h);return at(e,Ip(i)),e}function n1(i){let e=H.useContext(mr);return at(e,Ip(i)),e}function Cp(i){let e=n1(i),t=e.matches[e.matches.length-1];return at(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function i1(){return Cp("useRouteId")}function r1(){var s;let i=H.useContext(Sp),e=t1("useRouteError"),t=Cp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function s1(){let{router:i}=e1("useNavigate"),e=Cp("useNavigate"),t=H.useRef(!1);return YE(()=>{t.current=!0}),H.useCallback(async(o,u={})=>{Ri(t.current,QE),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Qv={};function WE(i,e,t){!e&&!Qv[i]&&(Qv[i]=!0,Ri(!1,t))}H.memo(a1);function a1({routes:i,future:e,state:t}){return XE(i,void 0,t,e)}function Js(i){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function o1({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){at(!bu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=H.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=xo(t));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:R="default"}=t,x=H.useMemo(()=>{let P=lr(p,h);return P==null?null:{location:{pathname:P,search:g,hash:E,state:b,key:R},navigationType:s}},[h,p,g,E,b,R,s]);return Ri(x!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:H.createElement(Ci.Provider,{value:d},H.createElement(Tu.Provider,{children:e,value:x}))}function l1({children:i,location:e}){return QR(Fm(i),e)}function Fm(i,e=[]){let t=[];return H.Children.forEach(i,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){t.push.apply(t,Fm(s.props.children,u));return}at(s.type===Js,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Fm(s.props.children,u)),t.push(h)}),t}var fh="get",dh="application/x-www-form-urlencoded";function Kh(i){return i!=null&&typeof i.tagName=="string"}function u1(i){return Kh(i)&&i.tagName.toLowerCase()==="button"}function c1(i){return Kh(i)&&i.tagName.toLowerCase()==="form"}function h1(i){return Kh(i)&&i.tagName.toLowerCase()==="input"}function f1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function d1(i,e){return i.button===0&&(!e||e==="_self")&&!f1(i)}var nh=null;function m1(){if(nh===null)try{new FormData(document.createElement("form"),0),nh=!1}catch{nh=!0}return nh}var p1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(i){return i!=null&&!p1.has(i)?(Ri(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):i}function g1(i,e){let t,s,o,u,h;if(c1(i)){let d=i.getAttribute("action");s=d?lr(d,e):null,t=i.getAttribute("method")||fh,o=Rm(i.getAttribute("enctype"))||dh,u=new FormData(i)}else if(u1(i)||h1(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?lr(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||fh,o=Rm(i.getAttribute("formenctype"))||Rm(d.getAttribute("enctype"))||dh,u=new FormData(d,i),!m1()){let{name:g,type:E,value:b}=i;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,b)}}else{if(Kh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fh,s=null,o=dh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Dp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function y1(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function v1(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await y1(u,t);return h.links?h.links():[]}return[]}));return w1(s.flat(1).filter(_1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yv(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function E1(i,e,{includeHydrateFallback:t}={}){return T1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function T1(i){return[...new Set(i)]}function b1(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function w1(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(b1(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function A1(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&lr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ZE(){let i=H.useContext(ko);return Dp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function S1(){let i=H.useContext($h);return Dp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Np=H.createContext(void 0);Np.displayName="FrameworkContext";function JE(){let i=H.useContext(Np);return Dp(i,"You must render this element inside a <HydratedRouter> element"),i}function R1(i,e){let t=H.useContext(Np),[s,o]=H.useState(!1),[u,h]=H.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,R=H.useRef(null);H.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let K=U=>{U.forEach($=>{h($.isIntersecting)})},k=new IntersectionObserver(K,{threshold:.5});return R.current&&k.observe(R.current),()=>{k.disconnect()}}},[i]),H.useEffect(()=>{if(s){let K=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(K)}}},[s]);let x=()=>{o(!0)},P=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,R,{}]:[u,R,{onFocus:Ql(d,x),onBlur:Ql(p,P),onMouseEnter:Ql(g,x),onMouseLeave:Ql(E,P),onTouchStart:Ql(b,x)}]:[!1,R,{}]}function Ql(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function I1({page:i,...e}){let{router:t}=ZE(),s=H.useMemo(()=>BE(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?H.createElement(D1,{page:i,matches:s,...e}):null}function C1(i){let{manifest:e,routeModules:t}=JE(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return v1(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function D1({page:i,matches:e,...t}){let s=ma(),{manifest:o,routeModules:u}=JE(),{basename:h}=ZE(),{loaderData:d,matches:p}=S1(),g=H.useMemo(()=>Yv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=H.useMemo(()=>Yv(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let P=new Set,K=!1;if(e.forEach(U=>{var G;let $=o.routes[U.route.id];!$||!$.hasLoader||(!g.some(te=>te.route.id===U.route.id)&&U.route.id in d&&((G=u[U.route.id])!=null&&G.shouldRevalidate)||$.hasClientLoader?K=!0:P.add(U.route.id))}),P.size===0)return[];let k=A1(i,h);return K&&P.size>0&&k.searchParams.set("_routes",e.filter(U=>P.has(U.route.id)).map(U=>U.route.id).join(",")),[k.pathname+k.search]},[h,d,s,o,g,e,i,u]),R=H.useMemo(()=>E1(E,o),[E,o]),x=C1(E);return H.createElement(H.Fragment,null,b.map(P=>H.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),R.map(P=>H.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),x.map(({key:P,link:K})=>H.createElement("link",{key:P,...K})))}function N1(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var eT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eT&&(window.__reactRouterVersion="7.4.0")}catch{}function O1({basename:i,children:e,window:t}){let s=H.useRef();s.current==null&&(s.current=ER({window:t,v5Compat:!0}));let o=s.current,[u,h]=H.useState({action:o.action,location:o.location}),d=H.useCallback(p=>{H.startTransition(()=>h(p))},[h]);return H.useLayoutEffect(()=>o.listen(d),[o,d]),H.createElement(o1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var tT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qh=H.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:b,...R},x){let{basename:P}=H.useContext(Ci),K=typeof g=="string"&&tT.test(g),k,U=!1;if(typeof g=="string"&&K&&(k=g,eT))try{let A=new URL(window.location.href),D=g.startsWith("//")?new URL(A.protocol+g):new URL(g),M=lr(D.pathname,P);D.origin===A.origin&&M!=null?g=M+D.search+D.hash:U=!0}catch{Ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=$R(g,{relative:o}),[G,te,re]=R1(s,R),he=P1(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:b});function O(A){e&&e(A),A.defaultPrevented||he(A)}let S=H.createElement("a",{...R,...re,href:k||$,onClick:U||u?e:O,ref:N1(x,te),target:p,"data-discover":!K&&t==="render"?"true":void 0});return G&&!K?H.createElement(H.Fragment,null,S,H.createElement(I1,{page:$})):S});Qh.displayName="Link";var x1=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},E){let b=wu(h,{relative:g.relative}),R=ma(),x=H.useContext($h),{navigator:P,basename:K}=H.useContext(Ci),k=x!=null&&z1(b)&&d===!0,U=P.encodeLocation?P.encodeLocation(b).pathname:b.pathname,$=R.pathname,G=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||($=$.toLowerCase(),G=G?G.toLowerCase():null,U=U.toLowerCase()),G&&K&&(G=lr(G,K)||G);const te=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let re=$===U||!o&&$.startsWith(U)&&$.charAt(te)==="/",he=G!=null&&(G===U||!o&&G.startsWith(U)&&G.charAt(U.length)==="/"),O={isActive:re,isPending:he,isTransitioning:k},S=re?e:void 0,A;typeof s=="function"?A=s(O):A=[s,re?"active":null,he?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(O):u;return H.createElement(Qh,{...g,"aria-current":S,className:A,ref:E,style:D,to:h,viewTransition:d},typeof p=="function"?p(O):p)});x1.displayName="NavLink";var k1=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=fh,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...R},x)=>{let P=U1(),K=j1(d,{relative:g}),k=h.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&tT.test(d),$=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let te=G.nativeEvent.submitter,re=(te==null?void 0:te.getAttribute("formmethod"))||h;P(te||G.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return H.createElement("form",{ref:x,method:k,action:K,onSubmit:s?p:$,...R,"data-discover":!U&&i==="render"?"true":void 0})});k1.displayName="Form";function M1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nT(i){let e=H.useContext(ko);return at(e,M1(i)),e}function P1(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=Rp(),p=ma(),g=wu(i,{relative:u});return H.useCallback(E=>{if(d1(E,e)){E.preventDefault();let b=t!==void 0?t:uu(p)===uu(g);d(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,s,e,i,o,u,h])}var V1=0,L1=()=>`__${String(++V1)}__`;function U1(){let{router:i}=nT("useSubmit"),{basename:e}=H.useContext(Ci),t=i1();return H.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=g1(s,e);if(o.navigate===!1){let E=o.fetcherKey||L1();await i.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function j1(i,{relative:e}={}){let{basename:t}=H.useContext(Ci),s=H.useContext(mr);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...wu(i||".",{relative:e})},h=ma();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let E=d.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:sr([t,u.pathname])),uu(u)}function z1(i,e={}){let t=H.useContext(KE);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=nT("useViewTransitionState"),o=wu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=lr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=lr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ah(o.pathname,h)!=null||Ah(o.pathname,u)!=null}new TextEncoder;const B1="/Eventure/assets/Hero_section_img-D29dO_Fx.jpg",q1="/Eventure/assets/Aboutus_img-Dkw7-JAL.jpg",H1="/Eventure/assets/city-BM5MIgX_.png";function F1(){const i=Rp(),e=()=>{i("/signup")};return I.jsxs("div",{className:"body",children:[I.jsxs("nav",{className:"navbar",children:[I.jsx("div",{className:"logo",children:"Eventure"}),I.jsxs("ul",{className:"nav-links",children:[I.jsx("li",{children:I.jsx("a",{href:"#about",children:"About Us"})}),I.jsx("li",{children:I.jsx("a",{href:"#how-it-works",children:"How It Works"})}),I.jsx("li",{children:I.jsx("a",{href:"#contact",children:"Contact Us"})})]}),I.jsx("button",{className:"login-button",onClick:e,children:"Log In / Sign Up"})]}),I.jsxs("header",{className:"hero",children:[I.jsxs("div",{className:"container",children:[I.jsxs("h1",{children:["Find Sponsors",I.jsx("br",{}),"with Ease"]}),I.jsx("p",{children:"Fund your events like never before. Connect with sponsors and unlock growth opportunities effortlessly."}),I.jsx("button",{className:"get-started",onClick:e,children:"Get Started"})]}),I.jsx("div",{className:"image-container",children:I.jsx("img",{src:B1,alt:"Eventure graphic"})})]}),I.jsxs("section",{className:"features",children:[I.jsx("h2",{children:"Key Features"}),I.jsxs("div",{className:"container-2",children:[I.jsxs("div",{className:"box",children:[I.jsx("h3",{children:"Find Your Match"}),I.jsx("p",{children:"Discover sponsors or events tailored to your goals and audience."})]}),I.jsxs("div",{className:"box",children:[I.jsx("h3",{children:"Simplified Connections"}),I.jsx("p",{children:"Directly communicate and build relationships on a professional platform."})]}),I.jsxs("div",{className:"box",children:[I.jsx("h3",{children:"Boost Visibility"}),I.jsx("p",{children:"Enhance your branding and outreach with the right partnerships."})]})]})]}),I.jsxs("section",{className:"about-us",id:"about",children:[I.jsxs("div",{className:"container",children:[I.jsx("h2",{children:"About Us"}),I.jsx("p",{children:"At Eventure, we are transforming the landscape of event management by creating a dynamic platform that connects event organizers and sponsors. Our mission is to bridge the gap between these two vital players, fostering collaboration and driving mutual growth."}),I.jsx("p",{children:"For event organizers, Eventure provides the tools and opportunities to discover the perfect sponsors who align with your vision, helping you turn your ideas into impactful and memorable events."}),I.jsx("p",{children:"For sponsors, our platform offers unparalleled access to events that resonate with your brand and audience, enabling you to maximize visibility and achieve your marketing goals."}),I.jsx("p",{children:"Eventure is more than just a platform; it’s a partnership hub. We simplify the process of finding and forming meaningful collaborations, ensuring both organizers and sponsors can focus on what truly matters: creating experiences that inspire, engage, and leave a lasting impact."})]}),I.jsx("div",{className:"img-container",children:I.jsx("img",{src:q1,alt:"Teamwork illustration representing Eventure's mission"})})]}),I.jsxs("section",{className:"choose-eventure",children:[I.jsx("h2",{children:"Why Choose Eventure?"}),I.jsxs("div",{className:"container-2",children:[I.jsxs("div",{className:"box",children:[I.jsx("h3",{children:"Targeted Connections"}),I.jsx("p",{children:"No more cold emails; find sponsors and events that truly match your goals."})]}),I.jsxs("div",{className:"box",children:[I.jsx("h3",{children:"Efficiency"}),I.jsx("p",{children:"Save time by using smart filters and an intuitive interface."})]}),I.jsxs("div",{className:"box",children:[I.jsx("h3",{children:"Growth-Focused"}),I.jsx("p",{children:"Build partnerships that drive branding and visibility."})]})]})]}),I.jsxs("section",{className:"how-it-works",id:"how-it-works",children:[I.jsx("h2",{children:"How It Works"}),I.jsxs("div",{className:"container-2",children:[I.jsxs("div",{className:"box",children:[I.jsx("h3",{children:"Create Your Profile"}),I.jsx("p",{children:"Set up a professional profile to showcase your goals."})]}),I.jsxs("div",{className:"box",children:[I.jsx("h3",{children:"Find & Connect"}),I.jsx("p",{children:"Search for sponsors or events and initiate meaningful connections."})]}),I.jsxs("div",{className:"box",children:[I.jsx("h3",{children:"Secure Deals"}),I.jsx("p",{children:"Collaborate effectively and build lasting partnerships."})]})]})]}),I.jsxs("section",{className:"join",children:[I.jsx("h1",{children:"Join Eventure Today!"}),I.jsx("button",{className:"join-button",onClick:e,children:"Get Started"}),I.jsx("div",{className:"image",children:I.jsx("img",{src:H1,alt:"City skyline illustration"})})]}),I.jsxs("section",{className:"contact",id:"contact",children:[I.jsx("h2",{children:"Contact Us"}),I.jsxs("div",{className:"details",children:[I.jsx("p",{children:"Email: support@eventure.com"}),I.jsx("p",{children:"Phone: +1 (123) 456-7890"}),I.jsx("p",{children:"Address: 123 Eventure Lane, Startup City, SC 98765"})]}),I.jsx("div",{className:"form",children:I.jsxs("form",{children:[I.jsx("input",{type:"text",placeholder:"Your Name",required:!0}),I.jsx("input",{type:"email",placeholder:"Your Email",required:!0}),I.jsx("textarea",{placeholder:"Your Message",rows:"5",required:!0}),I.jsx("button",{type:"submit",children:"Send Message"})]})})]}),I.jsxs("footer",{className:"footer",children:[I.jsxs("div",{className:"footer-container",children:[I.jsxs("div",{className:"footer-section",children:[I.jsx("h4",{children:"Company"}),I.jsxs("ul",{children:[I.jsx("li",{children:I.jsx("a",{href:"#",children:"About"})}),I.jsx("li",{children:I.jsx("a",{href:"#",children:"Careers"})}),I.jsx("li",{children:I.jsx("a",{href:"#",children:"Press"})})]})]}),I.jsxs("div",{className:"footer-section",children:[I.jsx("h4",{children:"Support"}),I.jsxs("ul",{children:[I.jsx("li",{children:I.jsx("a",{href:"#",children:"Help Center"})}),I.jsx("li",{children:I.jsx("a",{href:"#",children:"Terms of Service"})}),I.jsx("li",{children:I.jsx("a",{href:"#",children:"Privacy Policy"})})]})]}),I.jsxs("div",{className:"footer-section",children:[I.jsx("h4",{children:"Social Media"}),I.jsxs("ul",{children:[I.jsx("li",{children:I.jsx("a",{href:"#",children:"LinkedIn"})}),I.jsx("li",{children:I.jsx("a",{href:"#",children:"Twitter"})}),I.jsx("li",{children:I.jsx("a",{href:"#",children:"Facebook"})})]})]})]}),I.jsx("div",{className:"legal",children:"© 2025 Eventure. All rights reserved."})]})]})}const G1=()=>{};var Xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},$1=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,b=(u&3)<<4|d>>4;let R=(d&15)<<2|g>>6,x=g&63;p||(x=64,h||(R=64)),s.push(t[E],t[b],t[R],t[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(iT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):$1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||b==null)throw new K1;const R=u<<2|d>>4;if(s.push(R),g!==64){const x=d<<4&240|g>>2;if(s.push(x),b!==64){const P=g<<6&192|b;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class K1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q1=function(i){const e=iT(i);return rT.encodeByteArray(e,!0)},Sh=function(i){return Q1(i).replace(/\./g,"")},sT=function(i){try{return rT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=()=>Y1().__FIREBASE_DEFAULTS__,W1=()=>{if(typeof process>"u"||typeof Xv>"u")return;const i=Xv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Z1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&sT(i[1]);return e&&JSON.parse(e)},Yh=()=>{try{return G1()||X1()||W1()||Z1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},aT=i=>{var e,t;return(t=(e=Yh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},oT=i=>{const e=aT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},lT=()=>{var i;return(i=Yh())===null||i===void 0?void 0:i.config},uT=i=>{var e;return(e=Yh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Sh(JSON.stringify(t)),Sh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function tI(){var i;const e=(i=Yh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function iI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rI(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function sI(){return!tI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fT(){try{return typeof indexedDB=="object"}catch{return!1}}function dT(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function aI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="FirebaseError";class $n extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=oI,Object.setPrototypeOf(this,$n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pa.prototype.create)}}class pa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?lI(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new $n(o,d,s)}}function lI(i,e){return i.replace(uI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const uI=/\{\$([^}]+)}/g;function cI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function hs(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Wv(u)&&Wv(h)){if(!hs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Wv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Xl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Wl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function hI(i,e){const t=new fI(i,e);return t.subscribe.bind(t)}class fI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");dI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Im),o.error===void 0&&(o.error=Im),o.complete===void 0&&(o.complete=Im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=1e3,pI=2,gI=4*60*60*1e3,yI=.5;function Zv(i,e=mI,t=pI){const s=e*Math.pow(t,i),o=Math.round(yI*s*(Math.random()-.5)*2);return Math.min(gI,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(i){return i&&i._delegate?i._delegate:i}class Gn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new J1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EI(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vI(i){return i===ea?void 0:i}function EI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _I(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(xe||(xe={}));const bI={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},wI=xe.INFO,AI={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},SI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=AI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xh{constructor(e){this.name=e,this._logLevel=wI,this._logHandler=SI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const RI=(i,e)=>e.some(t=>i instanceof t);let Jv,e0;function II(){return Jv||(Jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CI(){return e0||(e0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mT=new WeakMap,Gm=new WeakMap,pT=new WeakMap,Cm=new WeakMap,Op=new WeakMap;function DI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(as(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&mT.set(t,i)}).catch(()=>{}),Op.set(e,i),e}function NI(i){if(Gm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Gm.set(i,e)}let $m={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Gm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||pT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return as(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function OI(i){$m=i($m)}function xI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Dm(this),e,...t);return pT.set(s,e.sort?e.sort():[e]),as(s)}:CI().includes(i)?function(...e){return i.apply(Dm(this),e),as(mT.get(this))}:function(...e){return as(i.apply(Dm(this),e))}}function kI(i){return typeof i=="function"?xI(i):(i instanceof IDBTransaction&&NI(i),RI(i,II())?new Proxy(i,$m):i)}function as(i){if(i instanceof IDBRequest)return DI(i);if(Cm.has(i))return Cm.get(i);const e=kI(i);return e!==i&&(Cm.set(i,e),Op.set(e,i)),e}const Dm=i=>Op.get(i);function gT(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=as(h);return s&&h.addEventListener("upgradeneeded",p=>{s(as(h.result),p.oldVersion,p.newVersion,as(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const MI=["get","getKey","getAll","getAllKeys","count"],PI=["put","add","delete","clear"],Nm=new Map;function t0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=PI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||MI.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Nm.set(e,u),u}OI(i=>({...i,get:(e,t,s)=>t0(e,t)||i.get(e,t,s),has:(e,t)=>!!t0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function LI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Km="@firebase/app",n0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new Xh("@firebase/app"),UI="@firebase/app-compat",jI="@firebase/analytics-compat",zI="@firebase/analytics",BI="@firebase/app-check-compat",qI="@firebase/app-check",HI="@firebase/auth",FI="@firebase/auth-compat",GI="@firebase/database",$I="@firebase/data-connect",KI="@firebase/database-compat",QI="@firebase/functions",YI="@firebase/functions-compat",XI="@firebase/installations",WI="@firebase/installations-compat",ZI="@firebase/messaging",JI="@firebase/messaging-compat",eC="@firebase/performance",tC="@firebase/performance-compat",nC="@firebase/remote-config",iC="@firebase/remote-config-compat",rC="@firebase/storage",sC="@firebase/storage-compat",aC="@firebase/firestore",oC="@firebase/vertexai",lC="@firebase/firestore-compat",uC="firebase",cC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="[DEFAULT]",hC={[Km]:"fire-core",[UI]:"fire-core-compat",[zI]:"fire-analytics",[jI]:"fire-analytics-compat",[qI]:"fire-app-check",[BI]:"fire-app-check-compat",[HI]:"fire-auth",[FI]:"fire-auth-compat",[GI]:"fire-rtdb",[$I]:"fire-data-connect",[KI]:"fire-rtdb-compat",[QI]:"fire-fn",[YI]:"fire-fn-compat",[XI]:"fire-iid",[WI]:"fire-iid-compat",[ZI]:"fire-fcm",[JI]:"fire-fcm-compat",[eC]:"fire-perf",[tC]:"fire-perf-compat",[nC]:"fire-rc",[iC]:"fire-rc-compat",[rC]:"fire-gcs",[sC]:"fire-gcs-compat",[aC]:"fire-fst",[lC]:"fire-fst-compat",[oC]:"fire-vertex","fire-js":"fire-js",[uC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,fC=new Map,Ym=new Map;function i0(i,e){try{i.container.addComponent(e)}catch(t){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ei(i){const e=i.name;if(Ym.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,i);for(const t of Rh.values())i0(t,i);for(const t of fC.values())i0(t,i);return!0}function _s(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function An(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new pa("app","Firebase",dC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=cC;function yT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Qm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(t||(t=lT()),!t)throw os.create("no-options");const u=Rh.get(o);if(u){if(hs(t,u.options)&&hs(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const h=new TI(o);for(const p of Ym.values())h.addComponent(p);const d=new mC(t,s,h);return Rh.set(o,d),d}function Wh(i=Qm){const e=Rh.get(i);if(!e&&i===Qm&&lT())return yT();if(!e)throw os.create("no-app",{appName:i});return e}function pn(i,e,t){var s;let o=(s=hC[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(d.join(" "));return}ei(new Gn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebase-heartbeat-database",gC=1,cu="firebase-heartbeat-store";let Om=null;function _T(){return Om||(Om=gT(pC,gC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(cu)}catch(t){console.warn(t)}}}}).catch(i=>{throw os.create("idb-open",{originalErrorMessage:i.message})})),Om}async function yC(i){try{const t=(await _T()).transaction(cu),s=await t.objectStore(cu).get(vT(i));return await t.done,s}catch(e){if(e instanceof $n)ur.warn(e.message);else{const t=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ur.warn(t.message)}}}async function r0(i,e){try{const s=(await _T()).transaction(cu,"readwrite");await s.objectStore(cu).put(e,vT(i)),await s.done}catch(t){if(t instanceof $n)ur.warn(t.message);else{const s=os.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ur.warn(s.message)}}}function vT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=1024,vC=30;class EC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=s0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>vC){const h=wC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ur.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=s0(),{heartbeatsToSend:s,unsentEntries:o}=TC(this._heartbeatsCache.heartbeats),u=Sh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return ur.warn(t),""}}}function s0(){return new Date().toISOString().substring(0,10)}function TC(i,e=_C){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),a0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),a0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class bC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fT()?dT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return r0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return r0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function a0(i){return Sh(JSON.stringify({version:2,heartbeats:i})).length}function wC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(i){ei(new Gn("platform-logger",e=>new VI(e),"PRIVATE")),ei(new Gn("heartbeat",e=>new EC(e),"PRIVATE")),pn(Km,n0,i),pn(Km,n0,"esm2017"),pn("fire-js","")}AC("");function xp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function ET(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SC=ET,TT=new pa("auth","Firebase",ET());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Xh("@firebase/auth");function RC(i,...e){Ih.logLevel<=xe.WARN&&Ih.warn(`Auth (${ga}): ${i}`,...e)}function mh(i,...e){Ih.logLevel<=xe.ERROR&&Ih.error(`Auth (${ga}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(i,...e){throw kp(i,...e)}function Ti(i,...e){return kp(i,...e)}function bT(i,e,t){const s=Object.assign(Object.assign({},SC()),{[e]:t});return new pa("auth","Firebase",s).create(e,{appName:i.name})}function ar(i){return bT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return TT.create(i,...e)}function Ee(i,e,...t){if(!i)throw kp(e,...t)}function nr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw mh(e),new Error(e)}function cr(i,e){i||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function IC(){return o0()==="http:"||o0()==="https:"}function o0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IC()||hT()||"connection"in navigator)?navigator.onLine:!0}function DC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t){this.shortDelay=e,this.longDelay=t,cr(t>e,"Short delay should be less than long delay!"),this.isMobile=eI()||iI()}get(){return CC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i,e){cr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new Su(3e4,6e4);function vs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Es(i,e,t,s,o={}){return AT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=Au(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return nI()||(g.referrerPolicy="no-referrer"),wT.fetch()(ST(i,i.config.apiHost,t,d),g)})}async function AT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},NC),e);try{const o=new kC(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ih(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ih(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw ih(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw bT(i,E,g);ti(i,E)}}catch(o){if(o instanceof $n)throw o;ti(i,"network-request-failed",{message:String(o)})}}async function Ru(i,e,t,s,o={}){const u=await Es(i,e,t,s,o);return"mfaPendingCredential"in u&&ti(i,"multi-factor-auth-required",{_serverResponse:u}),u}function ST(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Mp(i.config,o):`${i.config.apiScheme}://${o}`}function xC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ti(this.auth,"network-request-failed")),OC.get())})}}function ih(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ti(i,e,s);return o.customData._tokenResponse=t,o}function l0(i){return i!==void 0&&i.enterprise!==void 0}class MC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PC(i,e){return Es(i,"GET","/v2/recaptchaConfig",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(i,e){return Es(i,"POST","/v1/accounts:delete",e)}async function RT(i,e){return Es(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LC(i,e=!1){const t=_t(i),s=await t.getIdToken(e),o=Pp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:nu(xm(o.auth_time)),issuedAtTime:nu(xm(o.iat)),expirationTime:nu(xm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function xm(i){return Number(i)*1e3}function Pp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=sT(t);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function u0(i){const e=Pp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof $n&&UC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function UC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(i){var e;const t=i.auth,s=await i.getIdToken(),o=await hu(i,RT(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?IT(u.providerUserInfo):[],d=BC(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Wm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,b)}async function zC(i){const e=_t(i);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function IT(i){return i.map(e=>{var{providerId:t}=e,s=xp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(i,e){const t=await AT(i,{},async()=>{const s=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=ST(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",wT.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HC(i,e){return Es(i,"POST","/v2/accounts:revokeToken",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=u0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await qC(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new vo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ir{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await hu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return LC(this,e)}reload(){return zC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await hu(this,VC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,d,p,g,E;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,R=(o=t.email)!==null&&o!==void 0?o:void 0,x=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,P=(h=t.photoURL)!==null&&h!==void 0?h:void 0,K=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,U=(g=t.createdAt)!==null&&g!==void 0?g:void 0,$=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:G,emailVerified:te,isAnonymous:re,providerData:he,stsTokenManager:O}=t;Ee(G&&O,e,"internal-error");const S=vo.fromJSON(this.name,O);Ee(typeof G=="string",e,"internal-error"),Zr(b,e.name),Zr(R,e.name),Ee(typeof te=="boolean",e,"internal-error"),Ee(typeof re=="boolean",e,"internal-error"),Zr(x,e.name),Zr(P,e.name),Zr(K,e.name),Zr(k,e.name),Zr(U,e.name),Zr($,e.name);const A=new ir({uid:G,auth:e,email:R,emailVerified:te,displayName:b,isAnonymous:re,photoURL:P,phoneNumber:x,tenantId:K,stsTokenManager:S,createdAt:U,lastLoginAt:$});return he&&Array.isArray(he)&&(A.providerData=he.map(D=>Object.assign({},D))),k&&(A._redirectEventId=k),A}static async _fromIdTokenResponse(e,t,s=!1){const o=new vo;o.updateFromServerResponse(t);const u=new ir({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?IT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new vo;d.updateFromIdToken(s);const p=new ir({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;function rr(i){cr(i instanceof Function,"Expected a class definition");let e=c0.get(i);return e?(cr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,c0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}CT.type="NONE";const h0=CT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(i,e,t){return`firebase:${i}:${e}:${t}`}class Eo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Eo(rr(h0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||rr(h0);const h=ph(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){const b=ir._fromJSON(e,E);g!==u&&(d=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Eo(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Eo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MT(e))return"Blackberry";if(PT(e))return"Webos";if(NT(e))return"Safari";if((e.includes("chrome/")||OT(e))&&!e.includes("edge/"))return"Chrome";if(kT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function DT(i=en()){return/firefox\//i.test(i)}function NT(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OT(i=en()){return/crios\//i.test(i)}function xT(i=en()){return/iemobile/i.test(i)}function kT(i=en()){return/android/i.test(i)}function MT(i=en()){return/blackberry/i.test(i)}function PT(i=en()){return/webos/i.test(i)}function Vp(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function FC(i=en()){var e;return Vp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GC(){return rI()&&document.documentMode===10}function VT(i=en()){return Vp(i)||kT(i)||PT(i)||MT(i)||/windows phone/i.test(i)||xT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(i,e=[]){let t;switch(i){case"Browser":t=f0(en());break;case"Worker":t=`${f0(en())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ga}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(i,e={}){return Es(i,"GET","/v2/passwordPolicy",vs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=6;class YC{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:QC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d0(this),this.idTokenSubscription=new d0(this),this.beforeStateQueue=new $C(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await RT(this,{idToken:e}),s=await ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(An(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(ar(this));const t=e?_t(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KC(this),t=new YC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await HC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&rr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&RC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ya(i){return _t(i)}class d0{constructor(e){this.auth=e,this.observer=null,this.addObserver=hI(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WC(i){Zh=i}function UT(i){return Zh.loadJS(i)}function ZC(){return Zh.recaptchaEnterpriseScript}function JC(){return Zh.gapiScript}function eD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class tD{constructor(){this.enterprise=new nD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class nD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const iD="recaptcha-enterprise",jT="NO_RECAPTCHA";class rD{constructor(e){this.type=iD,this.auth=ya(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{PC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new MC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;l0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(jT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tD().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&l0(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ZC();p.length!==0&&(p+=d),UT(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function m0(i,e,t,s=!1,o=!1){const u=new rD(i);let h;if(o)h=jT;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Zm(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await m0(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await m0(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(i,e){const t=_s(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(hs(u,e??{}))return o;ti(o,"already-initialized")}return t.initialize({options:e})}function aD(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(rr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function oD(i,e,t){const s=ya(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=zT(e),{host:h,port:d}=lD(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(hs(g,s.config.emulator)&&hs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,uD()}function zT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function lD(i){const e=zT(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:p0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:p0(h)}}}function p0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function uD(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,t){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function cD(i,e){return Es(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(i,e){return Ru(i,"POST","/v1/accounts:signInWithPassword",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(i,e){return Ru(i,"POST","/v1/accounts:signInWithEmailLink",vs(i,e))}async function dD(i,e){return Ru(i,"POST","/v1/accounts:signInWithEmailLink",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Lp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new fu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new fu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,t,"signInWithPassword",hD);case"emailLink":return fD(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,s,"signUpPassword",cD);case"emailLink":return dD(e,{idToken:t,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(i,e){return Ru(i,"POST","/v1/accounts:signInWithIdp",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="http://localhost";class sa extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ti("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=xp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new sa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return To(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,To(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,To(e,t)}buildRequest(){const e={requestUri:mD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Au(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gD(i){const e=Xl(Wl(i)).link,t=e?Xl(Wl(e)).deep_link_id:null,s=Xl(Wl(i)).deep_link_id;return(s?Xl(Wl(s)).link:null)||s||t||e||i}class Up{constructor(e){var t,s,o,u,h,d;const p=Xl(Wl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=pD((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=gD(e);try{return new Up(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,t){return fu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Up.parseLink(t);return Ee(s,"argument-error"),fu._fromEmailAndCode(e,s.code,s.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends BT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Iu{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return sa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return es.credential(t,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Iu{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Iu{constructor(){super("twitter.com")}static credential(e,t){return sa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ns.credential(t,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(i,e){return Ru(i,"POST","/v1/accounts:signUp",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ir._fromIdTokenResponse(e,s,o),h=g0(s);return new aa({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=g0(s);return new aa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function g0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends $n{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Dh(e,t,s,o)}}function qT(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(i,u,e,s):u})}async function _D(i,e,t=!1){const s=await hu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return aa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(i,e,t=!1){const{auth:s}=i;if(An(s.app))return Promise.reject(ar(s));const o="reauthenticate";try{const u=await hu(i,qT(s,o,e,i),t);Ee(u.idToken,s,"internal-error");const h=Pp(u.idToken);Ee(h,s,"internal-error");const{sub:d}=h;return Ee(i.uid===d,s,"user-mismatch"),aa._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ti(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(i,e,t=!1){if(An(i.app))return Promise.reject(ar(i));const s="signIn",o=await qT(i,s,e),u=await aa._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function ED(i,e){return HT(ya(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(i){const e=ya(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TD(i,e,t){if(An(i.app))return Promise.reject(ar(i));const s=ya(i),h=await Zm(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&FT(i),p}),d=await aa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function bD(i,e,t){return An(i.app)?Promise.reject(ar(i)):ED(_t(i),Mo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&FT(i),s})}function wD(i,e,t,s){return _t(i).onIdTokenChanged(e,t,s)}function AD(i,e,t){return _t(i).beforeAuthStateChanged(e,t)}function GT(i,e,t,s){return _t(i).onAuthStateChanged(e,t,s)}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=1e3,RD=10;class KT extends $T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);GC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},SD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}KT.type="LOCAL";const ID=KT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends $T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}QT.type="SESSION";const YT=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Jh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await CD(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=jp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function ND(i){bi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function OD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xD(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function kD(){return XT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebaseLocalStorageDb",MD=1,Oh="firebaseLocalStorage",ZT="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ef(i,e){return i.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function PD(){const i=indexedDB.deleteDatabase(WT);return new Cu(i).toPromise()}function Jm(){const i=indexedDB.open(WT,MD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Oh,{keyPath:ZT})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await PD(),e(await Jm()))})})}async function y0(i,e,t){const s=ef(i,!0).put({[ZT]:e,value:t});return new Cu(s).toPromise()}async function VD(i,e){const t=ef(i,!1).get(e),s=await new Cu(t).toPromise();return s===void 0?null:s.value}function _0(i,e){const t=ef(i,!0).delete(e);return new Cu(t).toPromise()}const LD=800,UD=3;class JT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>UD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(kD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await OD(),!this.activeServiceWorker)return;this.sender=new DD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await y0(e,Nh,"1"),await _0(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>y0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>VD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ef(o,!1).getAll();return new Cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JT.type="LOCAL";const jD=JT;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(i,e){return e?rr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,t){return To(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BD(i){return HT(i.auth,new zp(i),i.bypassAuthState)}function qD(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),vD(t,new zp(i),i.bypassAuthState)}async function HD(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),_D(t,new zp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BD;case"linkViaPopup":case"linkViaRedirect":return HD;case"reauthViaPopup":case"reauthViaRedirect":return qD;default:ti(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new Su(2e3,1e4);class _o extends eb{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FD.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="pendingRedirect",gh=new Map;class $D extends eb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await KD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KD(i,e){const t=XD(e),s=YD(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function QD(i,e){gh.set(i._key(),e)}function YD(i){return rr(i._redirectPersistence)}function XD(i){return ph(GD,i.config.apiKey,i.name)}async function WD(i,e,t=!1){if(An(i.app))return Promise.reject(ar(i));const s=ya(i),o=zD(s,e),h=await new $D(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=10*60*1e3;class JD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!tb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ti(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZD&&this.cachedEventUids.clear(),this.cachedEventUids.has(v0(e))}saveEventToCache(e){this.cachedEventUids.add(v0(e)),this.lastProcessedEventTime=Date.now()}}function v0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function tb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(i,e={}){return Es(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iN=/^https?/;async function rN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await tN(i);for(const t of e)try{if(sN(t))return}catch{}ti(i,"unauthorized-domain")}function sN(i){const e=Xm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!iN.test(t))return!1;if(nN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new Su(3e4,6e4);function E0(){const i=bi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function oN(i){return new Promise((e,t)=>{var s,o,u;function h(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),t(Ti(i,"network-request-failed"))},timeout:aN.get()})}if(!((o=(s=bi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=bi().gapi)===null||u===void 0)&&u.load)h();else{const d=eD("iframefcb");return bi()[d]=()=>{gapi.load?h():t(Ti(i,"network-request-failed"))},UT(`${JC()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw yh=null,e})}let yh=null;function lN(i){return yh=yh||oN(i),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new Su(5e3,15e3),cN="__/auth/iframe",hN="emulator/auth/iframe",fN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mN(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Mp(e,hN):`https://${i.config.authDomain}/${cN}`,s={apiKey:e.apiKey,appName:i.name,v:ga},o=dN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Au(s).slice(1)}`}async function pN(i){const e=await lN(i),t=bi().gapi;return Ee(t,i,"internal-error"),e.open({where:document.body,url:mN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ti(i,"network-request-failed"),d=bi().setTimeout(()=>{u(h)},uN.get());function p(){bi().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yN=500,_N=600,vN="_blank",EN="http://localhost";class T0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TN(i,e,t,s=yN,o=_N){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},gN),{width:s.toString(),height:o.toString(),top:u,left:h}),g=en().toLowerCase();t&&(d=OT(g)?vN:t),DT(g)&&(e=e||EN,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[x,P])=>`${R}${x}=${P},`,"");if(FC(g)&&d!=="_self")return bN(e||"",d),new T0(null);const b=window.open(e||"",d,E);Ee(b,i,"popup-blocked");try{b.focus()}catch{}return new T0(b)}function bN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="__/auth/handler",AN="emulator/auth/handler",SN=encodeURIComponent("fac");async function b0(i,e,t,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:ga,eventId:o};if(e instanceof BT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",cI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof Iu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await i._getAppCheckToken(),g=p?`#${SN}=${encodeURIComponent(p)}`:"";return`${RN(i)}?${Au(d).slice(1)}${g}`}function RN({config:i}){return i.emulator?Mp(i,AN):`https://${i.authDomain}/${wN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class IN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=WD,this._overrideRedirectResult=QD}async _openPopup(e,t,s,o){var u;cr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await b0(e,t,s,Xm(),o);return TN(e,h,jp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await b0(e,t,s,Xm(),o);return ND(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await pN(e),s=new JD(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(km,{type:km},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[km];h!==void 0&&t(!!h),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return VT()||NT()||Vp()}}const CN=IN;var w0="@firebase/auth",A0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ON(i){ei(new Gn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LT(i)},g=new XC(s,o,u,p);return aD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ei(new Gn("auth-internal",e=>{const t=ya(e.getProvider("auth").getImmediate());return(s=>new DN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(w0,A0,NN(i)),pn(w0,A0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=5*60,kN=uT("authIdTokenMaxAge")||xN;let S0=null;const MN=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>kN)return;const o=t==null?void 0:t.token;S0!==o&&(S0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function PN(i=Wh()){const e=_s(i,"auth");if(e.isInitialized())return e.getImmediate();const t=sD(i,{popupRedirectResolver:CN,persistence:[jD,ID,YT]}),s=uT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=MN(u.toString());AD(t,h,()=>h(t.currentUser)),wD(t,d=>h(d))}}const o=aT("auth");return o&&oD(t,`http://${o}`),t}function VN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}WC({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ti("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",VN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ON("Browser");var LN="firebase",UN="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(LN,UN,"app");const nb="@firebase/installations",Bp="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=1e4,rb=`w:${Bp}`,sb="FIS_v2",jN="https://firebaseinstallations.googleapis.com/v1",zN=60*60*1e3,BN="installations",qN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},oa=new pa(BN,qN,HN);function ab(i){return i instanceof $n&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob({projectId:i}){return`${jN}/projects/${i}/installations`}function lb(i){return{token:i.token,requestStatus:2,expiresIn:GN(i.expiresIn),creationTime:Date.now()}}async function ub(i,e){const s=(await e.json()).error;return oa.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function cb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function FN(i,{refreshToken:e}){const t=cb(i);return t.append("Authorization",$N(e)),t}async function hb(i){const e=await i();return e.status>=500&&e.status<600?i():e}function GN(i){return Number(i.replace("s","000"))}function $N(i){return`${sb} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=ob(i),o=cb(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:sb,appId:i.appId,sdkVersion:rb},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await hb(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:lb(g.authToken)}}else throw await ub("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=/^[cdef][\w-]{21}$/,ep="";function XN(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=WN(i);return YN.test(t)?t:ep}catch{return ep}}function WN(i){return QN(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=new Map;function mb(i,e){const t=tf(i);pb(t,e),ZN(t,e)}function pb(i,e){const t=db.get(i);if(t)for(const s of t)s(e)}function ZN(i,e){const t=JN();t&&t.postMessage({key:i,fid:e}),eO()}let ta=null;function JN(){return!ta&&"BroadcastChannel"in self&&(ta=new BroadcastChannel("[Firebase] FID Change"),ta.onmessage=i=>{pb(i.data.key,i.data.fid)}),ta}function eO(){db.size===0&&ta&&(ta.close(),ta=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="firebase-installations-database",nO=1,la="firebase-installations-store";let Mm=null;function qp(){return Mm||(Mm=gT(tO,nO,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(la)}}})),Mm}async function xh(i,e){const t=tf(i),o=(await qp()).transaction(la,"readwrite"),u=o.objectStore(la),h=await u.get(t);return await u.put(e,t),await o.done,(!h||h.fid!==e.fid)&&mb(i,e.fid),e}async function gb(i){const e=tf(i),s=(await qp()).transaction(la,"readwrite");await s.objectStore(la).delete(e),await s.done}async function nf(i,e){const t=tf(i),o=(await qp()).transaction(la,"readwrite"),u=o.objectStore(la),h=await u.get(t),d=e(h);return d===void 0?await u.delete(t):await u.put(d,t),await o.done,d&&(!h||h.fid!==d.fid)&&mb(i,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hp(i){let e;const t=await nf(i.appConfig,s=>{const o=iO(s),u=rO(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===ep?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function iO(i){const e=i||{fid:XN(),registrationStatus:0};return yb(e)}function rO(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(oa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=sO(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:aO(i)}:{installationEntry:e}}async function sO(i,e){try{const t=await KN(i,e);return xh(i.appConfig,t)}catch(t){throw ab(t)&&t.customData.serverCode===409?await gb(i.appConfig):await xh(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function aO(i){let e=await R0(i.appConfig);for(;e.registrationStatus===1;)await fb(100),e=await R0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Hp(i);return s||t}return e}function R0(i){return nf(i,e=>{if(!e)throw oa.create("installation-not-found");return yb(e)})}function yb(i){return oO(i)?{fid:i.fid,registrationStatus:0}:i}function oO(i){return i.registrationStatus===1&&i.registrationTime+ib<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO({appConfig:i,heartbeatServiceProvider:e},t){const s=uO(i,t),o=FN(i,t),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:rb,appId:i.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await hb(()=>fetch(s,d));if(p.ok){const g=await p.json();return lb(g)}else throw await ub("Generate Auth Token",p)}function uO(i,{fid:e}){return`${ob(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fp(i,e=!1){let t;const s=await nf(i.appConfig,u=>{if(!_b(u))throw oa.create("not-registered");const h=u.authToken;if(!e&&fO(h))return u;if(h.requestStatus===1)return t=cO(i,e),u;{if(!navigator.onLine)throw oa.create("app-offline");const d=mO(u);return t=hO(i,d),d}});return t?await t:s.authToken}async function cO(i,e){let t=await I0(i.appConfig);for(;t.authToken.requestStatus===1;)await fb(100),t=await I0(i.appConfig);const s=t.authToken;return s.requestStatus===0?Fp(i,e):s}function I0(i){return nf(i,e=>{if(!_b(e))throw oa.create("not-registered");const t=e.authToken;return pO(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function hO(i,e){try{const t=await lO(i,e),s=Object.assign(Object.assign({},e),{authToken:t});return await xh(i.appConfig,s),t}catch(t){if(ab(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await gb(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await xh(i.appConfig,s)}throw t}}function _b(i){return i!==void 0&&i.registrationStatus===2}function fO(i){return i.requestStatus===2&&!dO(i)}function dO(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+zN}function mO(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function pO(i){return i.requestStatus===1&&i.requestTime+ib<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(i){const e=i,{installationEntry:t,registrationPromise:s}=await Hp(e);return s?s.catch(console.error):Fp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(i,e=!1){const t=i;return await _O(t),(await Fp(t,e)).token}async function _O(i){const{registrationPromise:e}=await Hp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(i){if(!i||!i.options)throw Pm("App Configuration");if(!i.name)throw Pm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Pm(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Pm(i){return oa.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="installations",EO="installations-internal",TO=i=>{const e=i.getProvider("app").getImmediate(),t=vO(e),s=_s(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},bO=i=>{const e=i.getProvider("app").getImmediate(),t=_s(e,vb).getImmediate();return{getId:()=>gO(t),getToken:o=>yO(t,o)}};function wO(){ei(new Gn(vb,TO,"PUBLIC")),ei(new Gn(EO,bO,"PRIVATE"))}wO();pn(nb,Bp);pn(nb,Bp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="analytics",AO="firebase_id",SO="origin",RO=60*1e3,IO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new Xh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new pa("analytics","Analytics",CO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(i){if(!i.startsWith(Gp)){const e=Rn.create("invalid-gtag-resource",{gtagURL:i});return gn.warn(e.message),""}return i}function Eb(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function NO(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function OO(i,e){const t=NO("firebase-js-sdk-policy",{createScriptURL:DO}),s=document.createElement("script"),o=`${Gp}?l=${i}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function xO(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function kO(i,e,t,s,o,u){const h=s[o];try{if(h)await e[h];else{const p=(await Eb(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){gn.error(d)}i("config",o,u)}async function MO(i,e,t,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await Eb(t);for(const p of h){const g=d.find(b=>b.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){gn.error(u)}}function PO(i,e,t,s){async function o(u,...h){try{if(u==="event"){const[d,p]=h;await MO(i,e,t,d,p)}else if(u==="config"){const[d,p]=h;await kO(i,e,t,s,d,p)}else if(u==="consent"){const[d,p]=h;i("consent",d,p)}else if(u==="get"){const[d,p,g]=h;i("get",d,p,g)}else if(u==="set"){const[d]=h;i("set",d)}else i(u,...h)}catch(d){gn.error(d)}}return o}function VO(i,e,t,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=PO(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function LO(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Gp)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=30,jO=1e3;class zO{constructor(e={},t=jO){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Tb=new zO;function BO(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function qO(i){var e;const{appId:t,apiKey:s}=i,o={method:"GET",headers:BO(s)},u=IO.replace("{app-id}",t),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function HO(i,e=Tb,t){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Rn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Rn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new $O;return setTimeout(async()=>{d.abort()},RO),bb({appId:s,apiKey:o,measurementId:u},h,d,e)}async function bb(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=Tb){var u;const{appId:h,measurementId:d}=i;try{await FO(s,e)}catch(p){if(d)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await qO(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!GO(g)){if(o.deleteThrottleMetadata(h),d)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?Zv(t,o.intervalMillis,UO):Zv(t,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(h,b),gn.debug(`Calling attemptFetch again in ${E} millis`),bb(i,b,s,o)}}function FO(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),s(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function GO(i){if(!(i instanceof $n)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class $O{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KO(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});i("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(){if(fT())try{await dT()}catch(i){return gn.warn(Rn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return gn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YO(i,e,t,s,o,u,h){var d;const p=HO(i);p.then(x=>{t[x.measurementId]=x.appId,i.options.measurementId&&x.measurementId!==i.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>gn.error(x)),e.push(p);const g=QO().then(x=>{if(x)return s.getId()}),[E,b]=await Promise.all([p,g]);LO(u)||OO(u,E.measurementId),o("js",new Date);const R=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return R[SO]="firebase",R.update=!0,b!=null&&(R[AO]=b),o("config",E.measurementId,R),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.app=e}_delete(){return delete iu[this.app.options.appId],Promise.resolve()}}let iu={},C0=[];const D0={};let Vm="dataLayer",WO="gtag",N0,wb,O0=!1;function ZO(){const i=[];if(hT()&&i.push("This is a browser extension environment."),aI()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=Rn.create("invalid-analytics-context",{errorInfo:e});gn.warn(t.message)}}function JO(i,e,t){ZO();const s=i.options.appId;if(!s)throw Rn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(iu[s]!=null)throw Rn.create("already-exists",{id:s});if(!O0){xO(Vm);const{wrappedGtag:u,gtagCore:h}=VO(iu,C0,D0,Vm,WO);wb=u,N0=h,O0=!0}return iu[s]=YO(i,C0,D0,e,N0,Vm,t),new XO(i)}function e2(i=Wh()){i=_t(i);const e=_s(i,kh);return e.isInitialized()?e.getImmediate():t2(i)}function t2(i,e={}){const t=_s(i,kh);if(t.isInitialized()){const o=t.getImmediate();if(hs(e,t.getOptions()))return o;throw Rn.create("already-initialized")}return t.initialize({options:e})}function n2(i,e,t,s){i=_t(i),KO(wb,iu[i.app.options.appId],e,t,s).catch(o=>gn.error(o))}const x0="@firebase/analytics",k0="0.10.12";function i2(){ei(new Gn(kh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return JO(s,o,t)},"PUBLIC")),ei(new Gn("analytics-internal",i,"PRIVATE")),pn(x0,k0),pn(x0,k0,"esm2017");function i(e){try{const t=e.getProvider(kh).getImmediate();return{logEvent:(s,o,u)=>n2(t,s,o,u)}}catch(t){throw Rn.create("interop-component-reg-failed",{reason:t})}}}i2();var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,Ab;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function A(){}A.prototype=S.prototype,O.D=S.prototype,O.prototype=new A,O.prototype.constructor=O,O.C=function(D,M,z){for(var N=Array(arguments.length-2),We=2;We<arguments.length;We++)N[We-2]=arguments[We];return S.prototype[M].apply(D,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,S,A){A||(A=0);var D=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)D[M]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(M=0;16>M;++M)D[M]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=O.g[0],A=O.g[1],M=O.g[2];var z=O.g[3],N=S+(z^A&(M^z))+D[0]+3614090360&4294967295;S=A+(N<<7&4294967295|N>>>25),N=z+(M^S&(A^M))+D[1]+3905402710&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(A^z&(S^A))+D[2]+606105819&4294967295,M=z+(N<<17&4294967295|N>>>15),N=A+(S^M&(z^S))+D[3]+3250441966&4294967295,A=M+(N<<22&4294967295|N>>>10),N=S+(z^A&(M^z))+D[4]+4118548399&4294967295,S=A+(N<<7&4294967295|N>>>25),N=z+(M^S&(A^M))+D[5]+1200080426&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(A^z&(S^A))+D[6]+2821735955&4294967295,M=z+(N<<17&4294967295|N>>>15),N=A+(S^M&(z^S))+D[7]+4249261313&4294967295,A=M+(N<<22&4294967295|N>>>10),N=S+(z^A&(M^z))+D[8]+1770035416&4294967295,S=A+(N<<7&4294967295|N>>>25),N=z+(M^S&(A^M))+D[9]+2336552879&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(A^z&(S^A))+D[10]+4294925233&4294967295,M=z+(N<<17&4294967295|N>>>15),N=A+(S^M&(z^S))+D[11]+2304563134&4294967295,A=M+(N<<22&4294967295|N>>>10),N=S+(z^A&(M^z))+D[12]+1804603682&4294967295,S=A+(N<<7&4294967295|N>>>25),N=z+(M^S&(A^M))+D[13]+4254626195&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(A^z&(S^A))+D[14]+2792965006&4294967295,M=z+(N<<17&4294967295|N>>>15),N=A+(S^M&(z^S))+D[15]+1236535329&4294967295,A=M+(N<<22&4294967295|N>>>10),N=S+(M^z&(A^M))+D[1]+4129170786&4294967295,S=A+(N<<5&4294967295|N>>>27),N=z+(A^M&(S^A))+D[6]+3225465664&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^A&(z^S))+D[11]+643717713&4294967295,M=z+(N<<14&4294967295|N>>>18),N=A+(z^S&(M^z))+D[0]+3921069994&4294967295,A=M+(N<<20&4294967295|N>>>12),N=S+(M^z&(A^M))+D[5]+3593408605&4294967295,S=A+(N<<5&4294967295|N>>>27),N=z+(A^M&(S^A))+D[10]+38016083&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^A&(z^S))+D[15]+3634488961&4294967295,M=z+(N<<14&4294967295|N>>>18),N=A+(z^S&(M^z))+D[4]+3889429448&4294967295,A=M+(N<<20&4294967295|N>>>12),N=S+(M^z&(A^M))+D[9]+568446438&4294967295,S=A+(N<<5&4294967295|N>>>27),N=z+(A^M&(S^A))+D[14]+3275163606&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^A&(z^S))+D[3]+4107603335&4294967295,M=z+(N<<14&4294967295|N>>>18),N=A+(z^S&(M^z))+D[8]+1163531501&4294967295,A=M+(N<<20&4294967295|N>>>12),N=S+(M^z&(A^M))+D[13]+2850285829&4294967295,S=A+(N<<5&4294967295|N>>>27),N=z+(A^M&(S^A))+D[2]+4243563512&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^A&(z^S))+D[7]+1735328473&4294967295,M=z+(N<<14&4294967295|N>>>18),N=A+(z^S&(M^z))+D[12]+2368359562&4294967295,A=M+(N<<20&4294967295|N>>>12),N=S+(A^M^z)+D[5]+4294588738&4294967295,S=A+(N<<4&4294967295|N>>>28),N=z+(S^A^M)+D[8]+2272392833&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^A)+D[11]+1839030562&4294967295,M=z+(N<<16&4294967295|N>>>16),N=A+(M^z^S)+D[14]+4259657740&4294967295,A=M+(N<<23&4294967295|N>>>9),N=S+(A^M^z)+D[1]+2763975236&4294967295,S=A+(N<<4&4294967295|N>>>28),N=z+(S^A^M)+D[4]+1272893353&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^A)+D[7]+4139469664&4294967295,M=z+(N<<16&4294967295|N>>>16),N=A+(M^z^S)+D[10]+3200236656&4294967295,A=M+(N<<23&4294967295|N>>>9),N=S+(A^M^z)+D[13]+681279174&4294967295,S=A+(N<<4&4294967295|N>>>28),N=z+(S^A^M)+D[0]+3936430074&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^A)+D[3]+3572445317&4294967295,M=z+(N<<16&4294967295|N>>>16),N=A+(M^z^S)+D[6]+76029189&4294967295,A=M+(N<<23&4294967295|N>>>9),N=S+(A^M^z)+D[9]+3654602809&4294967295,S=A+(N<<4&4294967295|N>>>28),N=z+(S^A^M)+D[12]+3873151461&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^A)+D[15]+530742520&4294967295,M=z+(N<<16&4294967295|N>>>16),N=A+(M^z^S)+D[2]+3299628645&4294967295,A=M+(N<<23&4294967295|N>>>9),N=S+(M^(A|~z))+D[0]+4096336452&4294967295,S=A+(N<<6&4294967295|N>>>26),N=z+(A^(S|~M))+D[7]+1126891415&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~A))+D[14]+2878612391&4294967295,M=z+(N<<15&4294967295|N>>>17),N=A+(z^(M|~S))+D[5]+4237533241&4294967295,A=M+(N<<21&4294967295|N>>>11),N=S+(M^(A|~z))+D[12]+1700485571&4294967295,S=A+(N<<6&4294967295|N>>>26),N=z+(A^(S|~M))+D[3]+2399980690&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~A))+D[10]+4293915773&4294967295,M=z+(N<<15&4294967295|N>>>17),N=A+(z^(M|~S))+D[1]+2240044497&4294967295,A=M+(N<<21&4294967295|N>>>11),N=S+(M^(A|~z))+D[8]+1873313359&4294967295,S=A+(N<<6&4294967295|N>>>26),N=z+(A^(S|~M))+D[15]+4264355552&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~A))+D[6]+2734768916&4294967295,M=z+(N<<15&4294967295|N>>>17),N=A+(z^(M|~S))+D[13]+1309151649&4294967295,A=M+(N<<21&4294967295|N>>>11),N=S+(M^(A|~z))+D[4]+4149444226&4294967295,S=A+(N<<6&4294967295|N>>>26),N=z+(A^(S|~M))+D[11]+3174756917&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~A))+D[2]+718787259&4294967295,M=z+(N<<15&4294967295|N>>>17),N=A+(z^(M|~S))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+z&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var A=S-this.blockSize,D=this.B,M=this.h,z=0;z<S;){if(M==0)for(;z<=A;)o(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<S;)if(D[M++]=O.charCodeAt(z++),M==this.blockSize){o(this,D),M=0;break}}else for(;z<S;)if(D[M++]=O[z++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var A=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=A&255,A/=256;for(this.u(O),O=Array(16),S=A=0;4>S;++S)for(var D=0;32>D;D+=8)O[A++]=this.g[S]>>>D&255;return O};function u(O,S){var A=d;return Object.prototype.hasOwnProperty.call(A,O)?A[O]:A[O]=S(O)}function h(O,S){this.h=S;for(var A=[],D=!0,M=O.length-1;0<=M;M--){var z=O[M]|0;D&&z==S||(A[M]=z,D=!1)}this.g=A}var d={};function p(O){return-128<=O&&128>O?u(O,function(S){return new h([S|0],0>S?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return k(g(-O));for(var S=[],A=1,D=0;O>=A;D++)S[D]=O/A|0,A*=4294967296;return new h(S,0)}function E(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return k(E(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(S,8)),D=b,M=0;M<O.length;M+=8){var z=Math.min(8,O.length-M),N=parseInt(O.substring(M,M+z),S);8>z?(z=g(Math.pow(S,z)),D=D.j(z).add(g(N))):(D=D.j(A),D=D.add(g(N)))}return D}var b=p(0),R=p(1),x=p(16777216);i=h.prototype,i.m=function(){if(K(this))return-k(this).m();for(var O=0,S=1,A=0;A<this.g.length;A++){var D=this.i(A);O+=(0<=D?D:4294967296+D)*S,S*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P(this))return"0";if(K(this))return"-"+k(this).toString(O);for(var S=g(Math.pow(O,6)),A=this,D="";;){var M=te(A,S).g;A=U(A,M.j(S));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(O);if(A=M,P(A))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function P(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function K(O){return O.h==-1}i.l=function(O){return O=U(this,O),K(O)?-1:P(O)?0:1};function k(O){for(var S=O.g.length,A=[],D=0;D<S;D++)A[D]=~O.g[D];return new h(A,~O.h).add(R)}i.abs=function(){return K(this)?k(this):this},i.add=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0,M=0;M<=S;M++){var z=D+(this.i(M)&65535)+(O.i(M)&65535),N=(z>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);D=N>>>16,z&=65535,N&=65535,A[M]=N<<16|z}return new h(A,A[A.length-1]&-2147483648?-1:0)};function U(O,S){return O.add(k(S))}i.j=function(O){if(P(this)||P(O))return b;if(K(this))return K(O)?k(this).j(k(O)):k(k(this).j(O));if(K(O))return k(this.j(k(O)));if(0>this.l(x)&&0>O.l(x))return g(this.m()*O.m());for(var S=this.g.length+O.g.length,A=[],D=0;D<2*S;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<O.g.length;M++){var z=this.i(D)>>>16,N=this.i(D)&65535,We=O.i(M)>>>16,et=O.i(M)&65535;A[2*D+2*M]+=N*et,$(A,2*D+2*M),A[2*D+2*M+1]+=z*et,$(A,2*D+2*M+1),A[2*D+2*M+1]+=N*We,$(A,2*D+2*M+1),A[2*D+2*M+2]+=z*We,$(A,2*D+2*M+2)}for(D=0;D<S;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=S;D<2*S;D++)A[D]=0;return new h(A,0)};function $(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function G(O,S){this.g=O,this.h=S}function te(O,S){if(P(S))throw Error("division by zero");if(P(O))return new G(b,b);if(K(O))return S=te(k(O),S),new G(k(S.g),k(S.h));if(K(S))return S=te(O,k(S)),new G(k(S.g),S.h);if(30<O.g.length){if(K(O)||K(S))throw Error("slowDivide_ only works with positive integers.");for(var A=R,D=S;0>=D.l(O);)A=re(A),D=re(D);var M=he(A,1),z=he(D,1);for(D=he(D,2),A=he(A,2);!P(D);){var N=z.add(D);0>=N.l(O)&&(M=M.add(A),z=N),D=he(D,1),A=he(A,1)}return S=U(O,M.j(S)),new G(M,S)}for(M=b;0<=O.l(S);){for(A=Math.max(1,Math.floor(O.m()/S.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=g(A),N=z.j(S);K(N)||0<N.l(O);)A-=D,z=g(A),N=z.j(S);P(z)&&(z=R),M=M.add(z),O=U(O,N)}return new G(M,O)}i.A=function(O){return te(this,O).h},i.and=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)&O.i(D);return new h(A,this.h&O.h)},i.or=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)|O.i(D);return new h(A,this.h|O.h)},i.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)^O.i(D);return new h(A,this.h^O.h)};function re(O){for(var S=O.g.length+1,A=[],D=0;D<S;D++)A[D]=O.i(D)<<1|O.i(D-1)>>>31;return new h(A,O.h)}function he(O,S){var A=S>>5;S%=32;for(var D=O.g.length-A,M=[],z=0;z<D;z++)M[z]=0<S?O.i(z+A)>>>S|O.i(z+A+1)<<32-S:O.i(z+A);return new h(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ab=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ls=h}).apply(typeof M0<"u"?M0:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sb,Zl,Rb,_h,tp,Ib,Cb,Db;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in _))break e;_=_[q]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,q={next:function(){if(!w&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return w=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,w),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,R.apply(null,arguments)}function x(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function P(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,q,Y){for(var se=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)se[Pe-2]=arguments[Pe];return y.prototype[q].apply(w,se)}}function K(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function k(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const q=c.length||0,Y=w.length||0;c.length=q+Y;for(let se=0;se<Y;se++)c[q+se]=w[se]}else c.push(w)}}class U{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function te(c){return te[" "](c),c}te[" "]=function(){};var re=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function he(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function S(c){const y={};for(const _ in c)y[_]=c[_];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let _,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(_ in w)c[_]=w[_];for(let Y=0;Y<A.length;Y++)_=A[Y],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function M(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){d.setTimeout(()=>{throw c},0)}function N(){var c=Fe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class We{constructor(){this.h=this.g=null}add(y,_){const w=et.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var et=new U(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,de=!1,Fe=new We,V=()=>{const c=d.Promise.resolve(void 0);_e=()=>{c.then(ie)}};var ie=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){z(_)}var y=et;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function Ie(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{te(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}P(Ie,oe);var Se={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function lt(c,y,_,w,q){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=q,this.key=++ze,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function tn(c){this.src=c,this.g={},this.h=0}tn.prototype.add=function(c,y,_,w,q){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var se=In(c,y,w,q);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new lt(y,this.src,Y,!!w,q),y.fa=_,c.push(y)),y};function Di(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],q=Array.prototype.indexOf.call(w,y,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(w,q,1),Y&&(Ke(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function In(c,y,_,w){for(var q=0;q<c.length;++q){var Y=c[q];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==w)return q}return-1}var pr="closure_lm_"+(1e6*Math.random()|0),gr={};function Ni(c,y,_,w,q){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Ni(c,y[Y],_,w,q);return null}return _=Pu(_),c&&c[vt]?c.K(y,_,g(w)?!!w.capture:!1,q):zo(c,y,_,!1,w,q)}function zo(c,y,_,w,q,Y){if(!y)throw Error("Invalid event type");var se=g(q)?!!q.capture:!!q,Pe=Bo(c);if(Pe||(c[pr]=Pe=new tn(c)),_=Pe.add(y,_,w,se,Y),_.proxy)return _;if(w=wa(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)le||(q=se),q===void 0&&(q=!1),c.addEventListener(y.toString(),w,q);else if(c.attachEvent)c.attachEvent(Sa(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function wa(){function c(_){return y.call(c.src,c.listener,_)}const y=Tf;return c}function Aa(c,y,_,w,q){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Aa(c,y[Y],_,w,q);else w=g(w)?!!w.capture:!!w,_=Pu(_),c&&c[vt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=In(Y,_,w,q),-1<_&&(Ke(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Bo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=In(y,_,w,q)),(_=-1<c?y[c]:null)&&Ts(_))}function Ts(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[vt])Di(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(Sa(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Bo(y))?(Di(_,c),_.h==0&&(_.src=null,y[pr]=null)):Ke(c)}}}function Sa(c){return c in gr?gr[c]:gr[c]="on"+c}function Tf(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&Ts(c),c=_.call(w,y)}return c}function Bo(c){return c=c[pr],c instanceof tn?c:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pu(c){return typeof c=="function"?c:(c[hn]||(c[hn]=function(y){return c.handleEvent(y)}),c[hn])}function St(){pe.call(this),this.i=new tn(this),this.M=this,this.F=null}P(St,pe),St.prototype[vt]=!0,St.prototype.removeEventListener=function(c,y,_,w){Aa(this,c,y,_,w)};function kt(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var q=y;y=new oe(w,c),D(y,q)}if(q=!0,_)for(var Y=_.length-1;0<=Y;Y--){var se=y.g=_[Y];q=Oi(se,w,!0,y)&&q}if(se=y.g=c,q=Oi(se,w,!0,y)&&q,q=Oi(se,w,!1,y)&&q,_)for(Y=0;Y<_.length;Y++)se=y.g=_[Y],q=Oi(se,w,!1,y)&&q}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)Ke(_[w]);delete c.g[y],c.h--}}this.F=null},St.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},St.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function Oi(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Y=0;Y<y.length;++Y){var se=y[Y];if(se&&!se.da&&se.capture==_){var Pe=se.listener,It=se.ha||se.src;se.fa&&Di(c.i,se),q=Pe.call(It,w)!==!1&&q}}return q&&!w.defaultPrevented}function Vu(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function qo(c){c.g=Vu(()=>{c.g=null,c.i&&(c.i=!1,qo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class bf extends pe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){pe.call(this),this.h=c,this.g={}}P(bs,pe);var yr=[];function Qt(c){he(c.g,function(y,_){this.g.hasOwnProperty(_)&&Ts(y)},c),c.g={}}bs.prototype.N=function(){bs.aa.N.call(this),Qt(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ho=d.JSON.stringify,ii=d.JSON.parse,nn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Fo(){}Fo.prototype.h=null;function Lu(c){return c.h||(c.h=c.i())}function Uu(){}var ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){oe.call(this,"d")}P(_r,oe);function Kn(){oe.call(this,"c")}P(Kn,oe);var Cn={},vr=null;function Ra(){return vr=vr||new St}Cn.La="serverreachability";function Go(c){oe.call(this,Cn.La,c)}P(Go,oe);function Er(c){const y=Ra();kt(y,new Go(y))}Cn.STAT_EVENT="statevent";function Ia(c,y){oe.call(this,Cn.STAT_EVENT,c),this.stat=y}P(Ia,oe);function pt(c){const y=Ra();kt(y,new Ia(y,c))}Cn.Ma="timingevent";function ju(c,y){oe.call(this,Cn.Ma,c),this.size=y}P(ju,oe);function Tr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function br(){this.g=!0}br.prototype.xa=function(){this.g=!1};function zu(c,y,_,w,q,Y){c.info(function(){if(c.g)if(Y)for(var se="",Pe=Y.split("&"),It=0;It<Pe.length;It++){var Ve=Pe[It].split("=");if(1<Ve.length){var Vt=Ve[0];Ve=Ve[1];var Ct=Vt.split("_");se=2<=Ct.length&&Ct[1]=="type"?se+(Vt+"="+Ve+"&"):se+(Vt+"=redacted&")}}else se=null;else se=Y;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+_+`
`+se})}function Bu(c,y,_,w,q,Y,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+_+`
`+Y+" "+se})}function wr(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mt(c,_)+(w?" "+w:"")})}function si(c,y){c.info(function(){return"TIMEOUT: "+y})}br.prototype.info=function(){};function Mt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var q=w[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var se=1;se<q.length;se++)q[se]=""}}}}return Ho(_)}catch{return y}}var Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ws;function Ca(){}P(Ca,Fo),Ca.prototype.g=function(){return new XMLHttpRequest},Ca.prototype.i=function(){return{}},ws=new Ca;function ai(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $o}function $o(){this.i=null,this.g="",this.h=!1}var Ar={},As={};function Qn(c,y,_){c.L=1,c.v=Is(ut(y)),c.m=_,c.P=!0,ki(c,null)}function ki(c,y){c.F=Date.now(),it(c),c.A=ut(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Vi(_.i,"t",w),c.C=0,_=c.j.J,c.h=new $o,c.g=tc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new bf(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(yr[0]=q.toString()),q=yr);for(var Y=0;Y<q.length;Y++){var se=Ni(_,q[Y],w||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Er(),zu(c.i,c.u,c.A,c.l,c.R,c.m)}ai.prototype.ca=function(c){c=c.target;const y=this.M;y&&kn(c)==3?y.j():this.Y(c)},ai.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=kn(this.g);var y=this.g.Ba();const zi=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Ku(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=zi?Er(3):Er(2)),Da(this);var _=this.g.Z();this.X=_;t:if(Sr(this)){var w=Ku(this.g);c="";var q=w.length,Y=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),yn(this);var se="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(Y&&y==q-1)});w.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Bu(this.i,this.u,this.A,this.l,this.R,Ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,It=this.g;if((Pe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Pe)){var Ve=Pe;break t}}Ve=null}if(_=Ve)wr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_n(this,_);else{this.o=!1,this.s=3,pt(12),fn(this),yn(this);break e}}if(this.P){_=!0;let Bt;for(;!this.J&&this.C<se.length;)if(Bt=Rr(this,se),Bt==As){Ct==4&&(this.s=4,pt(14),_=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Ar){this.s=4,pt(15),wr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else wr(this.i,this.l,Bt,null),_n(this,Bt);if(Sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||se.length!=0||this.h.h||(this.s=1,pt(16),_=!1),this.o=this.o&&_,!_)wr(this.i,this.l,se,"[Invalid Chunked Response]"),fn(this),yn(this);else if(0<se.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ms(Vt),Vt.M=!0,pt(11))}}else wr(this.i,this.l,se,null),_n(this,se);Ct==4&&fn(this),this.o&&!this.J&&(Ct==4?Zu(this.j,this):(this.o=!1,it(this)))}else Cf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),fn(this),yn(this)}}}catch{}finally{}};function Sr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Rr(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?As:(_=Number(y.substring(_,w)),isNaN(_)?Ar:(w+=1,w+_>y.length?As:(y=y.slice(w,w+_),c.C=w+_,y)))}ai.prototype.cancel=function(){this.J=!0,fn(this)};function it(c){c.S=Date.now()+c.I,Ko(c,c.I)}function Ko(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tr(R(c.ba,c),y)}function Da(c){c.B&&(d.clearTimeout(c.B),c.B=null)}ai.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(si(this.i,this.A),this.L!=2&&(Er(),pt(17)),fn(this),this.s=2,yn(this)):Ko(this,this.S-c)};function yn(c){c.j.G==0||c.J||Zu(c.j,c)}function fn(c){Da(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Qt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function _n(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ir(_.h,c))){if(!c.K&&Ir(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ja(_),La(_);else break e;rl(_),pt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tr(R(_.Za,_),6e3));if(1>=qu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ji(_,11)}else if((c.K||_.g==c)&&ja(_),!$(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let Ve=q[y];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Vt=Ve[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const Ct=Ve[4];Ct!=null&&(_.Aa=Ct,_.j.info("SVER="+_.Aa));const zi=Ve[5];zi!=null&&typeof zi=="number"&&0<zi&&(w=1.5*zi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Bt=c.g;if(Bt){const di=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var Y=w.h;Y.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Cr(Y,Y.h),Y.h=null))}if(w.D){const al=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(w.ya=al,Be(w.I,w.D,al))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var se=c;if(w.qa=ec(w,w.J?w.ia:null,w.W),se.K){Dn(w.h,se);var Pe=se,It=w.L;It&&(Pe.I=It),Pe.B&&(Da(Pe),it(Pe)),w.g=se}else Xu(w);0<_.i.length&&Ua(_)}else Ve[0]!="stop"&&Ve[0]!="close"||ji(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?ji(_,7):nl(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}Er(4)}catch{}}var wf=class{constructor(c,y){this.g=c,this.map=y}};function Qo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function qu(c){return c.h?1:c.g?c.g.size:0}function Ir(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Cr(c,y){c.g?c.g.add(y):c.h=y}function Dn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Qo.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function rn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return K(c.i)}function Hu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function Af(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Ss(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Af(c),w=Hu(c),q=w.length,Y=0;Y<q;Y++)y.call(void 0,w[Y],_&&_[Y],c)}var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),q=null;if(0<=w){var Y=c[_].substring(0,w);q=c[_].substring(w+1)}else Y=c[_];y(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Mi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Mi){this.h=c.h,Dr(this,c.j),this.o=c.o,this.g=c.g,Rs(this,c.s),this.l=c.l;var y=c.i,_=new oi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Oa(this,_),this.m=c.m}else c&&(y=String(c).match(Xo))?(this.h=!1,Dr(this,y[1]||"",!0),this.o=Nr(y[2]||""),this.g=Nr(y[3]||"",!0),Rs(this,y[4]),this.l=Nr(y[5]||"",!0),Oa(this,y[6]||"",!0),this.m=Nr(y[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}Mi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Nn(y,Wo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Nn(y,Wo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Nn(_,_.charAt(0)=="/"?Zo:Fu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Nn(_,If)),c.join("")};function ut(c){return new Mi(c)}function Dr(c,y,_){c.j=_?Nr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Rs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Oa(c,y,_){y instanceof oi?(c.i=y,Jo(c.i,c.h)):(_||(y=Nn(y,Rf)),c.i=new oi(y,c.h))}function Be(c,y,_){c.i.set(y,_)}function Is(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Sf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Sf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wo=/[#\/\?@]/g,Fu=/[#\?:]/g,Zo=/[#\?]/g,Rf=/[#\?@]/g,If=/#/g;function oi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function On(c){c.g||(c.g=new Map,c.h=0,c.i&&Na(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=oi.prototype,i.add=function(c,y){On(this),this.i=null,c=Li(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function xa(c,y){On(c),y=Li(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Pi(c,y){return On(c),y=Li(c,y),c.g.has(y)}i.forEach=function(c,y){On(this),this.g.forEach(function(_,w){_.forEach(function(q){c.call(y,q,w,this)},this)},this)},i.na=function(){On(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const q=c[w];for(let Y=0;Y<q.length;Y++)_.push(y[w])}return _},i.V=function(c){On(this);let y=[];if(typeof c=="string")Pi(this,c)&&(y=y.concat(this.g.get(Li(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return On(this),this.i=null,c=Li(this,c),Pi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Vi(c,y,_){xa(c,y),0<_.length&&(c.i=null,c.g.set(Li(c,y),K(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const Y=encodeURIComponent(String(w)),se=this.V(w);for(w=0;w<se.length;w++){var q=Y;se[w]!==""&&(q+="="+encodeURIComponent(String(se[w]))),c.push(q)}}return this.i=c.join("&")};function Li(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Jo(c,y){y&&!c.j&&(On(c),c.i=null,c.g.forEach(function(_,w){var q=w.toLowerCase();w!=q&&(xa(this,w),Vi(this,q,_))},c)),c.j=y}function Gu(c,y){const _=new br;if(d.Image){const w=new Image;w.onload=x(xn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=x(xn,_,"TestLoadImage: error",!1,y,w),w.onabort=x(xn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=x(xn,_,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Cs(c,y){const _=new br,w=new AbortController,q=setTimeout(()=>{w.abort(),xn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Y=>{clearTimeout(q),Y.ok?xn(_,"TestPingServer: ok",!0,y):xn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),xn(_,"TestPingServer: error",!1,y)})}function xn(c,y,_,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(_)}catch{}}function Ds(){this.g=new nn}function li(c,y,_){const w=_||"";try{Ss(c,function(q,Y){let se=q;g(q)&&(se=Ho(q)),y.push(w+Y+"="+encodeURIComponent(se))})}catch(q){throw y.push(w+"type="+encodeURIComponent("_badmap")),q}}function Or(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Or,Fo),Or.prototype.g=function(){return new Ui(this.l,this.j)},Or.prototype.i=function(c){return function(){return c}}({});function Ui(c,y){St.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ui,St),i=Ui.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ci(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ui(this):ci(this),this.readyState==3&&el(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ui(this))},i.Qa=function(c){this.g&&(this.response=c,ui(this))},i.ga=function(){this.g&&ui(this)};function ui(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ci(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ci(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function tl(c){let y="";return he(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Pt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=tl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Be(c,y,_))}function Ge(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ge,St);var ka=/^https?$/i,Ns=["POST","PUT"];i=Ge.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ws.g(),this.v=this.o?Lu(this.o):Lu(ws),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){$u(this,Y);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)_.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())_.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ns,y,void 0))||w||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of _)this.g.setRequestHeader(Y,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){$u(this,Y)}};function $u(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ma(c),hi(c)}function Ma(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,kt(this,"complete"),kt(this,"abort"),hi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},i.bb=function(){Pa(this)};function Pa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||kn(c)!=4||c.Z()!=2)){if(c.u&&kn(c)==4)Vu(c.Ea,0,c);else if(kt(c,"readystatechange"),kn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=se===0){var q=String(c.D).match(Xo)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),w=!ka.test(q?q.toLowerCase():"")}_=w}if(_)kt(c,"complete"),kt(c,"success");else{c.m=6;try{var Y=2<kn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Ma(c)}}finally{hi(c)}}}}function hi(c,y){if(c.g){Os(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||kt(c,"ready");try{_.onreadystatechange=w}catch{}}}function Os(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function kn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ii(y)}};function Ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Cf(c){const y={};c=(c.g&&2<=kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if($(c[w]))continue;var _=M(c[w]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[q]||[];y[q]=Y,Y.push(_)}O(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Va(c){this.Aa=0,this.i=[],this.j=new br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xs("baseRetryDelayMs",5e3,c),this.cb=xs("retryDelaySeedMs",1e4,c),this.Wa=xs("forwardChannelMaxRetries",2,c),this.wa=xs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qo(c&&c.concurrentRequestLimit),this.Da=new Ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Va.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){pt(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=ec(this,null,this.W),Ua(this)};function nl(c){if(Qu(c),c.G==3){var y=c.U++,_=ut(c.I);if(Be(_,"SID",c.K),Be(_,"RID",y),Be(_,"TYPE","terminate"),ks(c,_),y=new ai(c,c.j,y),y.L=2,y.v=Is(ut(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=tc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),it(y)}Ju(c)}function La(c){c.g&&(Ms(c),c.g.cancel(),c.g=null)}function Qu(c){La(c),c.u&&(d.clearTimeout(c.u),c.u=null),ja(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ua(c){if(!Yo(c.h)&&!c.s){c.s=!0;var y=c.Ga;_e||V(),de||(_e(),de=!0),Fe.add(y,c),c.B=0}}function Df(c,y){return qu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tr(R(c.Ga,c,y),sl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new ai(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=S(Y),D(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Yu(this,q,y),_=ut(this.I),Be(_,"RID",c),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),ks(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(tl(Y)))+"&"+y:this.m&&Pt(_,this.m,Y)),Cr(this.h,q),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",y),Be(_,"SID","null"),q.T=!0,Qn(q,_,null)):Qn(q,_,y),this.G=2}}else this.G==3&&(c?il(this,c):this.i.length==0||Yo(this.h)||il(this))};function il(c,y){var _;y?_=y.l:_=c.U++;const w=ut(c.I);Be(w,"SID",c.K),Be(w,"RID",_),Be(w,"AID",c.T),ks(c,w),c.m&&c.o&&Pt(w,c.m,c.o),_=new ai(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Yu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Cr(c.h,_),Qn(_,w,y)}function ks(c,y){c.H&&he(c.H,function(_,w){Be(y,w,_)}),c.l&&Ss({},function(_,w){Be(y,w,_)})}function Yu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?R(c.l.Na,c.l,c):null;e:{var q=c.i;let Y=-1;for(;;){const se=["count="+_];Y==-1?0<_?(Y=q[0].g,se.push("ofs="+Y)):Y=0:se.push("ofs="+Y);let Pe=!0;for(let It=0;It<_;It++){let Ve=q[It].g;const Vt=q[It].map;if(Ve-=Y,0>Ve)Y=Math.max(0,q[It].g-100),Pe=!1;else try{li(Vt,se,"req"+Ve+"_")}catch{w&&w(Vt)}}if(Pe){w=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Xu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;_e||V(),de||(_e(),de=!0),Fe.add(y,c),c.v=0}}function rl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tr(R(c.Fa,c),sl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tr(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),La(this),Wu(this))};function Ms(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Wu(c){c.g=new ai(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ut(c.qa);Be(y,"RID","rpc"),Be(y,"SID",c.K),Be(y,"AID",c.T),Be(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(y,"TO",c.ja),Be(y,"TYPE","xmlhttp"),ks(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Is(ut(y)),_.m=null,_.P=!0,ki(_,c)}i.Za=function(){this.C!=null&&(this.C=null,La(this),rl(this),pt(19))};function ja(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Zu(c,y){var _=null;if(c.g==y){ja(c),Ms(c),c.g=null;var w=2}else if(Ir(c.h,y))_=y.D,Dn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;w=Ra(),kt(w,new ju(w,_)),Ua(c)}else Xu(c);else if(q=y.s,q==3||q==0&&0<y.X||!(w==1&&Df(c,y)||w==2&&rl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),q){case 1:ji(c,5);break;case 4:ji(c,10);break;case 3:ji(c,6);break;default:ji(c,2)}}}function sl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function ji(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),w=c.Xa;const q=!w;w=new Mi(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Dr(w,"https"),Is(w),q?Gu(w.toString(),_):Cs(w.toString(),_)}else pt(2);c.G=0,c.l&&c.l.sa(y),Ju(c),Qu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Ju(c){if(c.G=0,c.ka=[],c.l){const y=rn(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function ec(c,y,_){var w=_ instanceof Mi?ut(_):new Mi(_);if(w.g!="")y&&(w.g=y+"."+w.g),Rs(w,w.s);else{var q=d.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Y=new Mi(null);w&&Dr(Y,w),y&&(Y.g=y),q&&Rs(Y,q),_&&(Y.l=_),w=Y}return _=c.D,y=c.ya,_&&y&&Be(w,_,y),Be(w,"VER",c.la),ks(c,w),w}function tc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new Or({eb:_})):new Ge(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nc(){}i=nc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function za(){}za.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){St.call(this),this.g=new Va(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!$(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new fi(this)}P(sn,St),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){nl(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ho(c),c=_);y.i.push(new wf(y.Ya++,c)),y.G==3&&Ua(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,sn.aa.N.call(this)};function ic(c){_r.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(ic,_r);function rc(){Kn.call(this),this.status=1}P(rc,Kn);function fi(c){this.g=c}P(fi,nc),fi.prototype.ua=function(){kt(this.g,"a")},fi.prototype.ta=function(c){kt(this.g,new ic(c))},fi.prototype.sa=function(c){kt(this.g,new rc)},fi.prototype.ra=function(){kt(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Db=function(){return new za},Cb=function(){return Ra()},Ib=Cn,tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,_h=Rt,xi.COMPLETE="complete",Rb=xi,Uu.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",St.prototype.listen=St.prototype.K,Zl=Uu,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,Sb=Ge}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const P0="@firebase/firestore",V0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Xh("@firebase/firestore");function mo(){return ua.logLevel}function ue(i,...e){if(ua.logLevel<=xe.DEBUG){const t=e.map($p);ua.debug(`Firestore (${Po}): ${i}`,...t)}}function hr(i,...e){if(ua.logLevel<=xe.ERROR){const t=e.map($p);ua.error(`Firestore (${Po}): ${i}`,...t)}}function wo(i,...e){if(ua.logLevel<=xe.WARN){const t=e.map($p);ua.warn(`Firestore (${Po}): ${i}`,...t)}}function $p(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i="Unexpected state"){const e=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: `+i;throw hr(e),new Error(e)}function $e(i,e){i||Te()}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends $n{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class s2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class a2{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new us;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new us,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new us)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new Nb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Zt(e)}}class o2{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class l2{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new o2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u2{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,An(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new L0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new L0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=c2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function De(i,e){return i<e?-1:i>e?1:0}function np(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return De(s,o);{const u=Ob(),h=h2(u.encode(U0(i,t)),u.encode(U0(e,t)));return h!==0?h:De(s,o)}}t+=s>65535?2:1}return De(i.length,e.length)}function U0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function h2(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return De(i[t],e[t]);return De(i.length,e.length)}function Ao(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=-62135596800,z0=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*z0);return new Ot(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<j0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z0}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-j0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Ot(0,0))}static max(){return new be(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__name__";class vi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(),s===void 0?s=e.length-t:s>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=vi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return De(e.length,t.length)}static compareSegments(e,t){const s=vi.isNumericId(e),o=vi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?vi.extractNumericId(e).compare(vi.extractNumericId(t)):np(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class tt extends vi{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const f2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends vi{construct(e,t,s){return new $t(e,t,s)}static isValidIdentifier(e){return f2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new $t([B0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(tt.fromString(e))}static fromName(e){return new ye(tt.fromString(e).popFirst(5))}static empty(){return new ye(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function d2(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new Ot(t+1,0):new Ot(t,s));return new fs(o,ye.empty(),e)}function m2(i){return new fs(i.readTime,i.key,du)}class fs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new fs(be.min(),ye.empty(),du)}static max(){return new fs(be.max(),ye.empty(),du)}}function p2(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(i.documentKey,e.documentKey),t!==0?t:De(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==g2)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,s)=>{t(e)})}static reject(e){return new J((t,s)=>{s(e)})}static waitFor(e){return new J((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next(o=>o?J.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new J((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++d,d===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new J((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function _2(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}rf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=-1;function sf(i){return i==null}function Mh(i){return i===0&&1/i==-1/0}function v2(i){return typeof i=="number"&&Number.isInteger(i)&&!Mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="";function E2(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=q0(e)),e=T2(i.get(t),e);return q0(e)}function T2(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case kb:t+="";break;default:t+=u}}return t}function q0(i){return i+kb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function _a(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Mb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Gt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new F0(this.data.getIterator())}getIteratorFrom(e){return new F0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xt(this.comparator);return t.data=e,t}}class F0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new xt($t.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Pb("Invalid base64 string: "+u):u}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const b2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(i){if($e(!!i),typeof i=="string"){let e=0;const t=b2.exec(i);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ms(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="server_timestamp",Lb="__type__",Ub="__previous_value__",jb="__local_write_time__";function Qp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Lb])===null||t===void 0?void 0:t.stringValue)===Vb}function af(i){const e=i.mapValue.fields[Ub];return Qp(e)?af(e):e}function mu(i){const e=ds(i.mapValue.fields[jb].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,t,s,o,u,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Ph="(default)";class pu{constructor(e,t){this.projectId=e,this.database=t||Ph}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="__type__",A2="__max__",ah={mapValue:{}},Bb="__vector__",Vh="value";function ps(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Qp(i)?4:R2(i)?9007199254740991:S2(i)?10:11:Te()}function Ii(i,e){if(i===e)return!0;const t=ps(i);if(t!==ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return mu(i).isEqual(mu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ds(o.timestampValue),d=ds(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=yt(o.doubleValue),d=yt(u.doubleValue);return h===d?Mh(h)===Mh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return Ao(i.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(H0(h)!==H0(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Ii(h[p],d[p])))return!1;return!0}(i,e);default:return Te()}}function gu(i,e){return(i.values||[]).find(t=>Ii(t,e))!==void 0}function So(i,e){if(i===e)return 0;const t=ps(i),s=ps(e);if(t!==s)return De(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=yt(u.integerValue||u.doubleValue),p=yt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return G0(i.timestampValue,e.timestampValue);case 4:return G0(mu(i),mu(e));case 5:return np(i.stringValue,e.stringValue);case 6:return function(u,h){const d=ms(u),p=ms(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=De(d[g],p[g]);if(E!==0)return E}return De(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=De(yt(u.latitude),yt(h.latitude));return d!==0?d:De(yt(u.longitude),yt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return $0(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,E;const b=u.fields||{},R=h.fields||{},x=(d=b[Vh])===null||d===void 0?void 0:d.arrayValue,P=(p=R[Vh])===null||p===void 0?void 0:p.arrayValue,K=De(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:$0(x,P)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===ah.mapValue&&h===ah.mapValue)return 0;if(u===ah.mapValue)return 1;if(h===ah.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const R=np(p[b],E[b]);if(R!==0)return R;const x=So(d[p[b]],g[E[b]]);if(x!==0)return x}return De(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Te()}}function G0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return De(i,e);const t=ds(i),s=ds(e),o=De(t.seconds,s.seconds);return o!==0?o:De(t.nanos,s.nanos)}function $0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=So(t[o],s[o]);if(u)return u}return De(t.length,s.length)}function Ro(i){return ip(i)}function ip(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ds(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ms(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ye.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=ip(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ip(t.fields[h])}`;return o+"}"}(i.mapValue):Te()}function vh(i){switch(ps(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(i);return e?16+vh(e):16;case 5:return 2*i.stringValue.length;case 6:return ms(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+vh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return _a(s.fields,(u,h)=>{o+=u.length+vh(h)}),o}(i.mapValue);default:throw Te()}}function K0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function rp(i){return!!i&&"integerValue"in i}function Yp(i){return!!i&&"arrayValue"in i}function Q0(i){return!!i&&"nullValue"in i}function Y0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Eh(i){return!!i&&"mapValue"in i}function S2(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[zb])===null||t===void 0?void 0:t.stringValue)===Bb}function ru(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return _a(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ru(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ru(i.arrayValue.values[t]);return e}return Object.assign({},i)}function R2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===A2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(t)}setAll(e){let t=$t.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=ru(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){_a(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Fn(ru(this.value))}}function qb(i){const e=[];return _a(i.fields,(t,s)=>{const o=new $t([t]);if(Eh(s)){const u=qb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Jt(e,0,be.min(),be.min(),be.min(),Fn.empty(),0)}static newFoundDocument(e,t,s,o){return new Jt(e,1,t,be.min(),s,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,be.min(),be.min(),Fn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,be.min(),be.min(),Fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this.position=e,this.inclusive=t}}function X0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),t.key):s=So(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function W0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ii(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t="asc"){this.field=e,this.dir=t}}function I2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{}class At extends Hb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new D2(e,t,s):t==="array-contains"?new x2(e,s):t==="in"?new k2(e,s):t==="not-in"?new M2(e,s):t==="array-contains-any"?new P2(e,s):new At(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new N2(e,s):new O2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(So(t,this.value)):t!==null&&ps(this.value)===ps(t)&&this.matchesComparison(So(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends Hb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ni(e,t)}matches(e){return Fb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Fb(i){return i.op==="and"}function Gb(i){return C2(i)&&Fb(i)}function C2(i){for(const e of i.filters)if(e instanceof ni)return!1;return!0}function sp(i){if(i instanceof At)return i.field.canonicalString()+i.op.toString()+Ro(i.value);if(Gb(i))return i.filters.map(e=>sp(e)).join(",");{const e=i.filters.map(t=>sp(t)).join(",");return`${i.op}(${e})`}}function $b(i,e){return i instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&Ii(s.value,o.value)}(i,e):i instanceof ni?function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&$b(h,o.filters[d]),!0):!1}(i,e):void Te()}function Kb(i){return i instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${Ro(t.value)}`}(i):i instanceof ni?function(t){return t.op.toString()+" {"+t.getFilters().map(Kb).join(" ,")+"}"}(i):"Filter"}class D2 extends At{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class N2 extends At{constructor(e,t){super(e,"in",t),this.keys=Qb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class O2 extends At{constructor(e,t){super(e,"not-in",t),this.keys=Qb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qb(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ye.fromName(s.referenceValue))}class x2 extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yp(t)&&gu(t.arrayValue,this.value)}}class k2 extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class M2 extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!gu(this.value.arrayValue,t)}}class P2 extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function Z0(i,e=null,t=[],s=[],o=null,u=null,h=null){return new V2(i,e,t,s,o,u,h)}function Xp(i){const e=Ae(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>sp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ro(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ro(s)).join(",")),e.le=t}return e.le}function Wp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!I2(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!$b(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!W0(i.startAt,e.startAt)&&W0(i.endAt,e.endAt)}function ap(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function L2(i,e,t,s,o,u,h,d){return new Uo(i,e,t,s,o,u,h,d)}function of(i){return new Uo(i)}function J0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Yb(i){return i.collectionGroup!==null}function su(i){const e=Ae(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new xt($t.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new yu(u,s))}),t.has($t.keyField().canonicalString())||e.he.push(new yu($t.keyField(),s))}return e.he}function wi(i){const e=Ae(i);return e.Pe||(e.Pe=U2(e,su(i))),e.Pe}function U2(i,e){if(i.limitType==="F")return Z0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new yu(o.field,u)});const t=i.endAt?new Lh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Lh(i.startAt.position,i.startAt.inclusive):null;return Z0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function op(i,e){const t=i.filters.concat([e]);return new Uo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function lp(i,e,t){return new Uo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function lf(i,e){return Wp(wi(i),wi(e))&&i.limitType===e.limitType}function Xb(i){return`${Xp(wi(i))}|lt:${i.limitType}`}function po(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Kb(o)).join(", ")}]`),sf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Ro(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Ro(o)).join(",")),`Target(${s})`}(wi(i))}; limitType=${i.limitType})`}function uf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of su(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=X0(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,su(s),o)||s.endAt&&!function(h,d,p){const g=X0(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,su(s),o))}(i,e)}function j2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Wb(i){return(e,t)=>{let s=!1;for(const o of su(i)){const u=z2(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function z2(i,e,t){const s=i.field.isKeyField()?ye.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?So(p,g):Te()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Mb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new ot(ye.comparator);function fr(){return B2}const Zb=new ot(ye.comparator);function Jl(...i){let e=Zb;for(const t of i)e=e.insert(t.key,t);return e}function Jb(i){let e=Zb;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function na(){return au()}function ew(){return au()}function au(){return new va(i=>i.toString(),(i,e)=>i.isEqual(e))}const q2=new ot(ye.comparator),H2=new xt(ye.comparator);function ke(...i){let e=H2;for(const t of i)e=e.add(t);return e}const F2=new xt(De);function G2(){return F2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function tw(i){return{integerValue:""+i}}function $2(i,e){return v2(e)?tw(e):Zp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function K2(i,e,t){return i instanceof Uh?function(o,u){const h={fields:{[Lb]:{stringValue:Vb},[jb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qp(u)&&(u=af(u)),u&&(h.fields[Ub]=u),{mapValue:h}}(t,e):i instanceof _u?iw(i,e):i instanceof vu?rw(i,e):function(o,u){const h=nw(o,u),d=eE(h)+eE(o.Ie);return rp(h)&&rp(o.Ie)?tw(d):Zp(o.serializer,d)}(i,e)}function Q2(i,e,t){return i instanceof _u?iw(i,e):i instanceof vu?rw(i,e):t}function nw(i,e){return i instanceof jh?function(s){return rp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Uh extends cf{}class _u extends cf{constructor(e){super(),this.elements=e}}function iw(i,e){const t=sw(e);for(const s of i.elements)t.some(o=>Ii(o,s))||t.push(s);return{arrayValue:{values:t}}}class vu extends cf{constructor(e){super(),this.elements=e}}function rw(i,e){let t=sw(e);for(const s of i.elements)t=t.filter(o=>!Ii(o,s));return{arrayValue:{values:t}}}class jh extends cf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function eE(i){return yt(i.integerValue||i.doubleValue)}function sw(i){return Yp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Y2(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof _u&&o instanceof _u||s instanceof vu&&o instanceof vu?Ao(s.elements,o.elements,Ii):s instanceof jh&&o instanceof jh?Ii(s.Ie,o.Ie):s instanceof Uh&&o instanceof Uh}(i.transform,e.transform)}class X2{constructor(e,t){this.version=e,this.transformResults=t}}class Ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class hf{}function aw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new lw(i.key,Ai.none()):new Du(i.key,i.data,Ai.none());{const t=i.data,s=Fn.empty();let o=new xt($t.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ea(i.key,s,new Jn(o.toArray()),Ai.none())}}function W2(i,e,t){i instanceof Du?function(o,u,h){const d=o.value.clone(),p=nE(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof Ea?function(o,u,h){if(!Th(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=nE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(ow(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function ou(i,e,t,s){return i instanceof Du?function(u,h,d,p){if(!Th(u.precondition,h))return d;const g=u.value.clone(),E=iE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof Ea?function(u,h,d,p){if(!Th(u.precondition,h))return d;const g=iE(u.fieldTransforms,p,h),E=h.data;return E.setAll(ow(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,t,s):function(u,h,d){return Th(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function Z2(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=nw(s.transform,o||null);u!=null&&(t===null&&(t=Fn.empty()),t.set(s.field,u))}return t||null}function tE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ao(s,o,(u,h)=>Y2(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Du extends hf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ea extends hf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ow(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function nE(i,e,t){const s=new Map;$e(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,Q2(h,d,t[o]))}return s}function iE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,K2(u,h,e))}return s}class lw extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J2 extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&W2(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ou(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ou(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=ew();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=aw(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(t,s)=>tE(t,s))&&Ao(this.baseMutations,e.baseMutations,(t,s)=>tE(t,s))}}class Jp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){$e(e.mutations.length===s.length);let o=function(){return q2}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Jp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ue;function ix(i){switch(i){case ee.OK:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te()}}function uw(i){if(i===void 0)return hr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case wt.OK:return ee.OK;case wt.CANCELLED:return ee.CANCELLED;case wt.UNKNOWN:return ee.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ee.INTERNAL;case wt.UNAVAILABLE:return ee.UNAVAILABLE;case wt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case wt.NOT_FOUND:return ee.NOT_FOUND;case wt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case wt.ABORTED:return ee.ABORTED;case wt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case wt.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Ue=wt||(wt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=new ls([4294967295,4294967295],0);function rE(i){const e=Ob().encode(i),t=new Ab;return t.update(e),new Uint8Array(t.digest())}function sE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([t,s],0),new ls([o,u],0)]}class eg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new eu(`Invalid padding: ${t}`);if(s<0)throw new eu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new eu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ls.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(ls.fromNumber(s)));return o.compare(rx)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=rE(e),[s,o]=sE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new eg(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=rE(e),[s,o]=sE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ff(be.min(),o,new ot(De),fr(),ke())}}class Nu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Nu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class cw{constructor(e,t){this.targetId=e,this.ge=t}}class hw{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class aE{constructor(){this.pe=0,this.ye=oE(),this.we=Kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ke(),t=ke(),s=ke();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new Nu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=oE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class sx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=fr(),this.$e=oh(),this.Ue=oh(),this.Ke=new ot(De)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(ap(u))if(s===0){const h=new ye(u.path);this.ze(t,h,Jt.newNoDocument(h,be.min()))}else $e(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=ms(s).toUint8Array()}catch(p){if(p instanceof Pb)return wo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new eg(h,o,u)}catch(p){return wo(p instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&ap(d.target)){const p=new ye(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Jt.newNoDocument(p,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=ke();this.Ue.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new ff(e,t,this.Ke,this.Qe,s);return this.Qe=fr(),this.$e=oh(),this.Ue=oh(),this.Ke=new ot(De),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new aE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new xt(De),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new xt(De),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new aE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function oh(){return new ot(ye.comparator)}function oE(){return new ot(ye.comparator)}const ax={asc:"ASCENDING",desc:"DESCENDING"},ox={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lx={and:"AND",or:"OR"};class ux{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function up(i,e){return i.useProto3Json||sf(e)?e:{value:e}}function zh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function cx(i,e){return zh(i,e.toTimestamp())}function Si(i){return $e(!!i),be.fromTimestamp(function(t){const s=ds(t);return new Ot(s.seconds,s.nanos)}(i))}function tg(i,e){return cp(i,e).canonicalString()}function cp(i,e){const t=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function dw(i){const e=tt.fromString(i);return $e(_w(e)),e}function hp(i,e){return tg(i.databaseId,e.path)}function Lm(i,e){const t=dw(e);if(t.get(1)!==i.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ye(pw(t))}function mw(i,e){return tg(i.databaseId,e)}function hx(i){const e=dw(i);return e.length===4?tt.emptyPath():pw(e)}function fp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function pw(i){return $e(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function lE(i,e,t){return{name:hp(i,e),fields:t.value.mapValue.fields}}function fx(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?($e(E===void 0||typeof E=="string"),Kt.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Kt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?ee.UNKNOWN:uw(g.code);return new ce(E,g.message||"")}(h);t=new hw(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Lm(i,s.document.name),u=Si(s.document.updateTime),h=s.document.createTime?Si(s.document.createTime):be.min(),d=new Fn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new bh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Lm(i,s.document),u=s.readTime?Si(s.readTime):be.min(),h=Jt.newNoDocument(o,u),d=s.removedTargetIds||[];t=new bh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Lm(i,s.document),u=s.removedTargetIds||[];t=new bh([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new nx(o,u),d=s.targetId;t=new cw(d,h)}}return t}function dx(i,e){let t;if(e instanceof Du)t={update:lE(i,e.key,e.value)};else if(e instanceof lw)t={delete:hp(i,e.key)};else if(e instanceof Ea)t={update:lE(i,e.key,e.data),updateMask:bx(e.fieldMask)};else{if(!(e instanceof J2))return Te();t={verify:hp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof Uh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof _u)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof vu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof jh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw Te()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:cx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(i,e.precondition)),t}function mx(i,e){return i&&i.length>0?($e(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?Si(o.updateTime):Si(u);return h.isEqual(be.min())&&(h=Si(u)),new X2(h,o.transformResults||[])}(t,e))):[]}function px(i,e){return{documents:[mw(i,e.path)]}}function gx(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=mw(i,o);const u=function(g){if(g.length!==0)return yw(ni.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:go(R.field),direction:vx(R.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=up(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function yx(i){let e=hx(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){$e(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(b){const R=gw(b);return R instanceof ni&&Gb(R)?R.getFilters():[R]}(t.where));let h=[];t.orderBy&&(h=function(b){return b.map(R=>function(P){return new yu(yo(P.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(R))}(t.orderBy));let d=null;t.limit&&(d=function(b){let R;return R=typeof b=="object"?b.value:b,sf(R)?null:R}(t.limit));let p=null;t.startAt&&(p=function(b){const R=!!b.before,x=b.values||[];return new Lh(x,R)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const R=!b.before,x=b.values||[];return new Lh(x,R)}(t.endAt)),L2(e,o,h,u,d,"F",p,g)}function _x(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gw(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=yo(t.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(t.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=yo(t.unaryFilter.field);return At.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(i):i.fieldFilter!==void 0?function(t){return At.create(yo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ni.create(t.compositeFilter.filters.map(s=>gw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(i):Te()}function vx(i){return ax[i]}function Ex(i){return ox[i]}function Tx(i){return lx[i]}function go(i){return{fieldPath:i.canonicalString()}}function yo(i){return $t.fromServerFormat(i.fieldPath)}function yw(i){return i instanceof At?function(t){if(t.op==="=="){if(Y0(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NAN"}};if(Q0(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Y0(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NAN"}};if(Q0(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(t.field),op:Ex(t.op),value:t.value}}}(i):i instanceof ni?function(t){const s=t.getFilters().map(o=>yw(o));return s.length===1?s[0]:{compositeFilter:{op:Tx(t.op),filters:s}}}(i):Te()}function bx(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _w(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t,s,o,u=be.min(),h=be.min(),d=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.Tt=e}}function Ax(i){const e=yx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.Tn=new Rx}addToCollectionParentIndex(e,t){return this.Tn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(fs.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class Rx{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new xt(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vw=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(vw,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Io(0)}static Kn(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="LruGarbageCollector",Ix=1048576;function hE([i,e],[t,s]){const o=De(i,t);return o===0?De(e,s):o}class Cx{constructor(e){this.Hn=e,this.buffer=new xt(hE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();hE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Dx{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(cE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Lo(t)?ue(cE,"Ignoring IndexedDB error during garbage collection: ",t):await Vo(t)}await this.er(3e5)})}}class Nx{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return J.resolve(rf.ae);const s=new Cx(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(uE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,d=Date.now(),this.removeTargets(e,s,t))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),mo()<=xe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function Ox(i,e){return new Nx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.changes=new va(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&ou(s.mutation,o,Jn.empty(),Ot.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=na();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Jl();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=na();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=fr();const h=au(),d=function(){return au()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ea)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),ou(E.mutation,g,E.mutation.getFieldMask(),Ot.now())):h.set(g.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var b;return d.set(g,new kx(E,(b=h.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const s=au();let o=new ot((h,d)=>h-d),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Jn.empty();E=d.applyToLocalView(g,E),s.set(p,E);const b=(o.get(d.batchId)||ke()).add(p);o=o.insert(d.batchId,b)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,b=ew();E.forEach(R=>{if(!u.has(R)){const x=aw(t.get(R),s.get(R));x!==null&&b.set(R,x),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):J.resolve(na());let d=du,p=u;return h.next(g=>J.forEach(g,(E,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(E=>({batchId:d,changes:Jb(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(e,u).next(d=>J.forEach(d,p=>{const g=function(b,R){return new Uo(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((b,R)=>{h=h.insert(b,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Jt.newInvalidDocument(E)))});let d=Jl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&ou(E.mutation,g,Jn.empty(),Ot.now()),uf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return J.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:Ax(o.bundledQuery),readTime:Si(o.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.overlays=new ot(ye.comparator),this.Rr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=na();return J.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=na(),u=t.length+1,h=new ye(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ot((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=na(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return J.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new tx(t,s));let u=this.Rr.get(t);u===void 0&&(u=ke(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.Vr=new xt(zt.mr),this.gr=new xt(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new zt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new zt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ye(new tt([])),s=new zt(t,e),o=new zt(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ye(new tt([])),s=new zt(t,e),o=new zt(t,e+1);let u=ke();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new zt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ye.comparator(e.key,t.key)||De(e.Cr,t.Cr)}static pr(e,t){return De(e.Cr,t.Cr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new xt(zt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new ex(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new zt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,t){return J.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Kp:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new zt(t,0),o=new zt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);u.push(d)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new xt(De);return t.forEach(o=>{const u=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{s=s.add(d.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new zt(new ye(u),0);let d=new xt(De);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),J.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){$e(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(t.mutations,o=>{const u=new zt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new zt(t,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.kr=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let s=fr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=fr();const h=t.path,d=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||p2(m2(E),s)<=0||(o.has(E.key)||uf(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te()}qr(e,t){return J.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new zx(this)}getSize(e){return J.resolve(this.size)}}class zx extends xx{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.persistence=e,this.Qr=new va(t=>Xp(t),Wp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ng,this.targetCount=0,this.Kr=Io.Un()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),J.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Io(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.zn(t),J.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this.Ur.yr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this.Ur.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ur.vr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new rf(0),this.zr=!1,this.zr=!0,this.jr=new Lx,this.referenceDelegate=e(this),this.Hr=new Bx(this),this.indexManager=new Sx,this.remoteDocumentCache=function(o){return new jx(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new wx(t),this.Yr=new Px(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new Ux(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new qx(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class qx extends y2{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.ti=new ng,this.ni=null}static ri(e){return new ig(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),J.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,be.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return J.or([()=>J.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Bh{constructor(e,t){this.persistence=e,this.oi=new va(s=>E2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Ox(this,t)}static ri(e,t){return new Bh(e,t)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,u.removeEntry(h,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vh(e.data.value)),t}ar(e,t,s){return J.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new rg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return sI()?8:_2(en())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new Hx;return this._s(e,t,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(mo()<=xe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(mo()<=xe.DEBUG&&ue("QueryEngine","Query:",po(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(mo()<=xe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(t))):J.resolve())}rs(e,t){if(J0(t))return J.resolve(null);let s=wi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=lp(t,null,"F"),s=wi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ke(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,h,p.readTime)?this.rs(e,lp(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return J0(t)||o.isEqual(be.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?J.resolve(null):(mo()<=xe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(t)),this.hs(e,h,t,d2(o,du)).next(d=>d))})}cs(e,t){let s=new xt(Wb(e));return t.forEach((o,u)=>{uf(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return mo()<=xe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",po(t)),this.ns.getDocumentsMatchingQuery(e,t,fs.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="LocalStore",Gx=3e8;class $x{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ot(De),this.Is=new va(u=>Xp(u),Wp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Kx(i,e,t,s){return new $x(i,e,t,s)}async function Tw(i,e){const t=Ae(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let p=ke();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function Qx(i,e){const t=Ae(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const b=g.batch,R=b.keys();let x=J.resolve();return R.forEach(P=>{x=x.next(()=>E.getEntry(p,P)).next(K=>{const k=g.docVersions.get(P);$e(k!==null),K.version.compareTo(k)<0&&(b.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=ke();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function bw(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Yx(i,e){const t=Ae(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,b)=>{const R=o.get(b);if(!R)return;d.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,b)));let x=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(Kt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(b,x),function(K,k,U){return K.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=Gx?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(R,x,E)&&d.push(t.Hr.updateTargetData(u,x))});let p=fr(),g=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(Xx(u,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(be.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(b=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return J.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function Xx(i,e,t){let s=ke(),o=ke();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=fr();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):ue(sg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function Wx(i,e){const t=Ae(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Kp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Zx(i,e){const t=Ae(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new rs(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function dp(i,e,t){const s=Ae(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Lo(h))throw h;ue(sg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function fE(i,e,t){const s=Ae(i);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const b=Ae(p),R=b.Is.get(E);return R!==void 0?J.resolve(b.Ts.get(R)):b.Hr.getTargetData(g,E)}(s,h,wi(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:be.min(),t?u:ke())).next(d=>(Jx(s,j2(e),d),{documents:d,gs:u})))}function Jx(i,e,t){let s=i.Es.get(e)||be.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class dE{constructor(){this.activeTargetIds=G2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ek{constructor(){this.ho=new dE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new dE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="ConnectivityMonitor";class pE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(mE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(mE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function mp(){return lh===null?lh=function(){return 268435456+Math.round(2147483648*Math.random())}():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="RestConnection",nk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ik{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const h=mp(),d=this.bo(e,t.toUriEncodedString());ue(Um,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,d,p,s).then(g=>(ue(Um,`Received RPC '${e}' ${h}: `,g),g),g=>{throw wo(Um,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,u,h){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=nk[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class sk extends ik{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=mp();return new Promise((h,d)=>{const p=new Sb;p.setWithCredentials(!0),p.listenOnce(Rb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _h.NO_ERROR:const E=p.getResponseJson();ue(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case _h.TIMEOUT:ue(Wt,`RPC '${e}' ${u} timed out`),d(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const b=p.getStatus();if(ue(Wt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const x=R==null?void 0:R.error;if(x&&x.status&&x.message){const P=function(k){const U=k.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(U)>=0?U:ee.UNKNOWN}(x.status);d(new ce(P,x.message))}else d(new ce(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ue(Wt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ue(Wt,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=mp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Db(),d=Cb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=h.createWebChannel(E,p);let R=!1,x=!1;const P=new rk({Fo:k=>{x?ue(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(R||(ue(Wt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),R=!0),ue(Wt,`RPC '${e}' stream ${o} sending:`,k),b.send(k))},Mo:()=>b.close()}),K=(k,U,$)=>{k.listen(U,G=>{try{$(G)}catch(te){setTimeout(()=>{throw te},0)}})};return K(b,Zl.EventType.OPEN,()=>{x||(ue(Wt,`RPC '${e}' stream ${o} transport opened.`),P.Qo())}),K(b,Zl.EventType.CLOSE,()=>{x||(x=!0,ue(Wt,`RPC '${e}' stream ${o} transport closed`),P.Uo())}),K(b,Zl.EventType.ERROR,k=>{x||(x=!0,wo(Wt,`RPC '${e}' stream ${o} transport errored:`,k),P.Uo(new ce(ee.UNAVAILABLE,"The operation could not be completed")))}),K(b,Zl.EventType.MESSAGE,k=>{var U;if(!x){const $=k.data[0];$e(!!$);const G=$,te=(G==null?void 0:G.error)||((U=G[0])===null||U===void 0?void 0:U.error);if(te){ue(Wt,`RPC '${e}' stream ${o} received error:`,te);const re=te.status;let he=function(A){const D=wt[A];if(D!==void 0)return uw(D)}(re),O=te.message;he===void 0&&(he=ee.INTERNAL,O="Unknown error status: "+re+" with message "+te.message),x=!0,P.Uo(new ce(he,O)),b.close()}else ue(Wt,`RPC '${e}' stream ${o} received:`,$),P.Ko($)}}),K(d,Ib.STAT_EVENT,k=>{k.stat===tp.PROXY?ue(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===tp.NOPROXY&&ue(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(i){return new ux(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="PersistentStream";class Aw{constructor(e,t,s,o,u,h,d,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ww(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(hr(t.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(gE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ue(gE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ak extends Aw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=fx(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Si(h.readTime):be.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=fp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=ap(p)?{documents:px(u,p)}:{query:gx(u,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=fw(u,h.resumeToken);const g=up(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){d.readTime=zh(u,h.snapshotVersion.toTimestamp());const g=up(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=_x(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=fp(this.serializer),t.removeTarget=e,this.I_(t)}}class ok extends Aw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=mx(e.writeResults,e.commitTime),s=Si(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=fp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>dx(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{}class uk extends lk{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,cp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,cp(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(ee.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ck{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(hr(t),this.N_=!1):ue("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class hk{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{Ta(this)&&(ue(ca,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.W_.add(4),await Ou(g),g.j_.set("Unknown"),g.W_.delete(4),await mf(g)}(this))})}),this.j_=new ck(s,o)}}async function mf(i){if(Ta(i))for(const e of i.G_)await e(!0)}async function Ou(i){for(const e of i.G_)await e(!1)}function Sw(i,e){const t=Ae(i);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),ug(t)?lg(t):jo(t).c_()&&og(t,e))}function ag(i,e){const t=Ae(i),s=jo(t);t.K_.delete(e),s.c_()&&Rw(t,e),t.K_.size===0&&(s.c_()?s.P_():Ta(t)&&t.j_.set("Unknown"))}function og(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jo(i).y_(e)}function Rw(i,e){i.H_.Ne(e),jo(i).w_(e)}function lg(i){i.H_=new sx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),jo(i).start(),i.j_.B_()}function ug(i){return Ta(i)&&!jo(i).u_()&&i.K_.size>0}function Ta(i){return Ae(i).W_.size===0}function Iw(i){i.H_=void 0}async function fk(i){i.j_.set("Online")}async function dk(i){i.K_.forEach((e,t)=>{og(i,e)})}async function mk(i,e){Iw(i),ug(i)?(i.j_.q_(e),lg(i)):i.j_.set("Unknown")}async function pk(i,e,t){if(i.j_.set("Online"),e instanceof hw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.K_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){ue(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await qh(i,s)}else if(e instanceof bh?i.H_.We(e):e instanceof cw?i.H_.Ze(e):i.H_.je(e),!t.isEqual(be.min()))try{const s=await bw(i.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),Rw(u,p);const b=new rs(E.target,p,g,E.sequenceNumber);og(u,b)}),u.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){ue(ca,"Failed to raise snapshot:",s),await qh(i,s)}}async function qh(i,e,t){if(!Lo(e))throw e;i.W_.add(1),await Ou(i),i.j_.set("Offline"),t||(t=()=>bw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(ca,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await mf(i)})}function Cw(i,e){return e().catch(t=>qh(i,t,e))}async function pf(i){const e=Ae(i),t=gs(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Kp;for(;gk(e);)try{const o=await Wx(e.localStore,s);if(o===null){e.U_.length===0&&t.P_();break}s=o.batchId,yk(e,o)}catch(o){await qh(e,o)}Dw(e)&&Nw(e)}function gk(i){return Ta(i)&&i.U_.length<10}function yk(i,e){i.U_.push(e);const t=gs(i);t.c_()&&t.S_&&t.b_(e.mutations)}function Dw(i){return Ta(i)&&!gs(i).u_()&&i.U_.length>0}function Nw(i){gs(i).start()}async function _k(i){gs(i).C_()}async function vk(i){const e=gs(i);for(const t of i.U_)e.b_(t.mutations)}async function Ek(i,e,t){const s=i.U_.shift(),o=Jp.from(s,e,t);await Cw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await pf(i)}async function Tk(i,e){e&&gs(i).S_&&await async function(s,o){if(function(h){return ix(h)&&h!==ee.ABORTED}(o.code)){const u=s.U_.shift();gs(s).h_(),await Cw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await pf(s)}}(i,e),Dw(i)&&Nw(i)}async function yE(i,e){const t=Ae(i);t.asyncQueue.verifyOperationInProgress(),ue(ca,"RemoteStore received new credentials");const s=Ta(t);t.W_.add(3),await Ou(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await mf(t)}async function bk(i,e){const t=Ae(i);e?(t.W_.delete(2),await mf(t)):e||(t.W_.add(2),await Ou(t),t.j_.set("Unknown"))}function jo(i){return i.J_||(i.J_=function(t,s,o){const u=Ae(t);return u.M_(),new ak(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:fk.bind(null,i),No:dk.bind(null,i),Lo:mk.bind(null,i),p_:pk.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),ug(i)?lg(i):i.j_.set("Unknown")):(await i.J_.stop(),Iw(i))})),i.J_}function gs(i){return i.Y_||(i.Y_=function(t,s,o){const u=Ae(t);return u.M_(),new ok(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:_k.bind(null,i),Lo:Tk.bind(null,i),D_:vk.bind(null,i),v_:Ek.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await pf(i)):(await i.Y_.stop(),i.U_.length>0&&(ue(ca,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new cg(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(i,e){if(hr("AsyncQueue",`${e}: ${i}`),Lo(i))return new ce(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.Z_=new ot(ye.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Co{constructor(e,t,s,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Co(e,t,bo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Ak{constructor(){this.queries=vE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ae(t),u=o.queries;o.queries=vE(),u.forEach((h,d)=>{for(const p of d.ta)p.onError(s)})})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function vE(){return new va(i=>Xb(i),lf)}async function Ow(i,e){const t=Ae(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new wk,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=hg(h,`Initialization of query '${po(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&fg(t)}async function xw(i,e){const t=Ae(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Sk(i,e){const t=Ae(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&fg(t)}function Rk(i,e,t){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function fg(i){i.ia.forEach(e=>{e.next()})}var pp,EE;(EE=pp||(pp={}))._a="default",EE.Cache="cache";class kw{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this.key=e}}class Pw{constructor(e){this.key=e}}class Ik{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=Wb(e),this.wa=new bo(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new _E,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const R=o.get(E),x=uf(this.query,b)?b:null,P=!!R&&this.mutatedKeys.has(R.key),K=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;R&&x?R.data.isEqual(x.data)?P!==K&&(s.track({type:3,doc:x}),k=!0):this.va(R,x)||(s.track({type:2,doc:x}),k=!0,(p&&this.ya(x,p)>0||g&&this.ya(x,g)<0)&&(d=!0)):!R&&x?(s.track({type:0,doc:x}),k=!0):R&&!x&&(s.track({type:1,doc:R}),k=!0,(p||g)&&(d=!0)),k&&(x?(h=h.add(x),u=K?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:d,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,b)=>function(x,P){const K=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return K(x)-K(P)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new Co(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new _E,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Pw(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Mw(s))}),t}Oa(e){this.fa=e.gs,this.pa=ke();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Co.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const dg="SyncEngine";class Ck{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Dk{constructor(e){this.key=e,this.Ba=!1}}class Nk{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new va(d=>Xb(d),lf),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ye.comparator),this.Ua=new Map,this.Ka=new ng,this.Wa={},this.Ga=new Map,this.za=Io.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Ok(i,e,t=!0){const s=Bw(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Vw(s,e,t,!0),o}async function xk(i,e){const t=Bw(i);await Vw(t,e,!0,!1)}async function Vw(i,e,t,s){const o=await Zx(i.localStore,wi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await kk(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&Sw(i.remoteStore,o),d}async function kk(i,e,t,s,o){i.Ha=(b,R,x)=>async function(K,k,U,$){let G=k.view.ba(U);G.ls&&(G=await fE(K.localStore,k.query,!1).then(({documents:O})=>k.view.ba(O,G)));const te=$&&$.targetChanges.get(k.targetId),re=$&&$.targetMismatches.get(k.targetId)!=null,he=k.view.applyChanges(G,K.isPrimaryClient,te,re);return bE(K,k.targetId,he.Ma),he.snapshot}(i,b,R,x);const u=await fE(i.localStore,e,!0),h=new Ik(e,u.gs),d=h.ba(u.documents),p=Nu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);bE(i,t,g.Ma);const E=new Ck(e,t,h);return i.ka.set(e,E),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function Mk(i,e,t){const s=Ae(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!lf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ag(s.remoteStore,o.targetId),gp(s,o.targetId)}).catch(Vo)):(gp(s,o.targetId),await dp(s.localStore,o.targetId,!0))}async function Pk(i,e){const t=Ae(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ag(t.remoteStore,s.targetId))}async function Vk(i,e,t){const s=Hk(i);try{const o=await function(h,d){const p=Ae(h),g=Ot.now(),E=d.reduce((x,P)=>x.add(P.key),ke());let b,R;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let P=fr(),K=ke();return p.ds.getEntries(x,E).next(k=>{P=k,P.forEach((U,$)=>{$.isValidDocument()||(K=K.add(U))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,P)).next(k=>{b=k;const U=[];for(const $ of d){const G=Z2($,b.get($.key).overlayedDocument);G!=null&&U.push(new Ea($.key,G,qb(G.value.mapValue),Ai.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,U,d)}).next(k=>{R=k;const U=k.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(x,k.batchId,U)})}).then(()=>({batchId:R.batchId,changes:Jb(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ot(De)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await xu(s,o.changes),await pf(s.remoteStore)}catch(o){const u=hg(o,"Failed to persist write");t.reject(u)}}async function Lw(i,e){const t=Ae(i);try{const s=await Yx(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ua.get(u);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?$e(h.Ba):o.removedDocuments.size>0&&($e(h.Ba),h.Ba=!1))}),await xu(t,s,e)}catch(s){await Vo(s)}}function TE(i,e,t){const s=Ae(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ae(h);p.onlineState=d;let g=!1;p.queries.forEach((E,b)=>{for(const R of b.ta)R.sa(d)&&(g=!0)}),g&&fg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Lk(i,e,t){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ua.get(e),u=o&&o.key;if(u){let h=new ot(ye.comparator);h=h.insert(u,Jt.newNoDocument(u,be.min()));const d=ke().add(u),p=new ff(be.min(),new Map,new ot(De),h,d);await Lw(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),mg(s)}else await dp(s.localStore,e,!1).then(()=>gp(s,e,t)).catch(Vo)}async function Uk(i,e){const t=Ae(i),s=e.batch.batchId;try{const o=await Qx(t.localStore,e);jw(t,s,null),Uw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await xu(t,o)}catch(o){await Vo(o)}}async function jk(i,e,t){const s=Ae(i);try{const o=await function(h,d){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>($e(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);jw(s,e,t),Uw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await xu(s,o)}catch(o){await Vo(o)}}function Uw(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function jw(i,e,t){const s=Ae(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function gp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||zw(i,s)})}function zw(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(ag(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ua.delete(t),mg(i))}function bE(i,e,t){for(const s of t)s instanceof Mw?(i.Ka.addReference(s.key,e),zk(i,s)):s instanceof Pw?(ue(dg,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||zw(i,s.key)):Te()}function zk(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(ue(dg,"New document in limbo: "+t),i.Qa.add(s),mg(i))}function mg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new ye(tt.fromString(e)),s=i.za.next();i.Ua.set(s,new Dk(t)),i.$a=i.$a.insert(t,s),Sw(i.remoteStore,new rs(wi(of(t.path)),s,"TargetPurposeLimboResolution",rf.ae))}}async function xu(i,e,t){const s=Ae(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{h.push(s.Ha(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=rg.Yi(p.targetId,g);u.push(b)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>J.forEach(g,R=>J.forEach(R.Hi,x=>E.persistence.referenceDelegate.addReference(b,R.targetId,x)).next(()=>J.forEach(R.Ji,x=>E.persistence.referenceDelegate.removeReference(b,R.targetId,x)))))}catch(b){if(!Lo(b))throw b;ue(sg,"Failed to update sequence numbers: "+b)}for(const b of g){const R=b.targetId;if(!b.fromCache){const x=E.Ts.get(R),P=x.snapshotVersion,K=x.withLastLimboFreeSnapshotVersion(P);E.Ts=E.Ts.insert(R,K)}}}(s.localStore,u))}async function Bk(i,e){const t=Ae(i);if(!t.currentUser.isEqual(e)){ue(dg,"User change. New user:",e.toKey());const s=await Tw(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new ce(ee.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xu(t,s.Rs)}}function qk(i,e){const t=Ae(i),s=t.Ua.get(e);if(s&&s.Ba)return ke().add(s.key);{let o=ke();const u=t.qa.get(e);if(!u)return o;for(const h of u){const d=t.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function Bw(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lk.bind(null,e),e.La.p_=Sk.bind(null,e.eventManager),e.La.Ja=Rk.bind(null,e.eventManager),e}function Hk(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jk.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Kx(this.persistence,new Fx,e.initialUser,this.serializer)}Xa(e){return new Ew(ig.ri,this.serializer)}Za(e){return new ek}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class Fk extends Hh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){$e(this.persistence.referenceDelegate instanceof Bh);const s=this.persistence.referenceDelegate.garbageCollector;return new Dx(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Ew(s=>Bh.ri(s,t),this.serializer)}}class yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>TE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bk.bind(null,this.syncEngine),await bk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ak}()}createDatastore(e){const t=df(e.databaseInfo.databaseId),s=function(u){return new sk(u)}(e.databaseInfo);return function(u,h,d,p){return new uk(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new hk(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>TE(this.syncEngine,t,0),function(){return pE.D()?new pE:new tk}())}createSyncEngine(e,t){return function(o,u,h,d,p,g,E){const b=new Nk(o,u,h,d,p,g);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ae(o);ue(ca,"RemoteStore shutting down."),u.W_.add(5),await Ou(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class Gk{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=xb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ue(ys,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue(ys,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=hg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function zm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ys,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Tw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function wE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await $k(i);ue(ys,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>yE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>yE(e.remoteStore,o)),i._onlineComponents=e}async function $k(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ys,"Using user provided OfflineComponentProvider");try{await zm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;wo("Error using user provided cache. Falling back to memory cache: "+t),await zm(i,new Hh)}}else ue(ys,"Using default OfflineComponentProvider"),await zm(i,new Fk(void 0));return i._offlineComponents}async function Hw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ys,"Using user provided OnlineComponentProvider"),await wE(i,i._uninitializedComponentsProvider._online)):(ue(ys,"Using default OnlineComponentProvider"),await wE(i,new yp))),i._onlineComponents}function Kk(i){return Hw(i).then(e=>e.syncEngine)}async function _p(i){const e=await Hw(i),t=e.eventManager;return t.onListen=Ok.bind(null,e.syncEngine),t.onUnlisten=Mk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Pk.bind(null,e.syncEngine),t}function Qk(i,e,t={}){const s=new us;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const E=new qw({next:R=>{E.su(),h.enqueueAndForget(()=>xw(u,b));const x=R.docs.has(d);!x&&R.fromCache?g.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&R.fromCache&&p&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),b=new kw(of(d.path),E,{includeMetadataChanges:!0,Ta:!0});return Ow(u,b)}(await _p(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(i,e,t){if(!t)throw new ce(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Yk(i,e,t,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function SE(i){if(!ye.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function RE(i){if(ye.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function gf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te()}function or(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gf(i);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="firestore.googleapis.com",IE=!0;class CE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$w,this.ssl=IE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:IE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ix)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Yk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new r2;switch(s.type){case"firstParty":return new l2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=AE.get(t);s&&(ue("ComponentProvider","Removing Datastore"),AE.delete(t),s.terminate())}(this),Promise.resolve()}}function Xk(i,e,t,s={}){var o;const u=(i=or(i,yf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${t}`;u.host!==$w&&u.host!==d&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:s});if(!hs(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Zt.MOCK_USER;else{g=cT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(b)}i._authCredentials=new s2(new Nb(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ba(this.firestore,e,this._query)}}class cn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class cs extends ba{constructor(e,t,s){super(e,t,of(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ye(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function DE(i,e,...t){if(i=_t(i),Gw("collection","path",e),i instanceof yf){const s=tt.fromString(e,...t);return RE(s),new cs(i,null,s)}{if(!(i instanceof cn||i instanceof cs))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return RE(s),new cs(i.firestore,null,s)}}function ha(i,e,...t){if(i=_t(i),arguments.length===1&&(e=xb.newId()),Gw("doc","path",e),i instanceof yf){const s=tt.fromString(e,...t);return SE(s),new cn(i,null,new ye(s))}{if(!(i instanceof cn||i instanceof cs))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return SE(s),new cn(i.firestore,i instanceof cs?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="AsyncQueue";class OE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ww(this,"async_queue_retry"),this.Su=()=>{const s=jm();s&&ue(NE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=jm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=jm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new us;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Lo(e))throw e;ue(NE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw hr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=cg.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function xE(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Do extends yf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new OE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OE(e),this._firestoreClient=void 0,await e}}}function Wk(i,e){const t=typeof i=="object"?i:Wh(),s=typeof i=="string"?i:Ph,o=_s(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=oT("firestore");u&&Xk(o,...u)}return o}function pg(i){if(i._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Zk(i),i._firestoreClient}function Zk(i){var e,t,s;const o=i._freezeSettings(),u=function(d,p,g,E){return new w2(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Fw(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Gk(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(Kt.fromBase64String(e))}catch(t){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new No(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=/^__.*__$/;class eM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new Du(e,this.data,t,this.fieldTransforms)}}function Qw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class vg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new vg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Fh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Qw(this.Lu)&&Jk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class tM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||df(e)}ju(e,t,s,o=!1){return new vg({Lu:e,methodName:t,zu:s,path:$t.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eg(i){const e=i._freezeSettings(),t=df(i._databaseId);return new tM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Yw(i,e,t,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,t,o);Zw("Data must be an object, but it was:",h,s);const d=Xw(s,h);let p,g;if(u.merge)p=new Jn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const R=iM(e,b,t);if(!h.contains(R))throw new ce(ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);sM(E,R)||E.push(R)}p=new Jn(E),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new eM(new Fn(d),p,g)}function nM(i,e,t,s=!1){return Tg(t,i.ju(s?4:3,e))}function Tg(i,e){if(Ww(i=_t(i)))return Zw("Unsupported field value:",e,i),Xw(i,e);if(i instanceof Kw)return function(s,o){if(!Qw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let p=Tg(d,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=_t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ot.fromDate(s);return{timestampValue:zh(o.serializer,u)}}if(s instanceof Ot){const u=new Ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zh(o.serializer,u)}}if(s instanceof yg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof No)return{bytesValue:fw(o.serializer,s._byteString)};if(s instanceof cn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _g)return function(h,d){return{mapValue:{fields:{[zb]:{stringValue:Bb},[Vh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Zp(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${gf(s)}`)}(i,e)}function Xw(i,e){const t={};return Mb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(i,(s,o)=>{const u=Tg(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Ww(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ot||i instanceof yg||i instanceof No||i instanceof cn||i instanceof Kw||i instanceof _g)}function Zw(i,e,t){if(!Ww(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=gf(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function iM(i,e,t){if((e=_t(e))instanceof gg)return e._internalPath;if(typeof e=="string")return Jw(i,e);throw Fh("Field path arguments must be of type string or ",i,!1,void 0,t)}const rM=new RegExp("[~\\*/\\[\\]]");function Jw(i,e,t){if(e.search(rM)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new gg(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Fh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,d+i+p)}function sM(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aM extends eA{data(){return super.data()}}function bg(i,e){return typeof e=="string"?Jw(i,e):e instanceof gg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}class tA extends wg{}function lM(i,e,...t){let s=[];e instanceof wg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Sg).length,d=u.filter(p=>p instanceof Ag).length;if(h>1||h>0&&d>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Ag extends tA{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Ag(e,t,s)}_apply(e){const t=this._parse(e);return nA(e._query,t),new ba(e.firestore,e.converter,op(e._query,t))}_parse(e){const t=Eg(e.firestore);return function(u,h,d,p,g,E,b){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){ME(b,E);const P=[];for(const K of b)P.push(kE(p,u,K));R={arrayValue:{values:P}}}else R=kE(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||ME(b,E),R=nM(d,h,b,E==="in"||E==="not-in");return At.create(g,E,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Sg extends wg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ni.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)nA(h,p),h=op(h,p)}(e._query,t),new ba(e.firestore,e.converter,op(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rg extends tA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Rg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(u,h)}(e._query,this._field,this._direction);return new ba(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Uo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function uM(i,e="asc"){const t=e,s=bg("orderBy",i);return Rg._create(s,t)}function kE(i,e,t){if(typeof(t=_t(t))=="string"){if(t==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yb(e)&&t.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!ye.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return K0(i,new ye(s))}if(t instanceof cn)return K0(i,t._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(t)}.`)}function ME(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nA(i,e){const t=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class cM{convertValue(e,t="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return _a(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>yt(h.doubleValue));return new _g(u)}convertGeoPoint(e){return new yg(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=af(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const t=ds(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);$e(_w(s));const o=new pu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(t)||hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rA extends eA{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(bg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class wh extends rA{data(e={}){return super.data(e)}}class hM{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new tu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new wh(this._firestore,this._userDataWriter,s.key,s,new tu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new wh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new tu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new wh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new tu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:fM(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(i){i=or(i,cn);const e=or(i.firestore,Do);return Qk(pg(e),i._key).then(t=>lA(e,i,t))}class sA extends cM{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function aA(i,e,t){i=or(i,cn);const s=or(i.firestore,Do),o=iA(i.converter,e);return oA(s,[Yw(Eg(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Ai.none())])}function dM(i,e){const t=or(i.firestore,Do),s=ha(i),o=iA(i.converter,e);return oA(t,[Yw(Eg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Ai.exists(!1))]).then(()=>s)}function mM(i,...e){var t,s,o;i=_t(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||xE(e[h])||(u=e[h],h++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(xE(e[h])){const b=e[h];e[h]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[h+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[h+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,g,E;if(i instanceof cn)g=or(i.firestore,Do),E=of(i._key.path),p={next:b=>{e[h]&&e[h](lA(g,i,b))},error:e[h+1],complete:e[h+2]};else{const b=or(i,ba);g=or(b.firestore,Do),E=b._query;const R=new sA(g);p={next:x=>{e[h]&&e[h](new hM(g,R,b,x))},error:e[h+1],complete:e[h+2]},oM(i._query)}return function(R,x,P,K){const k=new qw(K),U=new kw(x,k,P);return R.asyncQueue.enqueueAndForget(async()=>Ow(await _p(R),U)),()=>{k.su(),R.asyncQueue.enqueueAndForget(async()=>xw(await _p(R),U))}}(pg(g),E,d,p)}function oA(i,e){return function(s,o){const u=new us;return s.asyncQueue.enqueueAndForget(async()=>Vk(await Kk(s),o,u)),u.promise}(pg(i),e)}function lA(i,e,t){const s=t.docs.get(e._key),o=new sA(i);return new rA(i,o,e._key,s,new tu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Po=o})(ga),ei(new Gn("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new Do(new a2(s.getProvider("auth-internal")),new u2(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),pn(P0,V0,e),pn(P0,V0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firebasestorage.googleapis.com",cA="storageBucket",pM=2*60*1e3,gM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends $n{constructor(e,t,s=0){super(Bm(e),`Firebase Storage: ${t} (${Bm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dt||(dt={}));function Bm(i){return"storage/"+i}function Ig(){const i="An unknown error occurred, please check the error payload for server response.";return new mt(dt.UNKNOWN,i)}function yM(i){return new mt(dt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function _M(i){return new mt(dt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vM(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(dt.UNAUTHENTICATED,i)}function EM(){return new mt(dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function TM(i){return new mt(dt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function bM(){return new mt(dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wM(){return new mt(dt.CANCELED,"User canceled the upload/download.")}function AM(i){return new mt(dt.INVALID_URL,"Invalid URL '"+i+"'.")}function SM(i){return new mt(dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function RM(){return new mt(dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cA+"' property when initializing the app?")}function IM(){return new mt(dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function CM(){return new mt(dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function DM(i){return new mt(dt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vp(i){return new mt(dt.INVALID_ARGUMENT,i)}function hA(){return new mt(dt.APP_DELETED,"The Firebase app was deleted.")}function NM(i){return new mt(dt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lu(i,e){return new mt(dt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Yl(i){throw new mt(dt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Sn.makeFromUrl(e,t)}catch{return new Sn(e,"")}if(s.path==="")return s;throw SM(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(te){te.path_=decodeURIComponent(te.path)}const E="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",x=new RegExp(`^https?://${b}/${E}/b/${o}/o${R}`,"i"),P={bucket:1,path:3},K=t===uA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",U=new RegExp(`^https?://${K}/${o}/${k}`,"i"),G=[{regex:d,indices:p,postModify:u},{regex:x,indices:P,postModify:g},{regex:U,indices:{bucket:1,path:2},postModify:g}];for(let te=0;te<G.length;te++){const re=G[te],he=re.regex.exec(e);if(he){const O=he[re.indices.bucket];let S=he[re.indices.path];S||(S=""),s=new Sn(O,S),re.postModify(s);break}}if(s==null)throw AM(e);return s}}class OM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(i,e,t){let s=1,o=null,u=null,h=!1,d=0;function p(){return d===2}let g=!1;function E(...k){g||(g=!0,e.apply(null,k))}function b(k){o=setTimeout(()=>{o=null,i(x,p())},k)}function R(){u&&clearTimeout(u)}function x(k,...U){if(g){R();return}if(k){R(),E.call(null,k,...U);return}if(p()||h){R(),E.call(null,k,...U);return}s<64&&(s*=2);let G;d===1?(d=2,G=0):G=(s+Math.random())*1e3,b(G)}let P=!1;function K(k){P||(P=!0,R(),!g&&(o!==null?(k||(d=2),clearTimeout(o),b(0)):k||(d=1)))}return b(0),u=setTimeout(()=>{h=!0,K(!0)},t),K}function kM(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(i){return i!==void 0}function PM(i){return typeof i=="object"&&!Array.isArray(i)}function Cg(i){return typeof i=="string"||i instanceof String}function PE(i){return Dg()&&i instanceof Blob}function Dg(){return typeof Blob<"u"}function VE(i,e,t,s){if(s<e)throw vp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw vp(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function fA(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var ia;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ia||(ia={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,t,s,o,u,h,d,p,g,E,b,R=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=b,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,P)=>{this.resolve_=x,this.reject_=P,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new uh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===ia.NO_ERROR,p=u.getStatus();if(!d||VM(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ia.ABORT;s(!1,new uh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new uh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());MM(p)?u(p):u()}catch(p){h(p)}else if(d!==null){const p=Ig();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?hA():wM();h(p)}else{const p=bM();h(p)}};this.canceled_?t(!1,new uh(!1,null,!0)):this.backoffId_=xM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function UM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function jM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function BM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function qM(i,e,t,s,o,u,h=!0){const d=fA(i.urlParams),p=i.url+d,g=Object.assign({},i.headers);return zM(g,e),UM(g,t),jM(g,u),BM(g,s),new LM(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FM(...i){const e=HM();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(Dg())return new Blob(i);throw new mt(dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function GM(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(i){if(typeof atob>"u")throw DM("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qm{constructor(e,t){this.data=e,this.contentType=t||null}}function KM(i,e){switch(i){case Ei.RAW:return new qm(dA(e));case Ei.BASE64:case Ei.BASE64URL:return new qm(mA(i,e));case Ei.DATA_URL:return new qm(YM(e),XM(e))}throw Ig()}function dA(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function QM(i){let e;try{e=decodeURIComponent(i)}catch{throw lu(Ei.DATA_URL,"Malformed data URL.")}return dA(e)}function mA(i,e){switch(i){case Ei.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw lu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ei.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw lu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=$M(e)}catch(o){throw o.message.includes("polyfill")?o:lu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class pA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw lu(Ei.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=WM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function YM(i){const e=new pA(i);return e.base64?mA(Ei.BASE64,e.rest):QM(e.rest)}function XM(i){return new pA(i).contentType}function WM(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,t){let s=0,o="";PE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(PE(this.data_)){const s=this.data_,o=GM(s,e,t);return o===null?null:new is(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new is(s,!0)}}static getBlob(...e){if(Dg()){const t=e.map(s=>s instanceof is?s.data_:s);return new is(FM.apply(null,t))}else{const t=e.map(h=>Cg(h)?KM(Ei.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let d=0;d<h.length;d++)o[u++]=h[d]}),new is(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(i){let e;try{e=JSON.parse(i)}catch{return null}return PM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function JM(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function yA(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(i,e){return e}class ln{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||eP}}let ch=null;function tP(i){return!Cg(i)||i.length<2?i:yA(i)}function _A(){if(ch)return ch;const i=[];i.push(new ln("bucket")),i.push(new ln("generation")),i.push(new ln("metageneration")),i.push(new ln("name","fullPath",!0));function e(u,h){return tP(h)}const t=new ln("name");t.xform=e,i.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new ln("size");return o.xform=s,i.push(o),i.push(new ln("timeCreated")),i.push(new ln("updated")),i.push(new ln("md5Hash",null,!0)),i.push(new ln("cacheControl",null,!0)),i.push(new ln("contentDisposition",null,!0)),i.push(new ln("contentEncoding",null,!0)),i.push(new ln("contentLanguage",null,!0)),i.push(new ln("contentType",null,!0)),i.push(new ln("metadata","customMetadata",!0)),ch=i,ch}function nP(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new Sn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function iP(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return nP(s,i),s}function vA(i,e,t){const s=gA(e);return s===null?null:iP(i,s,t)}function rP(i,e,t,s){const o=gA(e);if(o===null||!Cg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,b=i.fullPath,R="/b/"+h(E)+"/o/"+h(b),x=Ng(R,t,s),P=fA({alt:"media",token:g});return x+P})[0]}function sP(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class EA{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(i){if(!i)throw Ig()}function aP(i,e){function t(s,o){const u=vA(i,o,e);return TA(u!==null),u}return t}function oP(i,e){function t(s,o){const u=vA(i,o,e);return TA(u!==null),rP(u,o,i.host,i._protocol)}return t}function bA(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=EM():o=vM():t.getStatus()===402?o=_M(i.bucket):t.getStatus()===403?o=TM(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function lP(i){const e=bA(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=yM(i.path)),u.serverResponse=o.serverResponse,u}return t}function uP(i,e,t){const s=e.fullServerUrl(),o=Ng(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,d=new EA(o,u,oP(i,t),h);return d.errorHandler=lP(e),d}function cP(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function hP(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=cP(null,e)),s}function fP(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function d(){let G="";for(let te=0;te<2;te++)G=G+Math.random().toString().slice(2);return G}const p=d();h["Content-Type"]="multipart/related; boundary="+p;const g=hP(e,s,o),E=sP(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,R=`\r
--`+p+"--",x=is.getBlob(b,s,R);if(x===null)throw IM();const P={name:g.fullPath},K=Ng(u,i.host,i._protocol),k="POST",U=i.maxUploadRetryTime,$=new EA(K,k,aP(i,t),U);return $.urlParams=P,$.headers=h,$.body=x.uploadData(),$.errorHandler=bA(e),$}class dP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o){if(this.sent_)throw Yl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mP extends dP{initXhr(){this.xhr_.responseType="text"}}function wA(){return new mP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){this._service=e,t instanceof Sn?this._location=t:this._location=Sn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new fa(e,t)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yA(this._location.path)}get storage(){return this._service}get parent(){const e=ZM(this._location.path);if(e===null)return null;const t=new Sn(this._location.bucket,e);return new fa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw NM(e)}}function pP(i,e,t){i._throwIfRoot("uploadBytes");const s=fP(i.storage,i._location,_A(),new is(e,!0),t);return i.storage.makeRequestWithTokens(s,wA).then(o=>({metadata:o,ref:i}))}function gP(i){i._throwIfRoot("getDownloadURL");const e=uP(i.storage,i._location,_A());return i.storage.makeRequestWithTokens(e,wA).then(t=>{if(t===null)throw CM();return t})}function yP(i,e){const t=JM(i._location.path,e),s=new Sn(i._location.bucket,t);return new fa(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(i){return/^[A-Za-z]+:\/\//.test(i)}function vP(i,e){return new fa(i,e)}function AA(i,e){if(i instanceof Og){const t=i;if(t._bucket==null)throw RM();const s=new fa(t,t._bucket);return e!=null?AA(s,e):s}else return e!==void 0?yP(i,e):i}function EP(i,e){if(e&&_P(e)){if(i instanceof Og)return vP(i,e);throw vp("To use ref(service, url), the first argument must be a Storage instance.")}else return AA(i,e)}function LE(i,e){const t=e==null?void 0:e[cA];return t==null?null:Sn.makeFromBucketSpec(t,i)}function TP(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:cT(o,i.app.options.projectId))}class Og{constructor(e,t,s,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=uA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pM,this._maxUploadRetryTime=gM,this._requests=new Set,o!=null?this._bucket=Sn.makeFromBucketSpec(o,this._host):this._bucket=LE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=LE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fa(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new OM(hA());{const h=qM(e,this._appId,s,o,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const UE="@firebase/storage",jE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="storage";function RA(i,e,t){return i=_t(i),pP(i,e,t)}function IA(i){return i=_t(i),gP(i)}function CA(i,e){return i=_t(i),EP(i,e)}function bP(i=Wh(),e){i=_t(i);const s=_s(i,SA).getImmediate({identifier:e}),o=oT("storage");return o&&wP(s,...o),s}function wP(i,e,t,s={}){TP(i,e,t,s)}function AP(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Og(t,s,o,e,ga)}function SP(){ei(new Gn(SA,AP,"PUBLIC").setMultipleInstances(!0)),pn(UE,jE,""),pn(UE,jE,"esm2017")}SP();const RP={apiKey:"AIzaSyCs1crb1G-bfCT9BuhYhF63oGfR-cpMnJw",authDomain:"eventure-8632c.firebaseapp.com",projectId:"eventure-8632c",storageBucket:"eventure-8632c.firebasestorage.app",messagingSenderId:"89450010894",appId:"1:89450010894:web:ba8abbd82d3dffe1f05f5f",measurementId:"G-GGTVDL76NC"},xg=yT(RP);e2(xg);const Oo=PN(),DA=bP(xg),ss=Wk(xg);function NA(i){var e,t,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(t=NA(i[e]))&&(s&&(s+=" "),s+=t)}else for(t in i)i[t]&&(s&&(s+=" "),s+=t);return s}function ra(){for(var i,e,t=0,s="",o=arguments.length;t<o;t++)(i=arguments[t])&&(e=NA(i))&&(s&&(s+=" "),s+=e);return s}function IP(i){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i))}IP(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ku=i=>typeof i=="number"&&!isNaN(i),da=i=>typeof i=="string",dr=i=>typeof i=="function",CP=i=>da(i)||ku(i),Ep=i=>da(i)||dr(i)?i:null,DP=(i,e)=>i===!1||ku(i)&&i>0?i:e,Tp=i=>H.isValidElement(i)||da(i)||dr(i)||ku(i);function NP(i,e,t=300){let{scrollHeight:s,style:o}=i;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function OP({enter:i,exit:e,appendPosition:t=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:h,preventExitTransition:d,done:p,nodeRef:g,isIn:E,playToast:b}){let R=t?`${i}--${h}`:i,x=t?`${e}--${h}`:e,P=H.useRef(0);return H.useLayoutEffect(()=>{let K=g.current,k=R.split(" "),U=$=>{$.target===g.current&&(b(),K.removeEventListener("animationend",U),K.removeEventListener("animationcancel",U),P.current===0&&$.type!=="animationcancel"&&K.classList.remove(...k))};K.classList.add(...k),K.addEventListener("animationend",U),K.addEventListener("animationcancel",U)},[]),H.useEffect(()=>{let K=g.current,k=()=>{K.removeEventListener("animationend",k),s?NP(K,p,o):p()};E||(d?k():(P.current=1,K.className+=` ${x}`,K.addEventListener("animationend",k)))},[E]),nt.createElement(nt.Fragment,null,u)}}function zE(i,e){return{content:OA(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:e}}function OA(i,e,t=!1){return H.isValidElement(i)&&!da(i.type)?H.cloneElement(i,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):dr(i)?i({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):i}function xP({closeToast:i,theme:e,ariaLabel:t="close"}){return nt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),i(!0)},"aria-label":t},nt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},nt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function kP({delay:i,isRunning:e,closeToast:t,type:s="default",hide:o,className:u,controlledProgress:h,progress:d,rtl:p,isIn:g,theme:E}){let b=o||h&&d===0,R={animationDuration:`${i}ms`,animationPlayState:e?"running":"paused"};h&&(R.transform=`scaleX(${d})`);let x=ra("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),P=dr(u)?u({rtl:p,type:s,defaultClassName:x}):ra(x,u),K={[h&&d>=1?"onTransitionEnd":"onAnimationEnd"]:h&&d<1?null:()=>{g&&t()}};return nt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},nt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),nt.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:P,style:R,...K}))}var MP=1,xA=()=>`${MP++}`;function PP(i,e,t){let s=1,o=0,u=[],h=[],d=e,p=new Map,g=new Set,E=$=>(g.add($),()=>g.delete($)),b=()=>{h=Array.from(p.values()),g.forEach($=>$())},R=({containerId:$,toastId:G,updateId:te})=>{let re=$?$!==i:i!==1,he=p.has(G)&&te==null;return re||he},x=($,G)=>{p.forEach(te=>{var re;(G==null||G===te.props.toastId)&&((re=te.toggle)==null||re.call(te,$))})},P=$=>{var G,te;(te=(G=$.props)==null?void 0:G.onClose)==null||te.call(G,$.removalReason),$.isActive=!1},K=$=>{if($==null)p.forEach(P);else{let G=p.get($);G&&P(G)}b()},k=()=>{o-=u.length,u=[]},U=$=>{var G,te;let{toastId:re,updateId:he}=$.props,O=he==null;$.staleId&&p.delete($.staleId),$.isActive=!0,p.set(re,$),b(),t(zE($,O?"added":"updated")),O&&((te=(G=$.props).onOpen)==null||te.call(G))};return{id:i,props:d,observe:E,toggle:x,removeToast:K,toasts:p,clearQueue:k,buildToast:($,G)=>{if(R(G))return;let{toastId:te,updateId:re,data:he,staleId:O,delay:S}=G,A=re==null;A&&o++;let D={...d,style:d.toastStyle,key:s++,...Object.fromEntries(Object.entries(G).filter(([z,N])=>N!=null)),toastId:te,updateId:re,data:he,isIn:!1,className:Ep(G.className||d.toastClassName),progressClassName:Ep(G.progressClassName||d.progressClassName),autoClose:G.isLoading?!1:DP(G.autoClose,d.autoClose),closeToast(z){p.get(te).removalReason=z,K(te)},deleteToast(){let z=p.get(te);if(z!=null){if(t(zE(z,"removed")),p.delete(te),o--,o<0&&(o=0),u.length>0){U(u.shift());return}b()}}};D.closeButton=d.closeButton,G.closeButton===!1||Tp(G.closeButton)?D.closeButton=G.closeButton:G.closeButton===!0&&(D.closeButton=Tp(d.closeButton)?d.closeButton:!0);let M={content:$,props:D,staleId:O};d.limit&&d.limit>0&&o>d.limit&&A?u.push(M):ku(S)?setTimeout(()=>{U(M)},S):U(M)},setProps($){d=$},setToggle:($,G)=>{let te=p.get($);te&&(te.toggle=G)},isToastActive:$=>{var G;return(G=p.get($))==null?void 0:G.isActive},getSnapshot:()=>h}}var un=new Map,Eu=[],bp=new Set,VP=i=>bp.forEach(e=>e(i)),kA=()=>un.size>0;function LP(){Eu.forEach(i=>PA(i.content,i.options)),Eu=[]}var UP=(i,{containerId:e})=>{var t;return(t=un.get(e||1))==null?void 0:t.toasts.get(i)};function MA(i,e){var t;if(e)return!!((t=un.get(e))!=null&&t.isToastActive(i));let s=!1;return un.forEach(o=>{o.isToastActive(i)&&(s=!0)}),s}function jP(i){if(!kA()){Eu=Eu.filter(e=>i!=null&&e.options.toastId!==i);return}if(i==null||CP(i))un.forEach(e=>{e.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let e=un.get(i.containerId);e?e.removeToast(i.id):un.forEach(t=>{t.removeToast(i.id)})}}var zP=(i={})=>{un.forEach(e=>{e.props.limit&&(!i.containerId||e.id===i.containerId)&&e.clearQueue()})};function PA(i,e){Tp(i)&&(kA()||Eu.push({content:i,options:e}),un.forEach(t=>{t.buildToast(i,e)}))}function BP(i){var e;(e=un.get(i.containerId||1))==null||e.setToggle(i.id,i.fn)}function VA(i,e){un.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(i,e==null?void 0:e.id)})}function qP(i){let e=i.containerId||1;return{subscribe(t){let s=PP(e,i,VP);un.set(e,s);let o=s.observe(t);return LP(),()=>{o(),un.delete(e)}},setProps(t){var s;(s=un.get(e))==null||s.setProps(t)},getSnapshot(){var t;return(t=un.get(e))==null?void 0:t.getSnapshot()}}}function HP(i){return bp.add(i),()=>{bp.delete(i)}}function FP(i){return i&&(da(i.toastId)||ku(i.toastId))?i.toastId:xA()}function Mu(i,e){return PA(i,e),e.toastId}function _f(i,e){return{...e,type:e&&e.type||i,toastId:FP(e)}}function vf(i){return(e,t)=>Mu(e,_f(i,t))}function je(i,e){return Mu(i,_f("default",e))}je.loading=(i,e)=>Mu(i,_f("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function GP(i,{pending:e,error:t,success:s},o){let u;e&&(u=da(e)?je.loading(e,o):je.loading(e.render,{...o,...e}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,E,b)=>{if(E==null){je.dismiss(u);return}let R={type:g,...h,...o,data:b},x=da(E)?{render:E}:E;return u?je.update(u,{...R,...x}):je(x.render,{...R,...x}),b},p=dr(i)?i():i;return p.then(g=>d("success",s,g)).catch(g=>d("error",t,g)),p}je.promise=GP;je.success=vf("success");je.info=vf("info");je.error=vf("error");je.warning=vf("warning");je.warn=je.warning;je.dark=(i,e)=>Mu(i,_f("default",{theme:"dark",...e}));function $P(i){jP(i)}je.dismiss=$P;je.clearWaitingQueue=zP;je.isActive=MA;je.update=(i,e={})=>{let t=UP(i,e);if(t){let{props:s,content:o}=t,u={delay:100,...s,...e,toastId:e.toastId||i,updateId:xA()};u.toastId!==i&&(u.staleId=i);let h=u.render||o;delete u.render,Mu(h,u)}};je.done=i=>{je.update(i,{progress:1})};je.onChange=HP;je.play=i=>VA(!0,i);je.pause=i=>VA(!1,i);function KP(i){var e;let{subscribe:t,getSnapshot:s,setProps:o}=H.useRef(qP(i)).current;o(i);let u=(e=H.useSyncExternalStore(t,s,s))==null?void 0:e.slice();function h(d){if(!u)return[];let p=new Map;return i.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:E}=g.props;p.has(E)||p.set(E,[]),p.get(E).push(g)}),Array.from(p,g=>d(g[0],g[1]))}return{getToastToRender:h,isToastActive:MA,count:u==null?void 0:u.length}}function QP(i){let[e,t]=H.useState(!1),[s,o]=H.useState(!1),u=H.useRef(null),h=H.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:g,onClick:E,closeOnClick:b}=i;BP({id:i.toastId,containerId:i.containerId,fn:t}),H.useEffect(()=>{if(i.pauseOnFocusLoss)return R(),()=>{x()}},[i.pauseOnFocusLoss]);function R(){document.hasFocus()||U(),window.addEventListener("focus",k),window.addEventListener("blur",U)}function x(){window.removeEventListener("focus",k),window.removeEventListener("blur",U)}function P(O){if(i.draggable===!0||i.draggable===O.pointerType){$();let S=u.current;h.canCloseOnClick=!0,h.canDrag=!0,S.style.transition="none",i.draggableDirection==="x"?(h.start=O.clientX,h.removalDistance=S.offsetWidth*(i.draggablePercent/100)):(h.start=O.clientY,h.removalDistance=S.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function K(O){let{top:S,bottom:A,left:D,right:M}=u.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&i.pauseOnHover&&O.clientX>=D&&O.clientX<=M&&O.clientY>=S&&O.clientY<=A?U():k()}function k(){t(!0)}function U(){t(!1)}function $(){h.didMove=!1,document.addEventListener("pointermove",te),document.addEventListener("pointerup",re)}function G(){document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",re)}function te(O){let S=u.current;if(h.canDrag&&S){h.didMove=!0,e&&U(),i.draggableDirection==="x"?h.delta=O.clientX-h.start:h.delta=O.clientY-h.start,h.start!==O.clientX&&(h.canCloseOnClick=!1);let A=i.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;S.style.transform=`translate3d(${A},0)`,S.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function re(){G();let O=u.current;if(h.canDrag&&h.didMove&&O){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){o(!0),i.closeToast(!0),i.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let he={onPointerDown:P,onPointerUp:K};return d&&p&&(he.onMouseEnter=U,i.stacked||(he.onMouseLeave=k)),b&&(he.onClick=O=>{E&&E(O),h.canCloseOnClick&&g(!0)}),{playToast:k,pauseToast:U,isRunning:e,preventExitTransition:s,toastRef:u,eventHandlers:he}}var YP=typeof window<"u"?H.useLayoutEffect:H.useEffect,Ef=({theme:i,type:e,isLoading:t,...s})=>nt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function XP(i){return nt.createElement(Ef,{...i},nt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function WP(i){return nt.createElement(Ef,{...i},nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function ZP(i){return nt.createElement(Ef,{...i},nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function JP(i){return nt.createElement(Ef,{...i},nt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function eV(){return nt.createElement("div",{className:"Toastify__spinner"})}var wp={info:WP,warning:XP,success:ZP,error:JP,spinner:eV},tV=i=>i in wp;function nV({theme:i,type:e,isLoading:t,icon:s}){let o=null,u={theme:i,type:e};return s===!1||(dr(s)?o=s({...u,isLoading:t}):H.isValidElement(s)?o=H.cloneElement(s,u):t?o=wp.spinner():tV(e)&&(o=wp[e](u))),o}var iV=i=>{let{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:u}=QP(i),{closeButton:h,children:d,autoClose:p,onClick:g,type:E,hideProgressBar:b,closeToast:R,transition:x,position:P,className:K,style:k,progressClassName:U,updateId:$,role:G,progress:te,rtl:re,toastId:he,deleteToast:O,isIn:S,isLoading:A,closeOnClick:D,theme:M,ariaLabel:z}=i,N=ra("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":re},{"Toastify__toast--close-on-click":D}),We=dr(K)?K({rtl:re,position:P,type:E,defaultClassName:N}):ra(N,K),et=nV(i),ae=!!te||!p,_e={closeToast:R,type:E,theme:M},de=null;return h===!1||(dr(h)?de=h(_e):H.isValidElement(h)?de=H.cloneElement(h,_e):de=xP(_e)),nt.createElement(x,{isIn:S,done:O,position:P,preventExitTransition:t,nodeRef:s,playToast:u},nt.createElement("div",{id:he,tabIndex:0,onClick:g,"data-in":S,className:We,...o,style:k,ref:s,...S&&{role:G,"aria-label":z}},et!=null&&nt.createElement("div",{className:ra("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},et),OA(d,i,!e),de,!i.customProgressBar&&nt.createElement(kP,{...$&&!ae?{key:`p-${$}`}:{},rtl:re,theme:M,delay:p,isRunning:e,isIn:S,closeToast:R,hide:b,type:E,className:U,controlledProgress:ae,progress:te||0})))},rV=(i,e=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:e}),sV=OP(rV("bounce",!0)),aV={position:"top-right",transition:sV,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function LA(i){let e={...aV,...i},t=i.stacked,[s,o]=H.useState(!0),u=H.useRef(null),{getToastToRender:h,isToastActive:d,count:p}=KP(e),{className:g,style:E,rtl:b,containerId:R,hotKeys:x}=e;function P(k){let U=ra("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":b});return dr(g)?g({position:k,rtl:b,defaultClassName:U}):ra(U,Ep(g))}function K(){t&&(o(!0),je.play())}return YP(()=>{var k;if(t){let U=u.current.querySelectorAll('[data-in="true"]'),$=12,G=(k=e.position)==null?void 0:k.includes("top"),te=0,re=0;Array.from(U).reverse().forEach((he,O)=>{let S=he;S.classList.add("Toastify__toast--stacked"),O>0&&(S.dataset.collapsed=`${s}`),S.dataset.pos||(S.dataset.pos=G?"top":"bot");let A=te*(s?.2:1)+(s?0:$*O);S.style.setProperty("--y",`${G?A:A*-1}px`),S.style.setProperty("--g",`${$}`),S.style.setProperty("--s",`${1-(s?re:0)}`),te+=S.offsetHeight,re+=.025})}},[s,p,t]),H.useEffect(()=>{function k(U){var $;let G=u.current;x(U)&&(($=G.querySelector('[tabIndex="0"]'))==null||$.focus(),o(!1),je.pause()),U.key==="Escape"&&(document.activeElement===G||G!=null&&G.contains(document.activeElement))&&(o(!0),je.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[x]),nt.createElement("section",{ref:u,className:"Toastify",id:R,onMouseEnter:()=>{t&&(o(!1),je.pause())},onMouseLeave:K,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},h((k,U)=>{let $=U.length?{...E}:{...E,pointerEvents:"none"};return nt.createElement("div",{tabIndex:-1,className:P(k),"data-stacked":t,style:$,key:`c-${k}`},U.map(({content:G,props:te})=>nt.createElement(iV,{...te,stacked:t,collapseAll:K,isIn:d(te.toastId,te.containerId),key:`t-${te.key}`},G)))}))}const oV=()=>{const[i,e]=H.useState("organizer"),[t,s]=H.useState(""),[o,u]=H.useState(""),h=Rp(),d=g=>{e(g),s(""),u("")},p=async g=>{g.preventDefault();try{const b=(await TD(Oo,t,o)).user;await aA(ha(ss,i==="organizer"?"Organizers":"Sponsors",b.uid),{email:b.email,userType:i,createdAt:new Date}),je.success("User registered successfully!",{position:"top-center"}),h("/createprofile")}catch(E){console.error("Error during registration:",E),E.code==="auth/email-already-in-use"?je.error("Email already in use. Try logging in instead.",{position:"top-center"}):E.code==="auth/weak-password"?je.error("Password should be at least 6 characters.",{position:"top-center"}):je.error("Registration failed. Please try again.",{position:"top-center"})}};return I.jsxs("div",{className:"SignUp",children:[I.jsxs("div",{className:"login-container",children:[I.jsxs("div",{className:"user-selection",children:[I.jsx("button",{className:i==="organizer"?"active":"",onClick:()=>d("organizer"),children:"Event Organizer"}),I.jsx("button",{className:i==="sponsor"?"active":"",onClick:()=>d("sponsor"),children:"Sponsor"})]}),I.jsxs("div",{className:"form-section active",children:[I.jsx("h1",{children:"Welcome!"}),I.jsx("p",{className:"subtitle",children:i==="organizer"?"Let's get your next big event the perfect sponsor.":"Discover the perfect events to showcase your brand."}),I.jsxs("form",{onSubmit:p,children:[I.jsxs("div",{className:"form-control",children:[I.jsx("label",{htmlFor:"email",children:"Email or phone number"}),I.jsx("input",{type:"email",id:"email",value:t,onChange:g=>s(g.target.value),placeholder:"Enter your email address",required:!0})]}),I.jsxs("div",{className:"form-control",children:[I.jsx("label",{htmlFor:"password",children:"Password"}),I.jsx("input",{type:"password",id:"password",value:o,onChange:g=>u(g.target.value),placeholder:"Enter your password",required:!0}),I.jsx("div",{className:"password-container",children:I.jsx("a",{href:"#",children:"Forgot password?"})})]}),I.jsx("p",{className:"terms",children:"By clicking Agree & Join, you agree to the Eventure User Agreement, Privacy Policy, and Cookie Policy."}),I.jsx("button",{type:"submit",className:"submit-btn",children:"Agree & Join"})]})]}),I.jsxs("p",{className:"footer-signup",children:["Already on Eventure? ",I.jsx(Qh,{to:"/Signin",children:"Sign in"})]})]}),I.jsx(LA,{})]})},lV=()=>{const[i,e]=H.useState("organizer"),[t,s]=H.useState("https://via.placeholder.com/100"),[o,u]=H.useState("https://via.placeholder.com/100"),[h,d]=H.useState(""),[p,g]=H.useState(""),[E,b]=H.useState(""),[R,x]=H.useState(""),[P,K]=H.useState(""),[k,U]=H.useState(""),[$,G]=H.useState(""),[te,re]=H.useState(""),he=A=>{e(A)},O=async(A,D)=>{const M=D.target.files[0];if(!M){alert("No file selected.");return}const z=new FileReader;z.onloadend=()=>A(z.result),z.readAsDataURL(M);const N=Oo.currentUser;if(!N){alert("Please log in to upload an image.");return}try{const We=CA(DA,`profileImages/${N.uid}_${Date.now()}`);await RA(We,M);const et=await IA(We);A(et)}catch(We){console.error("Error uploading image:",We),alert("Failed to upload image. Please try again.")}},S=async A=>{A.preventDefault();const D=Oo.currentUser;if(!D){alert("Please log in to create your profile.");return}const M={email:h,contactNumber:p,organizationName:E,aboutorganization:R,organizationType:P,location:k,website:$,profileImage:i==="organizer"?t:o,...i==="sponsor"&&{previouslySponsoredEvents:te}};try{await aA(ha(ss,i==="organizer"?"Organizers":"Sponsors",D.uid),M),alert("Profile created successfully!"),window.location.href="/SignIn"}catch(z){console.error("Error creating profile:",z),alert("Failed to create profile. Please try again.")}};return I.jsx("div",{className:"create-profile",children:I.jsxs("div",{className:"profile-container",children:[I.jsx("div",{className:"head",children:I.jsx("h1",{children:"Complete your profile to connect and unlock the best opportunities tailored just for you!"})}),I.jsxs("div",{className:"profile-user-selection",children:[I.jsx("button",{className:`toggle-btn ${i==="organizer"?"active":""}`,onClick:()=>he("organizer"),children:"Event Organizer"}),I.jsx("button",{className:`toggle-btn ${i==="sponsor"?"active":""}`,onClick:()=>he("sponsor"),children:"Sponsor"})]}),I.jsx("div",{className:"form-container",children:I.jsxs("form",{onSubmit:S,children:[I.jsxs("div",{className:"profile-picture",children:[I.jsx("img",{src:i==="organizer"?t:o,alt:"Profile"}),I.jsx("input",{type:"file",accept:"image/*",onChange:A=>O(i==="organizer"?s:u,A)})]}),I.jsxs("div",{className:"form-control",children:[I.jsx("label",{children:"Email Address"}),I.jsx("input",{type:"email",placeholder:"Enter your email",value:h,onChange:A=>d(A.target.value),required:!0})]}),I.jsxs("div",{className:"form-control",children:[I.jsx("label",{children:"Contact Number"}),I.jsx("input",{type:"text",placeholder:"Enter your contact number",value:p,onChange:A=>g(A.target.value),required:!0})]}),I.jsxs("div",{className:"form-control",children:[I.jsx("label",{children:"Name of the Organization"}),I.jsx("input",{type:"text",placeholder:"Enter your organization name",value:E,onChange:A=>b(A.target.value),required:!0})]}),I.jsxs("div",{className:"form-control",children:[I.jsx("label",{children:"Organization Type"}),I.jsxs("select",{value:P,onChange:A=>K(A.target.value),required:!0,children:[I.jsx("option",{value:"",disabled:!0,children:"Select type"}),I.jsx("option",{value:"corporate",children:"Corporate"}),I.jsx("option",{value:"non-profit",children:"Non-Profit"}),I.jsx("option",{value:"educational",children:"Educational"})]})]}),I.jsxs("div",{className:"form-control",children:[I.jsx("label",{children:"Location"}),I.jsx("input",{type:"text",placeholder:"Enter your location",value:k,onChange:A=>U(A.target.value),required:!0})]}),I.jsxs("div",{className:"form-control",children:[I.jsx("label",{children:"About the Organization"}),I.jsx("textarea",{placeholder:"Give a short description of your organization",value:R,onChange:A=>x(A.target.value),required:!0})]}),i==="organizer"&&I.jsxs("div",{className:"form-control",children:[I.jsx("label",{children:"Website/Social Media Links"}),I.jsx("input",{type:"text",placeholder:"Enter your links",value:$,onChange:A=>G(A.target.value)})]}),i==="sponsor"&&I.jsxs("div",{className:"form-control",children:[I.jsx("label",{children:"Previously Sponsored Events"}),I.jsx("textarea",{placeholder:"List the events you have sponsored",value:te,onChange:A=>re(A.target.value)})]}),I.jsx("button",{type:"submit",className:"submit-btn",children:"Create Profile"})]})})]})})},uV=()=>{const[i,e]=H.useState(""),[t,s]=H.useState(""),o=async u=>{u.preventDefault();try{await bD(Oo,i,t),je.success("User logged in successfully!"),window.location.href="/homepage"}catch(h){je.error("Login failed. Please check your credentials."),console.error(h)}};return I.jsxs("div",{className:"signin-container",children:[I.jsx("h1",{className:"heading1",children:"EVENTURE"}),I.jsx("h2",{className:"heading2",children:"Sign In"}),I.jsxs("form",{onSubmit:o,children:[I.jsxs("div",{className:"form-control",children:[I.jsx("label",{htmlFor:"email",children:"Email or phone number"}),I.jsx("input",{type:"email",id:"email",placeholder:"Enter your email address",value:i,onChange:u=>e(u.target.value),required:!0})]}),I.jsxs("div",{className:"form-control",children:[I.jsx("label",{htmlFor:"password",children:"Password"}),I.jsx("input",{type:"password",id:"password",placeholder:"Enter your password",value:t,onChange:u=>s(u.target.value),required:!0}),I.jsx("div",{className:"password-container-signin",children:I.jsx("a",{href:"#",children:"Forgot password?"})})]}),I.jsx("button",{type:"submit",className:"button-signin",children:"Sign in"})]}),I.jsxs("p",{className:"footer-signin",children:["New to Eventure? ",I.jsx(Qh,{to:"/signup",children:"Join now"})]}),I.jsx(LA,{position:"top-center",autoClose:3e3})]})},cV=()=>I.jsx("div",{className:"loading-spinner",children:I.jsx("div",{className:"spinner"})}),hh=({title:i,content:e})=>I.jsxs("section",{className:"profile-section",children:[I.jsx("h2",{children:i}),I.jsx("p",{children:e})]}),hV=()=>{const[i,e]=H.useState(null),[t,s]=H.useState(null),[o,u]=H.useState(!0),[h,d]=H.useState("");H.useEffect(()=>{const g=GT(Oo,E=>{E?(e(E),p(E.uid)):(e(null),s(null),u(!1))});return()=>g()},[]);const p=async g=>{u(!0),d("");try{const E=await Gh(ha(ss,"Organizers",g)),b=await Gh(ha(ss,"Sponsors",g));E.exists()?s({...E.data(),userType:"Organizer"}):b.exists()?s({...b.data(),userType:"Sponsor"}):d("No profile data found.")}catch(E){console.error("Error fetching profile data:",E),d("Failed to fetch profile data. Please try again.")}finally{u(!1)}};return o?I.jsx(cV,{}):h?I.jsx("p",{className:"error-message",children:h}):i?t?I.jsxs("div",{className:"profile-page",children:[I.jsxs("div",{className:"profile-header",children:[I.jsx("img",{src:t.profileImage||"https://via.placeholder.com/150",alt:"Profile",className:"profile-image"}),I.jsxs("div",{className:"profile-details",children:[I.jsx("h1",{children:t.organizationName}),I.jsxs("p",{className:"profile-type",children:[t.userType," - ",t.organizationType]}),I.jsx("p",{className:"profile-location",children:t.location})]})]}),I.jsxs("div",{className:"profile-body",children:[I.jsx(hh,{title:"About",content:t.aboutorganization}),t.userType==="Sponsor"&&I.jsx(hh,{title:"Previously Sponsored Events",content:t.previouslySponsoredEvents||"No events sponsored yet."}),t.website&&I.jsx(hh,{title:"Website / Social Media",content:I.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",children:t.website})}),I.jsx(hh,{title:"Contact Information",content:I.jsxs(I.Fragment,{children:[I.jsxs("p",{children:["Email: ",t.email]}),I.jsxs("p",{children:["Phone: ",t.contactNumber]})]})})]})]}):I.jsx("p",{className:"no-data-message",children:"No profile data available."}):I.jsx("p",{className:"no-data-message",children:"Please log in to view your profile."})},fV=()=>{const[i,e]=H.useState(null),[t,s]=H.useState(null),[o,u]=H.useState([]),[h,d]=H.useState(""),[p,g]=H.useState(null),[E,b]=H.useState(!1);H.useEffect(()=>{const k=GT(Oo,async U=>{e(U),U&&await R(U.uid)});return()=>k()},[]),H.useEffect(()=>{x()},[]);const R=async k=>{try{const U=await Gh(ha(ss,"Organizers",k)),$=await Gh(ha(ss,"Sponsors",k));U.exists()?s({organizationName:U.data().organizationName,profileImage:U.data().profileImage}):$.exists()?s({organizationName:$.data().organizationName,profileImage:$.data().profileImage}):s({organizationName:"Anonymous",profileImage:null})}catch(U){console.error("Error fetching profile data:",U)}},x=()=>{const k=lM(DE(ss,"Posts"),uM("createdAt","desc"));mM(k,U=>{const $=U.docs.map(G=>({id:G.id,...G.data()}));u($)})},P=async k=>{try{const U=CA(DA,`posts/${i.uid}/${Date.now()}_${k.name}`);return await RA(U,k),await IA(U)}catch(U){return console.error("Image upload failed:",U),null}},K=async k=>{if(k.preventDefault(),b(!0),!h.trim()&&!p){alert("Post content or image is required."),b(!1);return}try{let U=null;p&&(U=await P(p));const $={authorId:i.uid,authorName:(t==null?void 0:t.organizationName)||"Anonymous",authorProfileImage:(t==null?void 0:t.profileImage)||"https://via.placeholder.com/150",content:h,image:U,createdAt:new Date().toISOString()};await dM(DE(ss,"Posts"),$),d(""),g(null)}catch(U){console.error("Error creating post:",U),alert("Failed to create post.")}finally{b(!1)}};return i?I.jsxs("div",{className:"homepage",children:[I.jsxs("nav",{className:"navbar",children:[I.jsx("div",{className:"navbar-logo",children:I.jsx("h1",{children:"Eventure"})}),I.jsxs("div",{className:"navbar-links",children:[I.jsx("a",{href:"#home",children:"Home"}),I.jsx("a",{href:"/profilepage",children:"Profile"}),I.jsx("a",{href:"#settings",children:"Settings"}),I.jsx("a",{href:"/SignIn",children:"Logout"})]})]}),I.jsx("div",{className:"create-post-section",children:I.jsxs("form",{onSubmit:K,className:"create-post-form",children:[I.jsx("textarea",{placeholder:"What's on your mind?",value:h,onChange:k=>d(k.target.value)}),I.jsx("input",{type:"file",accept:"image/*",onChange:k=>{const U=k.target.files[0];U&&g(U)}}),I.jsx("button",{type:"submit",disabled:E,children:E?"Posting...":"Post"})]})}),I.jsx("div",{className:"posts-section",children:o.map(k=>I.jsxs("div",{className:"post-card",children:[I.jsxs("div",{className:"post-header",children:[I.jsx("img",{src:k.authorProfileImage&&k.authorProfileImage.trim()!==""?k.authorProfileImage:"https://via.placeholder.com/150",alt:"Author",className:"profile-image",onError:U=>U.target.src="https://via.placeholder.com/150"}),I.jsxs("div",{children:[I.jsx("h4",{children:k.authorName||"Anonymous"}),I.jsx("p",{children:new Date(k.createdAt).toLocaleString()})]})]}),I.jsx("p",{children:k.content}),k.image&&I.jsx("img",{src:k.image,alt:"Post",className:"post-image",onError:U=>U.target.style.display="none"})]},k.id))})]}):I.jsx("p",{children:"Please log in to view the homepage."})};function dV(){return I.jsx(I.Fragment,{children:I.jsx(O1,{basename:"/Eventure",children:I.jsxs(l1,{children:[I.jsx(Js,{path:"/",element:I.jsx(F1,{})}),I.jsx(Js,{path:"/signup",element:I.jsx(oV,{})}),I.jsx(Js,{path:"/signin",element:I.jsx(uV,{})}),I.jsx(Js,{path:"/createprofile",element:I.jsx(lV,{})}),I.jsx(Js,{path:"/profilepage",element:I.jsx(hV,{})}),I.jsx(Js,{path:"/homepage",element:I.jsx(fV,{})})]})})})}_R.createRoot(document.getElementById("root")).render(I.jsx(H.StrictMode,{children:I.jsx(dV,{})}));
